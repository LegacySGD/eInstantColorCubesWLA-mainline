/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.11 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*!
* EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/

/*!
* PreloadJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/

/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */

/*!
* SoundJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/

/*!
* TweenJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/

!function(){var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var i;for(i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1);}}function eachReverse(e,t){if(e){var i;for(i=e.length-1;i>-1&&(!e[i]||!t(e[i],i,e));i-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var i;for(i in e)if(hasProp(e,i)&&t(e[i],i))break}function mixin(e,t,i,n){return t&&eachProp(t,function(t,s){(i||!hasProp(e,s))&&(!n||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[s]=t:(e[s]||(e[s]={}),mixin(e[s],t,i,n)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,i,n){var s=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return s.requireType=e,s.requireModules=n,i&&(s.originalError=i),s}function newContext(e){function t(e){var t,i,n=e.length;for(t=0;n>t;t++)if(i=e[t],"."===i)e.splice(t,1),t-=1;else if(".."===i){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function i(e,i,n){var s,r,a,o,c,l,u,h,d,p,f,g=i&&i.split("/"),_=g,m=T.map,v=m&&m["*"];if(e&&"."===e.charAt(0)&&(i?(_=g.slice(0,g.length-1),e=e.split("/"),u=e.length-1,T.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,"")),e=_.concat(e),t(e),e=e.join("/")):0===e.indexOf("./")&&(e=e.substring(2))),n&&m&&(g||v)){a=e.split("/");e:for(o=a.length;o>0;o-=1){if(l=a.slice(0,o).join("/"),g)for(c=g.length;c>0;c-=1)if(r=getOwn(m,g.slice(0,c).join("/")),r&&(r=getOwn(r,l))){h=r,d=o;break e}!p&&v&&getOwn(v,l)&&(p=getOwn(v,l),f=o)}!h&&p&&(h=p,d=f),h&&(a.splice(0,d,h),e=a.join("/"))}return s=getOwn(T.pkgs,e),s?s:e}function n(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===y.contextName?(t.parentNode.removeChild(t),!0):void 0})}function s(e){var t=getOwn(T.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),y.require.undef(e),y.require([e]),!0):void 0}function r(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function a(e,t,n,s){var a,o,c,l,u=null,h=t?t.name:null,d=e,p=!0,f="";return e||(p=!1,e="_@r"+(M+=1)),l=r(e),u=l[0],e=l[1],u&&(u=i(u,h,s),o=getOwn(x,u)),e&&(u?f=o&&o.normalize?o.normalize(e,function(e){return i(e,h,s)}):i(e,h,s):(f=i(e,h,s),l=r(f),u=l[0],f=l[1],n=!0,a=y.nameToUrl(f))),c=!u||o||n?"":"_unnormalized"+(I+=1),{prefix:u,name:f,parentMap:t,unnormalized:!!c,url:a,originalName:d,isDefine:p,id:(u?u+"!"+f:f)+c}}function o(e){var t=e.id,i=getOwn(j,t);return i||(i=j[t]=new y.Module(e)),i}function c(e,t,i){var n=e.id,s=getOwn(j,n);!hasProp(x,n)||s&&!s.defineEmitComplete?(s=o(e),s.error&&"error"===t?i(s.error):s.on(t,i)):"defined"===t&&i(x[n])}function l(e,t){var i=e.requireModules,n=!1;t?t(e):(each(i,function(t){var i=getOwn(j,t);i&&(i.error=e,i.events.error&&(n=!0,i.emit("error",e)))}),n||req.onError(e))}function u(){globalDefQueue.length&&(apsp.apply(A,[A.length,0].concat(globalDefQueue)),globalDefQueue=[])}function h(e){delete j[e],delete L[e]}function d(e,t,i){var n=e.map.id;e.error?e.emit("error",e.error):(t[n]=!0,each(e.depMaps,function(n,s){var r=n.id,a=getOwn(j,r);!a||e.depMatched[s]||i[r]||(getOwn(t,r)?(e.defineDep(s,x[r]),e.check()):d(a,t,i))}),i[n]=!0)}function p(){var e,t,i=1e3*T.waitSeconds,r=i&&y.startTime+i<(new Date).getTime(),a=[],o=[],c=!1,u=!0;if(!v){if(v=!0,eachProp(L,function(e){var i=e.map,l=i.id;if(e.enabled&&(i.isDefine||o.push(e),!e.error))if(!e.inited&&r)s(l)?(t=!0,c=!0):(a.push(l),n(l));else if(!e.inited&&e.fetched&&i.isDefine&&(c=!0,!i.prefix))return u=!1}),r&&a.length)return e=makeError("timeout","Load timeout for modules: "+a,null,a),e.contextName=y.contextName,l(e);u&&each(o,function(e){d(e,{},{})}),r&&!t||!c||!isBrowser&&!isWebWorker||E||(E=setTimeout(function(){E=0,p()},50)),v=!1}}function f(e){hasProp(x,e[0])||o(a(e[0],null,!0)).init(e[1],e[2])}function g(e,t,i,n){e.detachEvent&&!isOpera?n&&e.detachEvent(n,t):e.removeEventListener(i,t,!1)}function _(e){var t=e.currentTarget||e.srcElement;return g(t,y.onScriptLoad,"load","onreadystatechange"),g(t,y.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function m(){var e;for(u();A.length;){if(e=A.shift(),null===e[0])return l(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}}var v,b,y,w,E,T={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},j={},L={},S={},A=[],x={},P={},C={},M=1,I=1;return w={require:function(e){return e.require?e.require:e.require=y.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?x[e.map.id]=e.exports:e.exports=x[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(T.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},b=function(e){this.events=getOwn(S,e.id)||{},this.map=e,this.shim=getOwn(T.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,i,n){n=n||{},this.inited||(this.factory=t,i?this.on("error",i):this.events.error&&(i=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,y.startTime=(new Date).getTime();var e=this.map;return this.shim?void y.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;P[e]||(P[e]=!0,y.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,i=this.map.id,n=this.depExports,s=this.exports,r=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(r)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{s=y.execCb(i,r,n,s)}catch(a){e=a}else s=y.execCb(i,r,n,s);if(this.map.isDefine&&void 0===s&&(t=this.module,t?s=t.exports:this.usingExports&&(s=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else s=r;this.exports=s,this.map.isDefine&&!this.ignore&&(x[i]=s,req.onResourceLoad&&req.onResourceLoad(y,this.map,this.depMaps)),h(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,n=a(e.prefix);this.depMaps.push(n),c(n,"defined",bind(this,function(n){var s,r,u,d=getOwn(C,this.map.id),p=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,g=y.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(n.normalize&&(p=n.normalize(p,function(e){return i(e,f,!0)})||""),r=a(e.prefix+"!"+p,this.map.parentMap),c(r,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),u=getOwn(j,r.id),void(u&&(this.depMaps.push(r),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()))):d?(this.map.url=y.nameToUrl(d),void this.load()):(s=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),s.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(j,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&h(e.map.id)}),l(e)}),s.fromText=bind(this,function(i,n){var r=e.name,c=a(r),u=useInteractive;n&&(i=n),u&&(useInteractive=!1),o(c),hasProp(T.config,t)&&(T.config[r]=T.config[t]);try{req.exec(i)}catch(h){return l(makeError("fromtexteval","fromText eval for "+t+" failed: "+h,h,[t]))}u&&(useInteractive=!0),this.depMaps.push(c),y.completeLoad(r),g([r],s)}),void n.load(e.name,g,s,T))})),y.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){L[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var i,n,s;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,s=getOwn(w,e.id))return void(this.depExports[t]=s(this));this.depCount+=1,c(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&c(e,"error",bind(this,this.errback))}i=e.id,n=j[i],hasProp(w,i)||!n||n.enabled||y.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(j,e.id);t&&!t.enabled&&y.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var i=this.events[e];i||(i=this.events[e]=[]),i.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},y={config:T,contextName:e,registry:j,defined:x,urlFetched:P,defQueue:A,Module:b,makeModuleMap:a,nextTick:req.nextTick,onError:l,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=T.shim,i={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?(T[t]||(T[t]={}),mixin(T[t],e,!0,!0)):T[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(C[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,i){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=y.makeShimExports(e)),t[i]=e}),T.shim=t),e.packages&&each(e.packages,function(e){var t,i;e="string"==typeof e?{name:e}:e,i=e.name,t=e.location,t&&(T.paths[i]=e.location),T.pkgs[i]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(j,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t))}),(e.deps||e.callback)&&y.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,s){function r(i,n,c){var u,h,d;return s.enableBuildCallback&&n&&isFunction(n)&&(n.__requireJsBuild=!0),"string"==typeof i?isFunction(n)?l(makeError("requireargs","Invalid require call"),c):t&&hasProp(w,i)?w[i](j[t.id]):req.get?req.get(y,i,t,r):(h=a(i,t,!1,!0),u=h.id,hasProp(x,u)?x[u]:l(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(m(),y.nextTick(function(){m(),d=o(a(null,t)),d.skipMap=s.skipMap,d.init(i,n,c,{enabled:!0}),p()}),r)}return s=s||{},mixin(r,{isBrowser:isBrowser,toUrl:function(e){var n,s=e.lastIndexOf("."),r=e.split("/")[0],a="."===r||".."===r;return-1!==s&&(!a||s>1)&&(n=e.substring(s,e.length),e=e.substring(0,s)),y.nameToUrl(i(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(x,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(x,e)||hasProp(j,e)}}),t||(r.undef=function(e){u();var i=a(e,t,!0),s=getOwn(j,e);n(e),delete x[e],delete P[i.url],delete S[e],eachReverse(A,function(t,i){t[0]===e&&A.splice(i,1)}),s&&(s.events.defined&&(S[e]=s.events),h(e))}),r},enable:function(e){var t=getOwn(j,e.id);t&&o(e).enable()},completeLoad:function(e){var t,i,n,r=getOwn(T.shim,e)||{},a=r.exports;for(u();A.length;){if(i=A.shift(),null===i[0]){if(i[0]=e,t)break;t=!0}else i[0]===e&&(t=!0);f(i)}if(n=getOwn(j,e),!t&&!hasProp(x,e)&&n&&!n.inited){if(!(!T.enforceDefine||a&&getGlobal(a)))return s(e)?void 0:l(makeError("nodefine","No define call for "+e,null,[e]));f([e,r.deps||[],r.exportsFn])}p()},nameToUrl:function(e,t,i){var n,s,r,a,o,c,l,u=getOwn(T.pkgs,e);if(u&&(e=u),l=getOwn(C,e))return y.nameToUrl(l,t,i);if(req.jsExtRegExp.test(e))o=e+(t||"");else{for(n=T.paths,s=e.split("/"),r=s.length;r>0;r-=1)if(a=s.slice(0,r).join("/"),c=getOwn(n,a)){isArray(c)&&(c=c[0]),s.splice(0,r,c);break}o=s.join("/"),o+=t||(/^data\:|\?/.test(o)||i?"":".js"),o=("/"===o.charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":T.baseUrl)+o}return T.urlArgs?o+((-1===o.indexOf("?")?"?":"&")+T.urlArgs):o},load:function(e,t){req.load(y,e,t)},execCb:function(e,t,i,n){return t.apply(n,i)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=_(e);y.completeLoad(t.id)}},onScriptError:function(e){var t=_(e);return s(t.id)?void 0:l(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},y.require=y.makeRequire(),y}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.11",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,i,n){var s,r,a=defContextName;return isArray(e)||"string"==typeof e||(r=e,isArray(t)?(e=t,t=i,i=n):e=[]),r&&r.context&&(a=r.context),s=getOwn(contexts,a),s||(s=contexts[a]=req.s.newContext(a)),r&&s.configure(r),s.require(e,t,i)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,i){var n=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return n.type=e.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n},req.load=function(e,t,i){var n,s=e&&e.config||{};if(isBrowser)return n=req.createNode(s,t,i),n.setAttribute("data-requirecontext",e.contextName),n.setAttribute("data-requiremodule",t),!n.attachEvent||n.attachEvent.toString&&n.attachEvent.toString().indexOf("[native code")<0||isOpera?(n.addEventListener("load",e.onScriptLoad,!1),n.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,n.attachEvent("onreadystatechange",e.onScriptLoad)),n.src=i,currentlyAddingScript=n,baseElement?head.insertBefore(n,baseElement):head.appendChild(n),currentlyAddingScript=null,n;if(isWebWorker)try{importScripts(i),e.completeLoad(t)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+i,r,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,i){var n,s;"string"!=typeof e&&(i=t,t=e,e=null),isArray(t)||(i=t,t=null),!t&&isFunction(i)&&(t=[],i.length&&(i.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,i){t.push(i)}),t=(1===i.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(n=currentlyAddingScript||getInteractiveScript(),n&&(e||(e=n.getAttribute("data-requiremodule")),s=contexts[n.getAttribute("data-requirecontext")])),(s?s.defQueue:globalDefQueue).push([e,t,i])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),require.config({paths:{easeljs:"lib/vendor/createjs/easel",tweenjs:"lib/vendor/createjs/tween",soundjs:"lib/vendor/createjs/sound",movieclipjs:"lib/vendor/createjs/movieclip",preloadjs:"lib/vendor/createjs/preload",createjs:"lib/vendor/createjs/create",Promise:"lib/vendor/es6-promise/es6-promise"},packages:[{name:"lodash",location:"lib/vendor/lodash"}],shim:{"es6-promise":{exports:"Promise"},easeljs:{exports:"createjs"},preloadjs:{deps:["easeljs"],exports:"createjs.PreloadJS"},soundjs:{deps:["easeljs"],exports:"createjs.SoundJS"},tweenjs:{deps:["easeljs"],exports:"createjs.Tween"},movieclipjs:{deps:["easeljs","tweenjs"],exports:"createjs.MovieClip"},createjs:{deps:["easeljs","preloadjs","soundjs","tweenjs","movieclipjs"],exports:"createjs"}}}),function(){"use strict";var e="ColorCubes",t={};window.game=window.game||{},window.game[e]=window.game[e]||{},window.game[e].lib=function(){},window.game[e].lib.Main=function(){},window.game[e].lib.Main.prototype.init=function(e){var t=this;require.config({baseUrl:e.urlGameFolder}),require(["lib/core/canvas","lib/core/bootstrap","lib/core/interfaces","game/loader"],function(i,n,s,r){n(e,function(n){t.canvas=i(e),t.loader=r(t.canvas,n),s("loader",t.loader),t.loader.draw(),window.gtk.jLottery.gamePreInited()})}),t.config=e},window.game[e].lib.Main.prototype.startAssetLoading=function(){var i=this;require(["lib/core/assets","lib/core/exit","lib/core/interfaces","game/main","createjs"],function(n,s,r,a,o){n(i.config,i.loader,function(){i.main=a(i.canvas,i.config,{formatCurrency:function(e,t){return window.gtk.jLottery.formatCurrency({amount:e,numberOfDecimalsToReturn:t})},playerWantsToMoveToMoneyGame:function(){window.gtk.jLottery.playerWantsToMoveToMoneyGame()},playerWantsToPlay:function(e,t){window.gtk.jLottery.playerWantsToPlay({price:e,spots:t})},playerWantsToRePlay:function(e,t){window.gtk.jLottery.playerWantsToRePlay({price:e,spots:t})},ticketResultHasBeenSeen:function(e,t){window.gtk.jLottery.ticketResultHasBeenSeen({tierPrizeShown:e,formattedAmountWonShown:this.formatCurrency(t,0).formattedAmount})},playerWantsToExit:function(){s(i,o),window.game[e]={},window.gtk.jLottery.playerWantsToExit()},revealDataSave:function(e){t.reveal=e?JSON.stringify(e):"",window.gtk.jLottery.revealDataSave({revealDataSave:t.reveal,wagerDataSave:t.wager})},wagerDataSave:function(e){t.wager=e?JSON.stringify(e):"",window.gtk.jLottery.revealDataSave({revealDataSave:t.reveal,wagerDataSave:t.wager})}}),r("game",i.main),window.gtk.jLottery.assetsLoadedAndGameReady(),i.loader.hide()})})},window.game[e].lib.Main.prototype.initialize=function(){this.main.initialize.apply(null,Array.prototype.slice.call(arguments))},window.game[e].lib.Main.prototype.reInitialize=function(){this.main.reInitialize.apply(null,Array.prototype.slice.call(arguments))},window.game[e].lib.Main.prototype.startUserInteraction=function(e){try{e.revealData=t.reveal=JSON.parse(e.revealData)}catch(i){e.revealData=t.reveal={}}try{e.wagerData=t.wager=JSON.parse(e.wagerData)}catch(i){e.wagerData=t.wager={}}this.main.startUserInteraction(e)},window.game[e].lib.Main.prototype.reStartUserInteraction=function(e){try{e.revealData=t.reveal=JSON.parse(e.revealData)}catch(i){e.revealData=t.reveal={}}this.main.reStartUserInteraction(e)},window.game[e].lib.Main.prototype.enterResultScreenState=function(){this.main.enterResultScreenState.apply(null,Array.prototype.slice.call(arguments))},window.game[e].lib.Main.prototype.updateBalance=function(){this.config.balanceDisplayInGame&&this.main.updateBalance&&this.main.updateBalance.apply(null,Array.prototype.slice.call(arguments))},window.game[e].lib.Main.prototype.error=function(e){var t=this;"00000"===e.errorCode&&require(["lib/core/exit","createjs"],function(e,i){e(t,i)}),this.main.error&&this.main.error.apply(null,Array.prototype.slice.call(arguments))},window.game[e].lib.Main.prototype.playingSessionTimeoutWarning=function(){this.main.warn&&this.main.warn.apply(null,Array.prototype.slice.call(arguments))}}(),define("game",function(){}),define("lib/core/canvas",[],function(){function e(e,t,i){function n(e,t,i,n,s){var r=i-e,a=n-t,o="translateX("+r/2+"px)",c="translateY("+a/2+"px)";s.style.transform=o+" "+c,s.style["-webkit-transform"]=o+" "+c,s.style["-moz-transform"]=o+" "+c,s.style["-ms-transform"]=o+" "+c}function s(){var t,s,r,a,c,l=e.width,u=e.height;l>u?(a=960,c=600,"LANDSCAPE"!==o&&window.dispatchEvent(new Event("deviceorientation"))):u>l&&(a=600,c=960,"PORTRAIT"!==o&&window.dispatchEvent(new Event("deviceorientation"))),t=a/c,r=u*t,s=u,r>l&&(r=l,s=l/t),i.setAttribute("width",a),i.setAttribute("height",c),i.style.width=r+"px",i.style.height=s+"px",n(r,s,l,u,i)}var r=e.width,a=e.height,o=r>a?"LANDSCAPE":"PORTRAIT";s(void 0)}return function(t){var i,n,s=document.getElementById(t.targetDivId),r=document.createElement("canvas");document.getElementById("loader");return s.innerHTML="",s.appendChild(r),s.style.webkitUserSelect="none",s.style.webkitTapHighlightColor="rgba(0,0,0,0)","desktop"===t.screenEnvironment&&(i=t.revealWidthToUse,n=t.revealHeightToUse,s.style.width=i+"px",s.style.height=n+"px"),"device"===t.screenEnvironment&&(i=window.innerWidth,n=window.innerHeight,s.style.width=i+"px",s.style.height=n+"px"),e({layouts:t.orientationSetBySite,environment:t.screenEnvironment,width:i,height:n},s,r),r}}),this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var i=e.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n){i[(t+="_")+"constructor"]=n.constructor;for(var s in n)i.hasOwnProperty(s)&&"function"==typeof n[s]&&(i[t+s]=n[s])}return e},this.createjs=this.createjs||{},createjs.indexOf=function(e,t){"use strict";for(var i=0,n=e.length;n>i;i++)if(t===e[i])return i;return-1},this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,i){var n;n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=n[e];return s&&this.removeEventListener(e,t,i),s=n[e],s?s.push(t):n[e]=[t],t},t.on=function(e,t,i,n,s,r){return t.handleEvent&&(i=i||t,t=t.handleEvent),i=i||this,this.addEventListener(e,function(e){t.call(i,e,s),n&&e.remove()},r)},t.removeEventListener=function(e,t,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[e];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==t){1==a?delete n[e]:s.splice(r,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e,t,i){if("string"==typeof e){var n=this._listeners;if(!(t||n&&n[e]))return!0;e=new createjs.Event(e,t,i)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(s){}if(e.bubbles&&this.parent){for(var r=this,a=[r];r.parent;)a.push(r=r.parent);var o,c=a.length;for(o=c-1;o>=0&&!e.propagationStopped;o--)a[o]._dispatchEvent(e,1+(0==o));for(o=1;c>o&&!e.propagationStopped;o++)a[o]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return!e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,i=this._captureListeners;return!!(t&&t[e]||i&&i[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var i,n=1==t?this._captureListeners:this._listeners;if(e&&n){var s=n[e.type];if(!s||!(i=s.length))return;try{e.currentTarget=this}catch(r){}try{e.eventPhase=t}catch(r){}e.removed=!1,s=s.slice();for(var a=0;i>a&&!e.immediatePropagationStopped;a++){var o=s[a];o.handleEvent?o.handleEvent(e):o(e),e.removed&&(this.off(e.type,o,1==t),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ticker cannot be instantiated."}e.RAF_SYNCHED="synched",e.RAF="raf",e.TIMEOUT="timeout",e.useRAF=!1,e.timingMode=null,e.maxDelta=0,e.paused=!1,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._addEventListener=e.addEventListener,e.addEventListener=function(){return!e._inited&&e.init(),e._addEventListener.apply(e,arguments)},e._inited=!1,e._startTime=0,e._pausedTime=0,e._ticks=0,e._pausedTicks=0,e._interval=50,e._lastTime=0,e._times=null,e._tickTimes=null,e._timerId=null,e._raf=!0,e.setInterval=function(t){e._interval=t,e._inited&&e._setupTick()},e.getInterval=function(){return e._interval},e.setFPS=function(t){e.setInterval(1e3/t)},e.getFPS=function(){return 1e3/e._interval};try{Object.defineProperties(e,{interval:{get:e.getInterval,set:e.setInterval},framerate:{get:e.getFPS,set:e.setFPS}})}catch(t){}e.init=function(){e._inited||(e._inited=!0,e._times=[],e._tickTimes=[],e._startTime=e._getTime(),e._times.push(e._lastTime=0),e.interval=e._interval)},e.reset=function(){if(e._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(e._timerId)}else clearTimeout(e._timerId);e.removeAllEventListeners("tick"),e._timerId=e._times=e._tickTimes=null,e._startTime=e._lastTime=e._ticks=0,e._inited=!1},e.getMeasuredTickTime=function(t){var i=0,n=e._tickTimes;if(!n||n.length<1)return-1;t=Math.min(n.length,t||0|e.getFPS());for(var s=0;t>s;s++)i+=n[s];return i/t},e.getMeasuredFPS=function(t){var i=e._times;return!i||i.length<2?-1:(t=Math.min(i.length-1,t||0|e.getFPS()),1e3/((i[0]-i[t])/t))},e.setPaused=function(t){e.paused=t},e.getPaused=function(){return e.paused},e.getTime=function(t){return e._startTime?e._getTime()-(t?e._pausedTime:0):-1},e.getEventTime=function(t){return e._startTime?(e._lastTime||e._startTime)-(t?e._pausedTime:0):-1},e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)},e._handleSynch=function(){e._timerId=null,e._setupTick(),e._getTime()-e._lastTime>=.97*(e._interval-1)&&e._tick()},e._handleRAF=function(){e._timerId=null,e._setupTick(),e._tick()},e._handleTimeout=function(){e._timerId=null,e._setupTick(),e._tick()},e._setupTick=function(){if(null==e._timerId){var t=e.timingMode||e.useRAF&&e.RAF_SYNCHED;if(t==e.RAF_SYNCHED||t==e.RAF){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(i)return e._timerId=i(t==e.RAF?e._handleRAF:e._handleSynch),void(e._raf=!0)}e._raf=!1,e._timerId=setTimeout(e._handleTimeout,e._interval)}},e._tick=function(){var t=e.paused,i=e._getTime(),n=i-e._lastTime;if(e._lastTime=i,e._ticks++,t&&(e._pausedTicks++,e._pausedTime+=n),e.hasEventListener("tick")){var s=new createjs.Event("tick"),r=e.maxDelta;s.delta=r&&n>r?r:n,s.paused=t,s.time=i,s.runTime=i-e._pausedTime,e.dispatchEvent(s)}for(e._tickTimes.unshift(e._getTime()-i);e._tickTimes.length>100;)e._tickTimes.pop();for(e._times.unshift(i);e._times.length>100;)e._times.pop()};var i=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);e._getTime=function(){return(i&&i.call(performance)||(new Date).getTime())-e._startTime},createjs.Ticker=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"UID cannot be instantiated"}e._nextID=0,e.get=function(){return e._nextID++},createjs.UID=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n,s,r,a,o,c,l,u){this.Event_constructor(e,t,i),this.stageX=n,this.stageY=s,this.rawX=null==c?n:c,this.rawY=null==l?s:l,this.nativeEvent=r,this.pointerID=a,this.primary=!!o,this.relatedTarget=u}var t=createjs.extend(e,createjs.Event);t._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},t._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},t._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(t,{localX:{get:t._get_localX},localY:{get:t._get_localY},isTouch:{get:t._get_isTouch}})}catch(i){}t.clone=function(){return new e(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},t.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n,s,r){this.setValues(e,t,i,n,s,r)}var t=e.prototype;e.DEG_TO_RAD=Math.PI/180,e.identity=null,t.setValues=function(e,t,i,n,s,r){return this.a=null==e?1:e,this.b=t||0,this.c=i||0,this.d=null==n?1:n,this.tx=s||0,this.ty=r||0,this},t.append=function(e,t,i,n,s,r){var a=this.a,o=this.b,c=this.c,l=this.d;return(1!=e||0!=t||0!=i||1!=n)&&(this.a=a*e+c*t,this.b=o*e+l*t,this.c=a*i+c*n,this.d=o*i+l*n),this.tx=a*s+c*r+this.tx,this.ty=o*s+l*r+this.ty,this},t.prepend=function(e,t,i,n,s,r){var a=this.a,o=this.c,c=this.tx;return this.a=e*a+i*this.b,this.b=t*a+n*this.b,this.c=e*o+i*this.d,this.d=t*o+n*this.d,this.tx=e*c+i*this.ty+s,this.ty=t*c+n*this.ty+r,this},t.appendMatrix=function(e){return this.append(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.prependMatrix=function(e){return this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.appendTransform=function(t,i,n,s,r,a,o,c,l){if(r%360)var u=r*e.DEG_TO_RAD,h=Math.cos(u),d=Math.sin(u);else h=1,d=0;return a||o?(a*=e.DEG_TO_RAD,o*=e.DEG_TO_RAD,this.append(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),t,i),this.append(h*n,d*n,-d*s,h*s,0,0)):this.append(h*n,d*n,-d*s,h*s,t,i),(c||l)&&(this.tx-=c*this.a+l*this.c,this.ty-=c*this.b+l*this.d),this},t.prependTransform=function(t,i,n,s,r,a,o,c,l){if(r%360)var u=r*e.DEG_TO_RAD,h=Math.cos(u),d=Math.sin(u);else h=1,d=0;return(c||l)&&(this.tx-=c,this.ty-=l),a||o?(a*=e.DEG_TO_RAD,o*=e.DEG_TO_RAD,this.prepend(h*n,d*n,-d*s,h*s,0,0),
this.prepend(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),t,i)):this.prepend(h*n,d*n,-d*s,h*s,t,i),this},t.rotate=function(t){t*=e.DEG_TO_RAD;var i=Math.cos(t),n=Math.sin(t),s=this.a,r=this.b;return this.a=s*i+this.c*n,this.b=r*i+this.d*n,this.c=-s*n+this.c*i,this.d=-r*n+this.d*i,this},t.skew=function(t,i){return t*=e.DEG_TO_RAD,i*=e.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(t),Math.cos(t),0,0),this},t.scale=function(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this},t.translate=function(e,t){return this.tx+=this.a*e+this.c*t,this.ty+=this.b*e+this.d*t,this},t.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},t.invert=function(){var e=this.a,t=this.b,i=this.c,n=this.d,s=this.tx,r=e*n-t*i;return this.a=n/r,this.b=-t/r,this.c=-i/r,this.d=e/r,this.tx=(i*this.ty-n*s)/r,this.ty=-(e*this.ty-t*s)/r,this},t.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},t.equals=function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},t.transformPoint=function(e,t,i){return i=i||{},i.x=e*this.a+t*this.c+this.tx,i.y=e*this.b+t*this.d+this.ty,i},t.decompose=function(t){null==t&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var i=Math.atan2(-this.c,this.d),n=Math.atan2(this.b,this.a),s=Math.abs(1-i/n);return 1e-5>s?(t.rotation=n/e.DEG_TO_RAD,this.a<0&&this.d>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=i/e.DEG_TO_RAD,t.skewY=n/e.DEG_TO_RAD),t},t.copy=function(e){return this.setValues(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.clone=function(){return new e(this.a,this.b,this.c,this.d,this.tx,this.ty)},t.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},e.identity=new e,createjs.Matrix2D=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n,s){this.setValues(e,t,i,n,s)}var t=e.prototype;t.setValues=function(e,t,i,n,s){return this.visible=null==e?!0:!!e,this.alpha=null==t?1:t,this.shadow=i,this.compositeOperation=n,this.matrix=s||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},t.append=function(e,t,i,n,s){return this.alpha*=t,this.shadow=i||this.shadow,this.compositeOperation=n||this.compositeOperation,this.visible=this.visible&&e,s&&this.matrix.appendMatrix(s),this},t.prepend=function(e,t,i,n,s){return this.alpha*=t,this.shadow=this.shadow||i,this.compositeOperation=this.compositeOperation||n,this.visible=this.visible&&e,s&&this.matrix.prependMatrix(s),this},t.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},t.clone=function(){return new e(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.setValues(e,t)}var t=e.prototype;t.setValues=function(e,t){return this.x=e||0,this.y=t||0,this},t.copy=function(e){return this.x=e.x,this.y=e.y,this},t.clone=function(){return new e(this.x,this.y)},t.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n){this.setValues(e,t,i,n)}var t=e.prototype;t.setValues=function(e,t,i,n){return this.x=e||0,this.y=t||0,this.width=i||0,this.height=n||0,this},t.extend=function(e,t,i,n){return i=i||0,n=n||0,e+i>this.x+this.width&&(this.width=e+i-this.x),t+n>this.y+this.height&&(this.height=t+n-this.y),e<this.x&&(this.width+=this.x-e,this.x=e),t<this.y&&(this.height+=this.y-t,this.y=t),this},t.pad=function(e,t,i,n){return this.x-=t,this.y-=e,this.width+=t+n,this.height+=e+i,this},t.copy=function(e){return this.setValues(e.x,e.y,e.width,e.height)},t.contains=function(e,t,i,n){return i=i||0,n=n||0,e>=this.x&&e+i<=this.x+this.width&&t>=this.y&&t+n<=this.y+this.height},t.union=function(e){return this.clone().extend(e.x,e.y,e.width,e.height)},t.intersection=function(t){var i=t.x,n=t.y,s=i+t.width,r=n+t.height;return this.x>i&&(i=this.x),this.y>n&&(n=this.y),this.x+this.width<s&&(s=this.x+this.width),this.y+this.height<r&&(r=this.y+this.height),i>=s||n>=r?null:new e(i,n,s-i,r-n)},t.intersects=function(e){return e.x<=this.x+this.width&&this.x<=e.x+e.width&&e.y<=this.y+this.height&&this.y<=e.y+e.height},t.isEmpty=function(){return this.width<=0||this.height<=0},t.clone=function(){return new e(this.x,this.y,this.width,this.height)},t.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n,s,r,a){e.addEventListener&&(this.target=e,this.overLabel=null==i?"over":i,this.outLabel=null==t?"out":t,this.downLabel=null==n?"down":n,this.play=s,this._isPressed=!1,this._isOver=!1,this._enabled=!1,e.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),r&&(a&&(r.actionsEnabled=!1,r.gotoAndStop&&r.gotoAndStop(a)),e.hitArea=r))}var t=e.prototype;t.setEnabled=function(e){if(e!=this._enabled){var t=this.target;this._enabled=e,e?(t.cursor="pointer",t.addEventListener("rollover",this),t.addEventListener("rollout",this),t.addEventListener("mousedown",this),t.addEventListener("pressup",this),t._reset&&(t.__reset=t._reset,t._reset=this._reset)):(t.cursor=null,t.removeEventListener("rollover",this),t.removeEventListener("rollout",this),t.removeEventListener("mousedown",this),t.removeEventListener("pressup",this),t.__reset&&(t._reset=t.__reset,delete t.__reset))}},t.getEnabled=function(){return this._enabled};try{Object.defineProperties(t,{enabled:{get:t.getEnabled,set:t.setEnabled}})}catch(i){}t.toString=function(){return"[ButtonHelper]"},t.handleEvent=function(e){var t,i=this.target,n=e.type;"mousedown"==n?(this._isPressed=!0,t=this.downLabel):"pressup"==n?(this._isPressed=!1,t=this._isOver?this.overLabel:this.outLabel):"rollover"==n?(this._isOver=!0,t=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,t=this._isPressed?this.overLabel:this.outLabel),this.play?i.gotoAndPlay&&i.gotoAndPlay(t):i.gotoAndStop&&i.gotoAndStop(t)},t._reset=function(){var e=this.paused;this.__reset(),this.paused=e},createjs.ButtonHelper=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n){this.color=e||"black",this.offsetX=t||0,this.offsetY=i||0,this.blur=n||0}var t=e.prototype;e.identity=new e("transparent",0,0,0),t.toString=function(){return"[Shadow]"},t.clone=function(){return new e(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(e)}var t=createjs.extend(e,createjs.EventDispatcher);t.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(t,{animations:{get:t.getAnimations}})}catch(i){}t.getNumFrames=function(e){if(null==e)return this._frames?this._frames.length:this._numFrames||0;var t=this._data[e];return null==t?0:t.frames.length},t.getAnimation=function(e){return this._data[e]},t.getFrame=function(e){var t;return this._frames&&(t=this._frames[e])?t:null},t.getFrameBounds=function(e,t){var i=this.getFrame(e);return i?(t||new createjs.Rectangle).setValues(-i.regX,-i.regY,i.rect.width,i.rect.height):null},t.toString=function(){return"[SpriteSheet]"},t.clone=function(){throw"SpriteSheet cannot be cloned."},t._parseData=function(e){var t,i,n,s;if(null!=e){if(this.framerate=e.framerate||0,e.images&&(i=e.images.length)>0)for(s=this._images=[],t=0;i>t;t++){var r=e.images[t];if("string"==typeof r){var a=r;r=document.createElement("img"),r.src=a}s.push(r),r.getContext||r.naturalWidth||(this._loadCount++,this.complete=!1,function(e){r.onload=function(){e._handleImageLoad()}}(this))}if(null==e.frames);else if(e.frames instanceof Array)for(this._frames=[],s=e.frames,t=0,i=s.length;i>t;t++){var o=s[t];this._frames.push({image:this._images[o[4]?o[4]:0],rect:new createjs.Rectangle(o[0],o[1],o[2],o[3]),regX:o[5]||0,regY:o[6]||0})}else n=e.frames,this._frameWidth=n.width,this._frameHeight=n.height,this._regX=n.regX||0,this._regY=n.regY||0,this._spacing=n.spacing||0,this._margin=n.margin||0,this._numFrames=n.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(n=e.animations)){this._data={};var c;for(c in n){var l={name:c},u=n[c];if("number"==typeof u)s=l.frames=[u];else if(u instanceof Array)if(1==u.length)l.frames=[u[0]];else for(l.speed=u[3],l.next=u[2],s=l.frames=[],t=u[0];t<=u[1];t++)s.push(t);else{l.speed=u.speed,l.next=u.next;var h=u.frames;s=l.frames="number"==typeof h?[h]:h.slice(0)}(l.next===!0||void 0===l.next)&&(l.next=c),(l.next===!1||s.length<2&&l.next==c)&&(l.next=null),l.speed||(l.speed=1),this._animations.push(c),this._data[c]=l}}}},t._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},t._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var e=this._numFrames||1e5,t=0,i=this._frameWidth,n=this._frameHeight,s=this._spacing,r=this._margin;e:for(var a=0,o=this._images;a<o.length;a++)for(var c=o[a],l=c.width,u=c.height,h=r;u-r-n>=h;){for(var d=r;l-r-i>=d;){if(t>=e)break e;t++,this._frames.push({image:c,rect:new createjs.Rectangle(d,h,i,n),regX:this._regX,regY:this._regY}),d+=i+s}h+=n+s}this._numFrames=t}},createjs.SpriteSheet=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var t=e.prototype,i=e;e.getRGB=function(e,t,i,n){return null!=e&&null==i&&(n=t,i=255&e,t=e>>8&255,e=e>>16&255),null==n?"rgb("+e+","+t+","+i+")":"rgba("+e+","+t+","+i+","+n+")"},e.getHSL=function(e,t,i,n){return null==n?"hsl("+e%360+","+t+"%,"+i+"%)":"hsla("+e%360+","+t+"%,"+i+"%,"+n+")"},e.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},e.STROKE_CAPS_MAP=["butt","round","square"],e.STROKE_JOINTS_MAP=["miter","round","bevel"];var n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(e._ctx=n.getContext("2d"),n.width=n.height=1),t.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(t,{instructions:{get:t.getInstructions}})}catch(s){}t.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},t.draw=function(e,t){this._updateInstructions();for(var i=this._instructions,n=this._storeIndex,s=i.length;s>n;n++)i[n].exec(e,t)},t.drawAsPath=function(e){this._updateInstructions();for(var t,i=this._instructions,n=this._storeIndex,s=i.length;s>n;n++)(t=i[n]).path!==!1&&t.exec(e)},t.moveTo=function(e,t){return this.append(new i.MoveTo(e,t),!0)},t.lineTo=function(e,t){return this.append(new i.LineTo(e,t))},t.arcTo=function(e,t,n,s,r){return this.append(new i.ArcTo(e,t,n,s,r))},t.arc=function(e,t,n,s,r,a){return this.append(new i.Arc(e,t,n,s,r,a))},t.quadraticCurveTo=function(e,t,n,s){return this.append(new i.QuadraticCurveTo(e,t,n,s))},t.bezierCurveTo=function(e,t,n,s,r,a){return this.append(new i.BezierCurveTo(e,t,n,s,r,a))},t.rect=function(e,t,n,s){return this.append(new i.Rect(e,t,n,s))},t.closePath=function(){return this._activeInstructions.length?this.append(new i.ClosePath):this},t.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},t.beginFill=function(e){return this._setFill(e?new i.Fill(e):null)},t.beginLinearGradientFill=function(e,t,n,s,r,a){return this._setFill((new i.Fill).linearGradient(e,t,n,s,r,a))},t.beginRadialGradientFill=function(e,t,n,s,r,a,o,c){return this._setFill((new i.Fill).radialGradient(e,t,n,s,r,a,o,c))},t.beginBitmapFill=function(e,t,n){return this._setFill(new i.Fill(null,n).bitmap(e,t))},t.endFill=function(){return this.beginFill()},t.setStrokeStyle=function(e,t,n,s,r){return this._updateInstructions(!0),this._strokeStyle=this.command=new i.StrokeStyle(e,t,n,s,r),this._stroke&&(this._stroke.ignoreScale=r),this._strokeIgnoreScale=r,this},t.setStrokeDash=function(e,t){return this._updateInstructions(!0),this._strokeDash=this.command=new i.StrokeDash(e,t),this},t.beginStroke=function(e){return this._setStroke(e?new i.Stroke(e):null)},t.beginLinearGradientStroke=function(e,t,n,s,r,a){return this._setStroke((new i.Stroke).linearGradient(e,t,n,s,r,a))},t.beginRadialGradientStroke=function(e,t,n,s,r,a,o,c){return this._setStroke((new i.Stroke).radialGradient(e,t,n,s,r,a,o,c))},t.beginBitmapStroke=function(e,t){return this._setStroke((new i.Stroke).bitmap(e,t))},t.endStroke=function(){return this.beginStroke()},t.curveTo=t.quadraticCurveTo,t.drawRect=t.rect,t.drawRoundRect=function(e,t,i,n,s){return this.drawRoundRectComplex(e,t,i,n,s,s,s,s)},t.drawRoundRectComplex=function(e,t,n,s,r,a,o,c){return this.append(new i.RoundRect(e,t,n,s,r,a,o,c))},t.drawCircle=function(e,t,n){return this.append(new i.Circle(e,t,n))},t.drawEllipse=function(e,t,n,s){return this.append(new i.Ellipse(e,t,n,s))},t.drawPolyStar=function(e,t,n,s,r,a){return this.append(new i.PolyStar(e,t,n,s,r,a))},t.append=function(e,t){return this._activeInstructions.push(e),this.command=e,t||(this._dirty=!0),this},t.decodePath=function(t){for(var i=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],n=[2,2,4,6,0],s=0,r=t.length,a=[],o=0,c=0,l=e.BASE_64;r>s;){var u=t.charAt(s),h=l[u],d=h>>3,p=i[d];if(!p||3&h)throw"bad path data (@"+s+"): "+u;var f=n[d];d||(o=c=0),a.length=0,s++;for(var g=(h>>2&1)+2,_=0;f>_;_++){var m=l[t.charAt(s)],v=m>>5?-1:1;m=(31&m)<<6|l[t.charAt(s+1)],3==g&&(m=m<<6|l[t.charAt(s+2)]),m=v*m/10,_%2?o=m+=o:c=m+=c,a[_]=m,s+=g}p.apply(this,a)}return this},t.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},t.unstore=function(){return this._storeIndex=0,this},t.clone=function(){var t=new e;return t.command=this.command,t._stroke=this._stroke,t._strokeStyle=this._strokeStyle,t._strokeDash=this._strokeDash,t._strokeIgnoreScale=this._strokeIgnoreScale,t._fill=this._fill,t._instructions=this._instructions.slice(),t._commitIndex=this._commitIndex,t._activeInstructions=this._activeInstructions.slice(),t._dirty=this._dirty,t._storeIndex=this._storeIndex,t},t.toString=function(){return"[Graphics]"},t.mt=t.moveTo,t.lt=t.lineTo,t.at=t.arcTo,t.bt=t.bezierCurveTo,t.qt=t.quadraticCurveTo,t.a=t.arc,t.r=t.rect,t.cp=t.closePath,t.c=t.clear,t.f=t.beginFill,t.lf=t.beginLinearGradientFill,t.rf=t.beginRadialGradientFill,t.bf=t.beginBitmapFill,t.ef=t.endFill,t.ss=t.setStrokeStyle,t.sd=t.setStrokeDash,t.s=t.beginStroke,t.ls=t.beginLinearGradientStroke,t.rs=t.beginRadialGradientStroke,t.bs=t.beginBitmapStroke,t.es=t.endStroke,t.dr=t.drawRect,t.rr=t.drawRoundRect,t.rc=t.drawRoundRectComplex,t.dc=t.drawCircle,t.de=t.drawEllipse,t.dp=t.drawPolyStar,t.p=t.decodePath,t._updateInstructions=function(t){var i=this._instructions,n=this._activeInstructions,s=this._commitIndex;if(this._dirty&&n.length){i.length=s,i.push(e.beginCmd);var r=n.length,a=i.length;i.length=a+r;for(var o=0;r>o;o++)i[o+a]=n[o];this._fill&&i.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,i.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,i.push(this._strokeStyle)),i.push(this._stroke)),this._dirty=!1}t&&(n.length=0,this._commitIndex=i.length)},t._setFill=function(e){return this._updateInstructions(!0),this.command=this._fill=e,this},t._setStroke=function(e){return this._updateInstructions(!0),(this.command=this._stroke=e)&&(e.ignoreScale=this._strokeIgnoreScale),this},(i.LineTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.lineTo(this.x,this.y)},(i.MoveTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.moveTo(this.x,this.y)},(i.ArcTo=function(e,t,i,n,s){this.x1=e,this.y1=t,this.x2=i,this.y2=n,this.radius=s}).prototype.exec=function(e){e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(i.Arc=function(e,t,i,n,s,r){this.x=e,this.y=t,this.radius=i,this.startAngle=n,this.endAngle=s,this.anticlockwise=!!r}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(i.QuadraticCurveTo=function(e,t,i,n){this.cpx=e,this.cpy=t,this.x=i,this.y=n}).prototype.exec=function(e){e.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(i.BezierCurveTo=function(e,t,i,n,s,r){this.cp1x=e,this.cp1y=t,this.cp2x=i,this.cp2y=n,this.x=s,this.y=r}).prototype.exec=function(e){e.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(i.Rect=function(e,t,i,n){this.x=e,this.y=t,this.w=i,this.h=n}).prototype.exec=function(e){e.rect(this.x,this.y,this.w,this.h)},(i.ClosePath=function(){}).prototype.exec=function(e){e.closePath()},(i.BeginPath=function(){}).prototype.exec=function(e){e.beginPath()},t=(i.Fill=function(e,t){this.style=e,this.matrix=t}).prototype,t.exec=function(e){if(this.style){e.fillStyle=this.style;var t=this.matrix;t&&(e.save(),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty)),e.fill(),t&&e.restore()}},t.linearGradient=function(t,i,n,s,r,a){for(var o=this.style=e._ctx.createLinearGradient(n,s,r,a),c=0,l=t.length;l>c;c++)o.addColorStop(i[c],t[c]);return o.props={colors:t,ratios:i,x0:n,y0:s,x1:r,y1:a,type:"linear"},this},t.radialGradient=function(t,i,n,s,r,a,o,c){for(var l=this.style=e._ctx.createRadialGradient(n,s,r,a,o,c),u=0,h=t.length;h>u;u++)l.addColorStop(i[u],t[u]);return l.props={colors:t,ratios:i,x0:n,y0:s,r0:r,x1:a,y1:o,r1:c,type:"radial"},this},t.bitmap=function(t,i){if(t.naturalWidth||t.getContext||t.readyState>=2){var n=this.style=e._ctx.createPattern(t,i||"");n.props={image:t,repetition:i,type:"bitmap"}}return this},t.path=!1,t=(i.Stroke=function(e,t){this.style=e,this.ignoreScale=t}).prototype,t.exec=function(e){this.style&&(e.strokeStyle=this.style,this.ignoreScale&&(e.save(),e.setTransform(1,0,0,1,0,0)),e.stroke(),this.ignoreScale&&e.restore())},t.linearGradient=i.Fill.prototype.linearGradient,t.radialGradient=i.Fill.prototype.radialGradient,t.bitmap=i.Fill.prototype.bitmap,t.path=!1,t=(i.StrokeStyle=function(e,t,i,n){this.width=e,this.caps=t,this.joints=i,this.miterLimit=n}).prototype,t.exec=function(t){t.lineWidth=null==this.width?"1":this.width,t.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:e.STROKE_CAPS_MAP[this.caps],t.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:e.STROKE_JOINTS_MAP[this.joints],t.miterLimit=null==this.miterLimit?"10":this.miterLimit},t.path=!1,(i.StrokeDash=function(e,t){this.segments=e,this.offset=t||0}).prototype.exec=function(e){e.setLineDash&&(e.setLineDash(this.segments||i.StrokeDash.EMPTY_SEGMENTS),e.lineDashOffset=this.offset||0)},i.StrokeDash.EMPTY_SEGMENTS=[],(i.RoundRect=function(e,t,i,n,s,r,a,o){this.x=e,this.y=t,this.w=i,this.h=n,this.radiusTL=s,this.radiusTR=r,this.radiusBR=a,this.radiusBL=o}).prototype.exec=function(e){var t=(l>c?c:l)/2,i=0,n=0,s=0,r=0,a=this.x,o=this.y,c=this.w,l=this.h,u=this.radiusTL,h=this.radiusTR,d=this.radiusBR,p=this.radiusBL;0>u&&(u*=i=-1),u>t&&(u=t),0>h&&(h*=n=-1),h>t&&(h=t),0>d&&(d*=s=-1),d>t&&(d=t),0>p&&(p*=r=-1),p>t&&(p=t),e.moveTo(a+c-h,o),e.arcTo(a+c+h*n,o-h*n,a+c,o+h,h),e.lineTo(a+c,o+l-d),e.arcTo(a+c+d*s,o+l+d*s,a+c-d,o+l,d),e.lineTo(a+p,o+l),e.arcTo(a-p*r,o+l+p*r,a,o+l-p,p),e.lineTo(a,o+u),e.arcTo(a-u*i,o-u*i,a+u,o,u),e.closePath()},(i.Circle=function(e,t,i){this.x=e,this.y=t,this.radius=i}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,0,2*Math.PI)},(i.Ellipse=function(e,t,i,n){this.x=e,this.y=t,this.w=i,this.h=n}).prototype.exec=function(e){var t=this.x,i=this.y,n=this.w,s=this.h,r=.5522848,a=n/2*r,o=s/2*r,c=t+n,l=i+s,u=t+n/2,h=i+s/2;e.moveTo(t,h),e.bezierCurveTo(t,h-o,u-a,i,u,i),e.bezierCurveTo(u+a,i,c,h-o,c,h),e.bezierCurveTo(c,h+o,u+a,l,u,l),e.bezierCurveTo(u-a,l,t,h+o,t,h)},(i.PolyStar=function(e,t,i,n,s,r){this.x=e,this.y=t,this.radius=i,this.sides=n,this.pointSize=s,this.angle=r}).prototype.exec=function(e){var t=this.x,i=this.y,n=this.radius,s=(this.angle||0)/180*Math.PI,r=this.sides,a=1-(this.pointSize||0),o=Math.PI/r;e.moveTo(t+Math.cos(s)*n,i+Math.sin(s)*n);for(var c=0;r>c;c++)s+=o,1!=a&&e.lineTo(t+Math.cos(s)*n*a,i+Math.sin(s)*n*a),s+=o,e.lineTo(t+Math.cos(s)*n,i+Math.sin(s)*n);e.closePath()},e.beginCmd=new i.BeginPath,createjs.Graphics=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null}var t=createjs.extend(e,createjs.EventDispatcher);e._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],e.suppressCrossDomainErrors=!1,e._snapToPixelEnabled=!1;var i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(e._hitTestCanvas=i,e._hitTestContext=i.getContext("2d"),i.width=i.height=1),e._nextCacheID=1,t.getStage=function(){for(var e=this,t=createjs.Stage;e.parent;)e=e.parent;return e instanceof t?e:null};try{Object.defineProperties(t,{stage:{get:t.getStage}})}catch(n){}t.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},t.draw=function(e,t){var i=this.cacheCanvas;if(t||!i)return!1;var n=this._cacheScale;return e.drawImage(i,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,i.width/n,i.height/n),!0},t.updateContext=function(t){var i=this,n=i.mask,s=i._props.matrix;n&&n.graphics&&!n.graphics.isEmpty()&&(n.getMatrix(s),t.transform(s.a,s.b,s.c,s.d,s.tx,s.ty),n.graphics.drawAsPath(t),t.clip(),s.invert(),t.transform(s.a,s.b,s.c,s.d,s.tx,s.ty)),this.getMatrix(s);var r=s.tx,a=s.ty;e._snapToPixelEnabled&&i.snapToPixel&&(r=r+(0>r?-.5:.5)|0,a=a+(0>a?-.5:.5)|0),t.transform(s.a,s.b,s.c,s.d,r,a),t.globalAlpha*=i.alpha,i.compositeOperation&&(t.globalCompositeOperation=i.compositeOperation),i.shadow&&this._applyShadow(t,i.shadow)},t.cache=function(e,t,i,n,s){s=s||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this._cacheWidth=i,this._cacheHeight=n,this._cacheOffsetX=e,this._cacheOffsetY=t,this._cacheScale=s,this.updateCache()},t.updateCache=function(t){var i=this.cacheCanvas;if(!i)throw"cache() must be called before updateCache()";var n=this._cacheScale,s=this._cacheOffsetX*n,r=this._cacheOffsetY*n,a=this._cacheWidth,o=this._cacheHeight,c=i.getContext("2d"),l=this._getFilterBounds();s+=this._filterOffsetX=l.x,r+=this._filterOffsetY=l.y,a=Math.ceil(a*n)+l.width,o=Math.ceil(o*n)+l.height,a!=i.width||o!=i.height?(i.width=a,i.height=o):t||c.clearRect(0,0,a+1,o+1),c.save(),c.globalCompositeOperation=t,c.setTransform(n,0,0,n,-s,-r),this.draw(c,!0),this._applyFilters(),c.restore(),this.cacheID=e._nextCacheID++},t.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},t.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},t.localToGlobal=function(e,t,i){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(e,t,i||new createjs.Point)},t.globalToLocal=function(e,t,i){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(e,t,i||new createjs.Point)},t.localToLocal=function(e,t,i,n){return n=this.localToGlobal(e,t,n),i.globalToLocal(n.x,n.y,n)},t.setTransform=function(e,t,i,n,s,r,a,o,c){return this.x=e||0,this.y=t||0,this.scaleX=null==i?1:i,this.scaleY=null==n?1:n,this.rotation=s||0,this.skewX=r||0,this.skewY=a||0,this.regX=o||0,this.regY=c||0,this},t.getMatrix=function(e){var t=this,i=e&&e.identity()||new createjs.Matrix2D;return t.transformMatrix?i.copy(t.transformMatrix):i.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY)},t.getConcatenatedMatrix=function(e){for(var t=this,i=this.getMatrix(e);t=t.parent;)i.prependMatrix(t.getMatrix(t._props.matrix));return i},t.getConcatenatedDisplayProps=function(e){e=e?e.identity():new createjs.DisplayProps;var t=this,i=t.getMatrix(e.matrix);do e.prepend(t.visible,t.alpha,t.shadow,t.compositeOperation),t!=this&&i.prependMatrix(t.getMatrix(t._props.matrix));while(t=t.parent);return e},t.hitTest=function(t,i){var n=e._hitTestContext;n.setTransform(1,0,0,1,-t,-i),this.draw(n);var s=this._testHit(n);return n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,2,2),s},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var e=this.cacheCanvas;if(e){var t=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,e.width/t,e.height/t)}return null},t.getTransformedBounds=function(){return this._getBounds()},t.setBounds=function(e,t,i,n){null==e&&(this._bounds=e),this._bounds=(this._bounds||new createjs.Rectangle).setValues(e,t,i,n)},t.clone=function(){return this._cloneProps(new e)},t.toString=function(){return"[DisplayObject (name="+this.name+")]"},t._cloneProps=function(e){return e.alpha=this.alpha,e.mouseEnabled=this.mouseEnabled,e.tickEnabled=this.tickEnabled,e.name=this.name,e.regX=this.regX,e.regY=this.regY,e.rotation=this.rotation,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.shadow=this.shadow,e.skewX=this.skewX,e.skewY=this.skewY,e.visible=this.visible,e.x=this.x,e.y=this.y,e.compositeOperation=this.compositeOperation,e.snapToPixel=this.snapToPixel,e.filters=null==this.filters?null:this.filters.slice(0),e.mask=this.mask,e.hitArea=this.hitArea,e.cursor=this.cursor,e._bounds=this._bounds,e},t._applyShadow=function(e,t){t=t||Shadow.identity,e.shadowColor=t.color,e.shadowOffsetX=t.offsetX,e.shadowOffsetY=t.offsetY,e.shadowBlur=t.blur},t._tick=function(e){var t=this._listeners;t&&t.tick&&(e.target=null,e.propagationStopped=e.immediatePropagationStopped=!1,this.dispatchEvent(e))},t._testHit=function(t){try{var i=t.getImageData(0,0,1,1).data[3]>1}catch(n){if(!e.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return i},t._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var e=this.filters.length,t=this.cacheCanvas.getContext("2d"),i=this.cacheCanvas.width,n=this.cacheCanvas.height,s=0;e>s;s++)this.filters[s].applyFilter(t,0,0,i,n)},t._getFilterBounds=function(e){var t,i=this.filters,n=this._rectangle.setValues(0,0,0,0);if(!i||!(t=i.length))return n;for(var s=0;t>s;s++){var r=this.filters[s];r.getBounds&&r.getBounds(n)}return n},t._getBounds=function(e,t){return this._transformBounds(this.getBounds(),e,t)},t._transformBounds=function(e,t,i){if(!e)return e;var n=e.x,s=e.y,r=e.width,a=e.height,o=this._props.matrix;o=i?o.identity():this.getMatrix(o),(n||s)&&o.appendTransform(0,0,1,1,0,0,0,-n,-s),t&&o.prependMatrix(t);var c=r*o.a,l=r*o.b,u=a*o.c,h=a*o.d,d=o.tx,p=o.ty,f=d,g=d,_=p,m=p;return(n=c+d)<f?f=n:n>g&&(g=n),(n=c+u+d)<f?f=n:n>g&&(g=n),(n=u+d)<f?f=n:n>g&&(g=n),(s=l+p)<_?_=s:s>m&&(m=s),(s=l+h+p)<_?_=s:s>m&&(m=s),(s=h+p)<_?_=s:s>m&&(m=s),e.setValues(f,_,g-f,m-_)},t._hasMouseEventListener=function(){for(var t=e._MOUSE_EVENTS,i=0,n=t.length;n>i;i++)if(this.hasEventListener(t[i]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var t=createjs.extend(e,createjs.DisplayObject);t.getNumChildren=function(){return this.children.length};try{Object.defineProperties(t,{numChildren:{get:t.getNumChildren}})}catch(i){}t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;for(var i=this.children.slice(),n=0,s=i.length;s>n;n++){var r=i[n];r.isVisible()&&(e.save(),r.updateContext(e),r.draw(e),e.restore())}return!0},t.addChild=function(e){if(null==e)return e;var t=arguments.length;if(t>1){for(var i=0;t>i;i++)this.addChild(arguments[i]);return arguments[t-1]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.push(e),e.dispatchEvent("added"),e},t.addChildAt=function(e,t){var i=arguments.length,n=arguments[i-1];if(0>n||n>this.children.length)return arguments[i-2];if(i>2){for(var s=0;i-1>s;s++)this.addChildAt(arguments[s],n+s);return arguments[i-2]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),e.dispatchEvent("added"),e},t.removeChild=function(e){var t=arguments.length;if(t>1){for(var i=!0,n=0;t>n;n++)i=i&&this.removeChild(arguments[n]);return i}return this.removeChildAt(createjs.indexOf(this.children,e))},t.removeChildAt=function(e){var t=arguments.length;if(t>1){for(var i=[],n=0;t>n;n++)i[n]=arguments[n];i.sort(function(e,t){return t-e});for(var s=!0,n=0;t>n;n++)s=s&&this.removeChildAt(i[n]);return s}if(0>e||e>this.children.length-1)return!1;var r=this.children[e];return r&&(r.parent=null),this.children.splice(e,1),r.dispatchEvent("removed"),!0},t.removeAllChildren=function(){for(var e=this.children;e.length;)this.removeChildAt(0)},t.getChildAt=function(e){return this.children[e]},t.getChildByName=function(e){for(var t=this.children,i=0,n=t.length;n>i;i++)if(t[i].name==e)return t[i];return null},t.sortChildren=function(e){this.children.sort(e)},t.getChildIndex=function(e){return createjs.indexOf(this.children,e)},t.swapChildrenAt=function(e,t){var i=this.children,n=i[e],s=i[t];n&&s&&(i[e]=s,i[t]=n)},t.swapChildren=function(e,t){for(var i,n,s=this.children,r=0,a=s.length;a>r&&(s[r]==e&&(i=r),s[r]==t&&(n=r),null==i||null==n);r++);r!=a&&(s[i]=t,s[n]=e)},t.setChildIndex=function(e,t){var i=this.children,n=i.length;if(!(e.parent!=this||0>t||t>=n)){for(var s=0;n>s&&i[s]!=e;s++);s!=n&&s!=t&&(i.splice(s,1),i.splice(t,0,e))}},t.contains=function(e){for(;e;){if(e==this)return!0;e=e.parent}return!1},t.hitTest=function(e,t){return null!=this.getObjectUnderPoint(e,t)},t.getObjectsUnderPoint=function(e,t,i){var n=[],s=this.localToGlobal(e,t);return this._getObjectsUnderPoint(s.x,s.y,n,i>0,1==i),n},t.getObjectUnderPoint=function(e,t,i){var n=this.localToGlobal(e,t);return this._getObjectsUnderPoint(n.x,n.y,null,i>0,1==i);
},t.getBounds=function(){return this._getBounds(null,!0)},t.getTransformedBounds=function(){return this._getBounds()},t.clone=function(t){var i=this._cloneProps(new e);return t&&this._cloneChildren(i),i},t.toString=function(){return"[Container (name="+this.name+")]"},t._tick=function(e){if(this.tickChildren)for(var t=this.children.length-1;t>=0;t--){var i=this.children[t];i.tickEnabled&&i._tick&&i._tick(e)}this.DisplayObject__tick(e)},t._cloneChildren=function(e){e.children.length&&e.removeAllChildren();for(var t=e.children,i=0,n=this.children.length;n>i;i++){var s=this.children[i].clone(!0);s.parent=e,t.push(s)}},t._getObjectsUnderPoint=function(t,i,n,s,r,a){if(a=a||0,!a&&!this._testMask(this,t,i))return null;var o,c=createjs.DisplayObject._hitTestContext;r=r||s&&this._hasMouseEventListener();for(var l=this.children,u=l.length,h=u-1;h>=0;h--){var d=l[h],p=d.hitArea;if(d.visible&&(p||d.isVisible())&&(!s||d.mouseEnabled)&&(p||this._testMask(d,t,i)))if(!p&&d instanceof e){var f=d._getObjectsUnderPoint(t,i,n,s,r,a+1);if(!n&&f)return s&&!this.mouseChildren?this:f}else{if(s&&!r&&!d._hasMouseEventListener())continue;var g=d.getConcatenatedDisplayProps(d._props);if(o=g.matrix,p&&(o.appendMatrix(p.getMatrix(p._props.matrix)),g.alpha=p.alpha),c.globalAlpha=g.alpha,c.setTransform(o.a,o.b,o.c,o.d,o.tx-t,o.ty-i),(p||d).draw(c),!this._testHit(c))continue;if(c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,2,2),!n)return s&&!this.mouseChildren?this:d;n.push(d)}}return null},t._testMask=function(e,t,i){var n=e.mask;if(!n||!n.graphics||n.graphics.isEmpty())return!0;var s=this._props.matrix,r=e.parent;s=r?r.getConcatenatedMatrix(s):s.identity(),s=n.getMatrix(n._props.matrix).prependMatrix(s);var a=createjs.DisplayObject._hitTestContext;return a.setTransform(s.a,s.b,s.c,s.d,s.tx-t,s.ty-i),n.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),this._testHit(a)?(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0):!1},t._getBounds=function(e,t){var i=this.DisplayObject_getBounds();if(i)return this._transformBounds(i,e,t);var n=this._props.matrix;n=t?n.identity():this.getMatrix(n),e&&n.prependMatrix(e);for(var s=this.children.length,r=null,a=0;s>a;a++){var o=this.children[a];o.visible&&(i=o._getBounds(n))&&(r?r.extend(i.x,i.y,i.width,i.height):r=i.clone())}return r},createjs.Container=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof e?document.getElementById(e):e,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var t=createjs.extend(e,createjs.Container);t._get_nextStage=function(){return this._nextStage},t._set_nextStage=function(e){this._nextStage&&(this._nextStage._prevStage=null),e&&(e._prevStage=this),this._nextStage=e};try{Object.defineProperties(t,{nextStage:{get:t._get_nextStage,set:t._set_nextStage}})}catch(i){}t.update=function(e){if(this.canvas&&(this.tickOnUpdate&&this.tick(e),this.dispatchEvent("drawstart",!1,!0)!==!1)){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var t=this.drawRect,i=this.canvas.getContext("2d");i.setTransform(1,0,0,1,0,0),this.autoClear&&(t?i.clearRect(t.x,t.y,t.width,t.height):i.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),i.save(),this.drawRect&&(i.beginPath(),i.rect(t.x,t.y,t.width,t.height),i.clip()),this.updateContext(i),this.draw(i,!1),i.restore(),this.dispatchEvent("drawend")}},t.tick=function(e){if(this.tickEnabled&&this.dispatchEvent("tickstart",!1,!0)!==!1){var t=new createjs.Event("tick");if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);this._tick(t),this.dispatchEvent("tickend")}},t.handleEvent=function(e){"tick"==e.type&&this.update(e)},t.clear=function(){if(this.canvas){var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},t.toDataURL=function(e,t){var i,n=this.canvas.getContext("2d"),s=this.canvas.width,r=this.canvas.height;if(e){i=n.getImageData(0,0,s,r);var a=n.globalCompositeOperation;n.globalCompositeOperation="destination-over",n.fillStyle=e,n.fillRect(0,0,s,r)}var o=this.canvas.toDataURL(t||"image/png");return e&&(n.putImageData(i,0,0),n.globalCompositeOperation=a),o},t.enableMouseOver=function(e){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==e&&this._testMouseOver(!0)),null==e)e=20;else if(0>=e)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,e))},t.enableDOMEvents=function(e){null==e&&(e=!0);var t,i,n=this._eventListeners;if(!e&&n){for(t in n)i=n[t],i.t.removeEventListener(t,i.f,!1);this._eventListeners=null}else if(e&&!n&&this.canvas){var s=window.addEventListener?window:document,r=this;n=this._eventListeners={},n.mouseup={t:s,f:function(e){r._handleMouseUp(e)}},n.mousemove={t:s,f:function(e){r._handleMouseMove(e)}},n.dblclick={t:this.canvas,f:function(e){r._handleDoubleClick(e)}},n.mousedown={t:this.canvas,f:function(e){r._handleMouseDown(e)}};for(t in n)i=n[t],i.t.addEventListener(t,i.f,!1)}},t.clone=function(){throw"Stage cannot be cloned."},t.toString=function(){return"[Stage (name="+this.name+")]"},t._getElementRect=function(e){var t;try{t=e.getBoundingClientRect()}catch(i){t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var n=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),s=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),r=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle,a=parseInt(r.paddingLeft)+parseInt(r.borderLeftWidth),o=parseInt(r.paddingTop)+parseInt(r.borderTopWidth),c=parseInt(r.paddingRight)+parseInt(r.borderRightWidth),l=parseInt(r.paddingBottom)+parseInt(r.borderBottomWidth);return{left:t.left+n+a,right:t.right+n-c,top:t.top+s+o,bottom:t.bottom+s-l}},t._getPointerData=function(e){var t=this._pointerData[e];return t||(t=this._pointerData[e]={x:0,y:0}),t},t._handleMouseMove=function(e){e||(e=window.event),this._handlePointerMove(-1,e,e.pageX,e.pageY)},t._handlePointerMove=function(e,t,i,n,s){if((!this._prevStage||void 0!==s)&&this.canvas){var r=this._nextStage,a=this._getPointerData(e),o=a.inBounds;this._updatePointerPosition(e,t,i,n),(o||a.inBounds||this.mouseMoveOutside)&&(-1===e&&a.inBounds==!o&&this._dispatchMouseEvent(this,o?"mouseleave":"mouseenter",!1,e,a,t),this._dispatchMouseEvent(this,"stagemousemove",!1,e,a,t),this._dispatchMouseEvent(a.target,"pressmove",!0,e,a,t)),r&&r._handlePointerMove(e,t,i,n,null)}},t._updatePointerPosition=function(e,t,i,n){var s=this._getElementRect(this.canvas);i-=s.left,n-=s.top;var r=this.canvas.width,a=this.canvas.height;i/=(s.right-s.left)/r,n/=(s.bottom-s.top)/a;var o=this._getPointerData(e);(o.inBounds=i>=0&&n>=0&&r-1>=i&&a-1>=n)?(o.x=i,o.y=n):this.mouseMoveOutside&&(o.x=0>i?0:i>r-1?r-1:i,o.y=0>n?0:n>a-1?a-1:n),o.posEvtObj=t,o.rawX=i,o.rawY=n,(e===this._primaryPointerID||-1===e)&&(this.mouseX=o.x,this.mouseY=o.y,this.mouseInBounds=o.inBounds)},t._handleMouseUp=function(e){this._handlePointerUp(-1,e,!1)},t._handlePointerUp=function(e,t,i,n){var s=this._nextStage,r=this._getPointerData(e);if(!this._prevStage||void 0!==n){var a=null,o=r.target;n||!o&&!s||(a=this._getObjectsUnderPoint(r.x,r.y,null,!0)),r.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,e,r,t,a),r.down=!1),a==o&&this._dispatchMouseEvent(o,"click",!0,e,r,t),this._dispatchMouseEvent(o,"pressup",!0,e,r,t),i?(e==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[e]):r.target=null,s&&s._handlePointerUp(e,t,i,n||a&&this)}},t._handleMouseDown=function(e){this._handlePointerDown(-1,e,e.pageX,e.pageY)},t._handlePointerDown=function(e,t,i,n,s){this.preventSelection&&t.preventDefault(),(null==this._primaryPointerID||-1===e)&&(this._primaryPointerID=e),null!=n&&this._updatePointerPosition(e,t,i,n);var r=null,a=this._nextStage,o=this._getPointerData(e);s||(r=o.target=this._getObjectsUnderPoint(o.x,o.y,null,!0)),o.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,e,o,t,r),o.down=!0),this._dispatchMouseEvent(r,"mousedown",!0,e,o,t),a&&a._handlePointerDown(e,t,i,n,s||r&&this)},t._testMouseOver=function(e,t,i){if(!this._prevStage||void 0!==t){var n=this._nextStage;if(!this._mouseOverIntervalID)return void(n&&n._testMouseOver(e,t,i));var s=this._getPointerData(-1);if(s&&(e||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var r,a,o,c=s.posEvtObj,l=i||c&&c.target==this.canvas,u=null,h=-1,d="";!t&&(e||this.mouseInBounds&&l)&&(u=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var p=this._mouseOverTarget||[],f=p[p.length-1],g=this._mouseOverTarget=[];for(r=u;r;)g.unshift(r),d||(d=r.cursor),r=r.parent;for(this.canvas.style.cursor=d,!t&&i&&(i.canvas.style.cursor=d),a=0,o=g.length;o>a&&g[a]==p[a];a++)h=a;for(f!=u&&this._dispatchMouseEvent(f,"mouseout",!0,-1,s,c,u),a=p.length-1;a>h;a--)this._dispatchMouseEvent(p[a],"rollout",!1,-1,s,c,u);for(a=g.length-1;a>h;a--)this._dispatchMouseEvent(g[a],"rollover",!1,-1,s,c,f);f!=u&&this._dispatchMouseEvent(u,"mouseover",!0,-1,s,c,f),n&&n._testMouseOver(e,t||u&&this,i||l&&this)}}},t._handleDoubleClick=function(e,t){var i=null,n=this._nextStage,s=this._getPointerData(-1);t||(i=this._getObjectsUnderPoint(s.x,s.y,null,!0),this._dispatchMouseEvent(i,"dblclick",!0,-1,s,e)),n&&n._handleDoubleClick(e,t||i&&this)},t._dispatchMouseEvent=function(e,t,i,n,s,r,a){if(e&&(i||e.hasEventListener(t))){var o=new createjs.MouseEvent(t,i,!1,s.x,s.y,r,n,n===this._primaryPointerID||-1===n,s.rawX,s.rawY,a);e.dispatchEvent(o)}},createjs.Stage=createjs.promote(e,"Container")}(),this.createjs=this.createjs||{},function(){function e(e){this.DisplayObject_constructor(),"string"==typeof e?(this.image=document.createElement("img"),this.image.src=e):this.image=e,this.sourceRect=null}var t=createjs.extend(e,createjs.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.image,t=this.cacheCanvas||e&&(e.naturalWidth||e.getContext||e.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t)||!this.image)return!0;var i=this.image,n=this.sourceRect;if(n){var s=n.x,r=n.y,a=s+n.width,o=r+n.height,c=0,l=0,u=i.width,h=i.height;0>s&&(c-=s,s=0),a>u&&(a=u),0>r&&(l-=r,r=0),o>h&&(o=h),e.drawImage(i,s,r,a-s,o-r,c,l,a-s,o-r)}else e.drawImage(i,0,0);return!0},t.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;var t=this.image,i=this.sourceRect||t,n=t&&(t.naturalWidth||t.getContext||t.readyState>=2);return n?this._rectangle.setValues(0,0,i.width,i.height):null},t.clone=function(){var t=new e(this.image);return this.sourceRect&&(t.sourceRect=this.sourceRect.clone()),this._cloneProps(t),t},t.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=e,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=t&&this.gotoAndPlay(t)}var t=createjs.extend(e,createjs.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var i=this.spriteSheet.getFrame(0|this._currentFrame);if(!i)return!1;var n=i.rect;return n.width&&n.height&&e.drawImage(i.image,n.x,n.y,n.width,n.height,-i.regX,-i.regY,n.width,n.height),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._skipAdvance=!0,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(e){var t=this.framerate||this.spriteSheet.framerate,i=t&&null!=e?e/(1e3/t):1;this._normalizeFrame(i)},t.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},t.clone=function(){return this._cloneProps(new e(this.spriteSheet))},t.toString=function(){return"[Sprite (name="+this.name+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.currentFrame=this.currentFrame,e.currentAnimation=this.currentAnimation,e.paused=this.paused,e.currentAnimationFrame=this.currentAnimationFrame,e.framerate=this.framerate,e._animation=this._animation,e._currentFrame=this._currentFrame,e._skipAdvance=this._skipAdvance,e},t._tick=function(e){this.paused||(this._skipAdvance||this.advance(e&&e.delta),this._skipAdvance=!1),this.DisplayObject__tick(e)},t._normalizeFrame=function(e){e=e||0;var t,i=this._animation,n=this.paused,s=this._currentFrame;if(i){var r=i.speed||1,a=this.currentAnimationFrame;if(t=i.frames.length,a+e*r>=t){var o=i.next;if(this._dispatchAnimationEnd(i,s,n,o,t-1))return;if(o)return this._goto(o,e-(t-a)/r);this.paused=!0,a=i.frames.length-1}else a+=e*r;this.currentAnimationFrame=a,this._currentFrame=i.frames[0|a]}else if(s=this._currentFrame+=e,t=this.spriteSheet.getNumFrames(),s>=t&&t>0&&!this._dispatchAnimationEnd(i,s,n,t-1)&&(this._currentFrame-=t)>=t)return this._normalizeFrame();s=0|this._currentFrame,this.currentFrame!=s&&(this.currentFrame=s,this.dispatchEvent("change"))},t._dispatchAnimationEnd=function(e,t,i,n,s){var r=e?e.name:null;if(this.hasEventListener("animationend")){var a=new createjs.Event("animationend");a.name=r,a.next=n,this.dispatchEvent(a)}var o=this._animation!=e||this._currentFrame!=t;return o||i||!this.paused||(this.currentAnimationFrame=s,o=!0),o},t._goto=function(e,t){if(this.currentAnimationFrame=0,isNaN(e)){var i=this.spriteSheet.getAnimation(e);i&&(this._animation=i,this.currentAnimation=e,this._normalizeFrame(t))}else this.currentAnimation=this._animation=null,this._currentFrame=e,this._normalizeFrame()},createjs.Sprite=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.DisplayObject_constructor(),this.graphics=e?e:new createjs.Graphics}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){var e=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){return this.DisplayObject_draw(e,t)?!0:(this.graphics.draw(e,this),!0)},t.clone=function(t){var i=t&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new e(i))},t.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.DisplayObject_constructor(),this.text=e,this.font=t,this.color=i,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var t=createjs.extend(e,createjs.DisplayObject),i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(e._workingContext=i.getContext("2d"),i.width=i.height=1),e.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},e.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},t.isVisible=function(){var e=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var i=this.color||"#000";return this.outline?(e.strokeStyle=i,e.lineWidth=1*this.outline):e.fillStyle=i,this._drawText(this._prepContext(e)),!0},t.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},t.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},t.getMeasuredHeight=function(){return this._drawText(null,{}).height},t.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;if(null==this.text||""===this.text)return null;var i=this._drawText(null,{}),n=this.maxWidth&&this.maxWidth<i.width?this.maxWidth:i.width,s=n*e.H_OFFSETS[this.textAlign||"left"],r=this.lineHeight||this.getMeasuredLineHeight(),a=r*e.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(s,a,n,i.height)},t.getMetrics=function(){var t={lines:[]};return t.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),t.vOffset=t.lineHeight*e.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,t,t.lines)},t.clone=function(){return this._cloneProps(new e(this.text,this.font,this.color))},t.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.maxWidth=this.maxWidth,e.outline=this.outline,e.lineHeight=this.lineHeight,e.lineWidth=this.lineWidth,e},t._prepContext=function(e){return e.font=this.font||"10px sans-serif",e.textAlign=this.textAlign||"left",e.textBaseline=this.textBaseline||"top",e},t._drawText=function(t,i,n){var s=!!t;s||(t=e._workingContext,t.save(),this._prepContext(t));for(var r=this.lineHeight||this.getMeasuredLineHeight(),a=0,o=0,c=String(this.text).split(/(?:\r\n|\r|\n)/),l=0,u=c.length;u>l;l++){var h=c[l],d=null;if(null!=this.lineWidth&&(d=t.measureText(h).width)>this.lineWidth){var p=h.split(/(\s)/);h=p[0],d=t.measureText(h).width;for(var f=1,g=p.length;g>f;f+=2){var _=t.measureText(p[f]+p[f+1]).width;d+_>this.lineWidth?(s&&this._drawTextLine(t,h,o*r),n&&n.push(h),d>a&&(a=d),h=p[f+1],d=t.measureText(h).width,o++):(h+=p[f]+p[f+1],d+=_)}}s&&this._drawTextLine(t,h,o*r),n&&n.push(h),i&&null==d&&(d=t.measureText(h).width),d>a&&(a=d),o++}return i&&(i.width=a,i.height=o*r),s||t.restore(),i},t._drawTextLine=function(e,t,i){this.outline?e.strokeText(t,0,i,this.maxWidth||65535):e.fillText(t,0,i,this.maxWidth||65535)},t._getMeasuredWidth=function(t){var i=e._workingContext;i.save();var n=this._prepContext(i).measureText(t).width;return i.restore(),n},createjs.Text=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.Container_constructor(),this.text=e||"",this.spriteSheet=t,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var t=createjs.extend(e,createjs.Container);e.maxPoolSize=100,e._spritePool=[],t.draw=function(e,t){this.DisplayObject_draw(e,t)||(this._updateText(),this.Container_draw(e,t))},t.getBounds=function(){return this._updateText(),this.Container_getBounds()},t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&e)},t.clone=function(){return this._cloneProps(new e(this.text,this.spriteSheet))},t.addChild=t.addChildAt=t.removeChild=t.removeChildAt=t.removeAllChildren=function(){},t._cloneProps=function(e){return this.Container__cloneProps(e),e.lineHeight=this.lineHeight,e.letterSpacing=this.letterSpacing,e.spaceWidth=this.spaceWidth,e},t._getFrameIndex=function(e,t){var i,n=t.getAnimation(e);return n||(e!=(i=e.toUpperCase())||e!=(i=e.toLowerCase())||(i=null),i&&(n=t.getAnimation(i))),n&&n.frames[0]},t._getFrame=function(e,t){var i=this._getFrameIndex(e,t);return null==i?i:t.getFrame(i)},t._getLineHeight=function(e){var t=this._getFrame("1",e)||this._getFrame("T",e)||this._getFrame("L",e)||e.getFrame(0);return t?t.rect.height:1},t._getSpaceWidth=function(e){var t=this._getFrame("1",e)||this._getFrame("l",e)||this._getFrame("e",e)||this._getFrame("a",e)||e.getFrame(0);return t?t.rect.width:1},t._updateText=function(){var t,i=0,n=0,s=this._oldProps,r=!1,a=this.spaceWidth,o=this.lineHeight,c=this.spriteSheet,l=e._spritePool,u=this.children,h=0,d=u.length;for(var p in s)s[p]!=this[p]&&(s[p]=this[p],r=!0);if(r){var f=!!this._getFrame(" ",c);f||a||(a=this._getSpaceWidth(c)),o||(o=this._getLineHeight(c));for(var g=0,_=this.text.length;_>g;g++){var m=this.text.charAt(g);if(" "!=m||f)if("\n"!=m&&"\r"!=m){var v=this._getFrameIndex(m,c);null!=v&&(d>h?t=u[h]:(u.push(t=l.length?l.pop():new createjs.Sprite),t.parent=this,d++),t.spriteSheet=c,t.gotoAndStop(v),t.x=i,t.y=n,h++,i+=t.getBounds().width+this.letterSpacing)}else"\r"==m&&"\n"==this.text.charAt(g+1)&&g++,i=0,n+=o;else i+=a}for(;d>h;)l.push(t=u.pop()),t.parent=null,d--;l.length>e.maxPoolSize&&(l.length=e.maxPoolSize)}},createjs.BitmapText=createjs.promote(e,"Container")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"SpriteSheetUtils cannot be instantiated"}var t=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");t.getContext&&(e._workingCanvas=t,e._workingContext=t.getContext("2d"),t.width=t.height=1),e.addFlippedFrames=function(t,i,n,s){if(i||n||s){var r=0;i&&e._flip(t,++r,!0,!1),n&&e._flip(t,++r,!1,!0),s&&e._flip(t,++r,!0,!0)}},e.extractFrame=function(t,i){isNaN(i)&&(i=t.getAnimation(i).frames[0]);var n=t.getFrame(i);if(!n)return null;var s=n.rect,r=e._workingCanvas;r.width=s.width,r.height=s.height,e._workingContext.drawImage(n.image,s.x,s.y,s.width,s.height,0,0,s.width,s.height);var a=document.createElement("img");return a.src=r.toDataURL("image/png"),a},e.mergeAlpha=function(e,t,i){i||(i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),i.width=Math.max(t.width,e.width),i.height=Math.max(t.height,e.height);var n=i.getContext("2d");return n.save(),n.drawImage(e,0,0),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),n.restore(),i},e._flip=function(t,i,n,s){for(var r=t._images,a=e._workingCanvas,o=e._workingContext,c=r.length/i,l=0;c>l;l++){var u=r[l];u.__tmp=l,o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,a.width+1,a.height+1),a.width=u.width,a.height=u.height,o.setTransform(n?-1:1,0,0,s?-1:1,n?u.width:0,s?u.height:0),o.drawImage(u,0,0);var h=document.createElement("img");h.src=a.toDataURL("image/png"),h.width=u.width,h.height=u.height,r.push(h)}var d=t._frames,p=d.length/i;for(l=0;p>l;l++){u=d[l];var f=u.rect.clone();h=r[u.image.__tmp+c*i];var g={image:h,rect:f,regX:u.regX,regY:u.regY};n&&(f.x=h.width-f.x-f.width,g.regX=f.width-u.regX),s&&(f.y=h.height-f.y-f.height,g.regY=f.height-u.regY),d.push(g)}var _="_"+(n?"h":"")+(s?"v":""),m=t._animations,v=t._data,b=m.length/i;for(l=0;b>l;l++){var y=m[l];u=v[y];var w={name:y+_,speed:u.speed,next:u.next,frames:[]};u.next&&(w.next+=_),d=u.frames;for(var E=0,T=d.length;T>E;E++)w.frames.push(d[E]+p*i);v[w.name]=w,m.push(w.name)}},createjs.SpriteSheetUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var t=createjs.extend(e,createjs.EventDispatcher);e.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",e.ERR_RUNNING="a build is already running",t.addFrame=function(t,i,n,s,r){if(this._data)throw e.ERR_RUNNING;var a=i||t.bounds||t.nominalBounds;return!a&&t.getBounds&&(a=t.getBounds()),a?(n=n||1,this._frames.push({source:t,sourceRect:a,scale:n,funct:s,data:r,index:this._frames.length,height:a.height*n})-1):null},t.addAnimation=function(t,i,n,s){if(this._data)throw e.ERR_RUNNING;this._animations[t]={frames:i,next:n,frequency:s}},t.addMovieClip=function(t,i,n,s,r,a){if(this._data)throw e.ERR_RUNNING;var o=t.frameBounds,c=i||t.bounds||t.nominalBounds;if(!c&&t.getBounds&&(c=t.getBounds()),c||o){var l,u,h=this._frames.length,d=t.timeline.duration;for(l=0;d>l;l++){var p=o&&o[l]?o[l]:c;this.addFrame(t,p,n,this._setupMovieClipFrame,{i:l,f:s,d:r})}var f=t.timeline._labels,g=[];for(var _ in f)g.push({index:f[_],label:_});if(g.length)for(g.sort(function(e,t){return e.index-t.index}),l=0,u=g.length;u>l;l++){for(var m=g[l].label,v=h+g[l].index,b=h+(l==u-1?d:g[l+1].index),y=[],w=v;b>w;w++)y.push(w);(!a||(m=a(m,t,v,b)))&&this.addAnimation(m,y,!0)}}},t.build=function(){if(this._data)throw e.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},t.buildAsync=function(t){if(this._data)throw e.ERR_RUNNING;this.timeSlice=t,this._startBuild();var i=this;this._timerID=setTimeout(function(){i._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},t.stopAsync=function(){clearTimeout(this._timerID),this._data=null},t.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},t.toString=function(){return"[SpriteSheetBuilder]"},t._startBuild=function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var i=[];this._data={images:[],frames:i,animations:this._animations};var n=this._frames.slice();if(n.sort(function(e,t){return e.height<=t.height?-1:1}),n[n.length-1].height+2*t>this.maxHeight)throw e.ERR_DIMENSIONS;for(var s=0,r=0,a=0;n.length;){var o=this._fillRow(n,s,a,i,t);if(o.w>r&&(r=o.w),s+=o.h,!o.h||!n.length){var c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c.width=this._getSize(r,this.maxWidth),c.height=this._getSize(s,this.maxHeight),this._data.images[a]=c,o.h||(r=s=0,a++)}}},t._setupMovieClipFrame=function(e,t){var i=e.actionsEnabled;e.actionsEnabled=!1,e.gotoAndStop(t.i),e.actionsEnabled=i,t.f&&t.f(e,t.d,t.i)},t._getSize=function(e,t){for(var i=4;Math.pow(2,++i)<e;);return Math.min(t,Math.pow(2,i))},t._fillRow=function(t,i,n,s,r){var a=this.maxWidth,o=this.maxHeight;i+=r;for(var c=o-i,l=r,u=0,h=t.length-1;h>=0;h--){var d=t[h],p=this._scale*d.scale,f=d.sourceRect,g=d.source,_=Math.floor(p*f.x-r),m=Math.floor(p*f.y-r),v=Math.ceil(p*f.height+2*r),b=Math.ceil(p*f.width+2*r);if(b>a)throw e.ERR_DIMENSIONS;v>c||l+b>a||(d.img=n,d.rect=new createjs.Rectangle(l,i,b,v),u=u||v,t.splice(h,1),s[d.index]=[l,i,b,v,n,Math.round(-_+p*g.regX-r),Math.round(-m+p*g.regY-r)],l+=b)}return{w:l,h:u}},t._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},t._run=function(){for(var e=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),t=(new Date).getTime()+e,i=!1;t>(new Date).getTime();)if(!this._drawNext()){i=!0;break}if(i)this._endBuild();else{var n=this;this._timerID=setTimeout(function(){n._run()},50-e)}var s=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var r=new createjs.Event("progress");r.progress=s,this.dispatchEvent(r)}},t._drawNext=function(){var e=this._frames[this._index],t=e.scale*this._scale,i=e.rect,n=e.sourceRect,s=this._data.images[e.img],r=s.getContext("2d");return e.funct&&e.funct(e.source,e.data),r.save(),r.beginPath(),r.rect(i.x,i.y,i.width,i.height),r.clip(),r.translate(Math.ceil(i.x-n.x*t),Math.ceil(i.y-n.y*t)),r.scale(t,t),e.source.draw(r),r.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.DisplayObject_constructor(),"string"==typeof e&&(e=document.getElementById(e)),this.mouseEnabled=!1;var t=e.style;t.position="absolute",t.transformOrigin=t.WebkitTransformOrigin=t.msTransformOrigin=t.MozTransformOrigin=t.OTransformOrigin="0% 0%",this.htmlElement=e,this._oldProps=null}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){return null!=this.htmlElement},t.draw=function(e,t){return!0},t.cache=function(){},t.uncache=function(){},t.updateCache=function(){},t.hitTest=function(){},t.localToGlobal=function(){},t.globalToLocal=function(){},t.localToLocal=function(){},t.clone=function(){throw"DOMElement cannot be cloned."},t.toString=function(){return"[DOMElement (name="+this.name+")]"},t._tick=function(e){var t=this.getStage();t&&t.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(e)},t._handleDrawEnd=function(e){var t=this.htmlElement;if(t){var i=t.style,n=this.getConcatenatedDisplayProps(this._props),s=n.matrix,r=n.visible?"visible":"hidden";if(r!=i.visibility&&(i.visibility=r),n.visible){var a=this._oldProps,o=a&&a.matrix,c=1e4;if(!o||!o.equals(s)){var l="matrix("+(s.a*c|0)/c+","+(s.b*c|0)/c+","+(s.c*c|0)/c+","+(s.d*c|0)/c+","+(s.tx+.5|0);i.transform=i.WebkitTransform=i.OTransform=i.msTransform=l+","+(s.ty+.5|0)+")",i.MozTransform=l+"px,"+(s.ty+.5|0)+"px)",a||(a=this._oldProps=new createjs.DisplayProps(!0,NaN)),a.matrix.copy(s)}a.alpha!=n.alpha&&(i.opacity=""+(n.alpha*c|0)/c,a.alpha=n.alpha)}}},createjs.DOMElement=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){}var t=e.prototype;t.getBounds=function(e){return e},t.applyFilter=function(e,t,i,n,s,r,a,o){r=r||e,null==a&&(a=t),null==o&&(o=i);try{var c=e.getImageData(t,i,n,s)}catch(l){return!1}return this._applyFilter(c)?(r.putImageData(c,a,o),!0):!1},t.toString=function(){return"[Filter]"},t.clone=function(){return new e},t._applyFilter=function(e){return!0},createjs.Filter=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){(isNaN(e)||0>e)&&(e=0),(isNaN(t)||0>t)&&(t=0),(isNaN(i)||1>i)&&(i=1),this.blurX=0|e,this.blurY=0|t,this.quality=0|i}var t=createjs.extend(e,createjs.Filter);e.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],e.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.getBounds=function(e){var t=0|this.blurX,i=0|this.blurY;if(0>=t&&0>=i)return e;var n=Math.pow(this.quality,.2);return(e||new createjs.Rectangle).pad(t*n+1,i*n+1,t*n+1,i*n+1)},t.clone=function(){return new e(this.blurX,this.blurY,this.quality)},t.toString=function(){return"[BlurFilter]"},t._applyFilter=function(t){var i=this.blurX>>1;if(isNaN(i)||0>i)return!1;var n=this.blurY>>1;if(isNaN(n)||0>n)return!1;if(0==i&&0==n)return!1;var s=this.quality;(isNaN(s)||1>s)&&(s=1),s|=0,s>3&&(s=3),1>s&&(s=1);var r=t.data,a=0,o=0,c=0,l=0,u=0,h=0,d=0,p=0,f=0,g=0,_=0,m=0,v=0,b=0,y=0,w=i+i+1|0,E=n+n+1|0,T=0|t.width,j=0|t.height,L=T-1|0,S=j-1|0,A=i+1|0,x=n+1|0,P={
r:0,b:0,g:0,a:0},C=P;for(c=1;w>c;c++)C=C.n={r:0,b:0,g:0,a:0};C.n=P;var M={r:0,b:0,g:0,a:0},I=M;for(c=1;E>c;c++)I=I.n={r:0,b:0,g:0,a:0};I.n=M;for(var R=null,O=0|e.MUL_TABLE[i],k=0|e.SHG_TABLE[i],D=0|e.MUL_TABLE[n],B=0|e.SHG_TABLE[n];s-- >0;){d=h=0;var N=O,q=k;for(o=j;--o>-1;){for(p=A*(m=r[0|h]),f=A*(v=r[h+1|0]),g=A*(b=r[h+2|0]),_=A*(y=r[h+3|0]),C=P,c=A;--c>-1;)C.r=m,C.g=v,C.b=b,C.a=y,C=C.n;for(c=1;A>c;c++)l=h+((c>L?L:c)<<2)|0,p+=C.r=r[l],f+=C.g=r[l+1],g+=C.b=r[l+2],_+=C.a=r[l+3],C=C.n;for(R=P,a=0;T>a;a++)r[h++]=p*N>>>q,r[h++]=f*N>>>q,r[h++]=g*N>>>q,r[h++]=_*N>>>q,l=d+((l=a+i+1)<L?l:L)<<2,p-=R.r-(R.r=r[l]),f-=R.g-(R.g=r[l+1]),g-=R.b-(R.b=r[l+2]),_-=R.a-(R.a=r[l+3]),R=R.n;d+=T}for(N=D,q=B,a=0;T>a;a++){for(h=a<<2|0,p=x*(m=r[h])|0,f=x*(v=r[h+1|0])|0,g=x*(b=r[h+2|0])|0,_=x*(y=r[h+3|0])|0,I=M,c=0;x>c;c++)I.r=m,I.g=v,I.b=b,I.a=y,I=I.n;for(u=T,c=1;n>=c;c++)h=u+a<<2,p+=I.r=r[h],f+=I.g=r[h+1],g+=I.b=r[h+2],_+=I.a=r[h+3],I=I.n,S>c&&(u+=T);if(h=a,R=M,s>0)for(o=0;j>o;o++)l=h<<2,r[l+3]=y=_*N>>>q,y>0?(r[l]=p*N>>>q,r[l+1]=f*N>>>q,r[l+2]=g*N>>>q):r[l]=r[l+1]=r[l+2]=0,l=a+((l=o+x)<S?l:S)*T<<2,p-=R.r-(R.r=r[l]),f-=R.g-(R.g=r[l+1]),g-=R.b-(R.b=r[l+2]),_-=R.a-(R.a=r[l+3]),R=R.n,h+=T;else for(o=0;j>o;o++)l=h<<2,r[l+3]=y=_*N>>>q,y>0?(y=255/y,r[l]=(p*N>>>q)*y,r[l+1]=(f*N>>>q)*y,r[l+2]=(g*N>>>q)*y):r[l]=r[l+1]=r[l+2]=0,l=a+((l=o+x)<S?l:S)*T<<2,p-=R.r-(R.r=r[l]),f-=R.g-(R.g=r[l+1]),g-=R.b-(R.b=r[l+2]),_-=R.a-(R.a=r[l+3]),R=R.n,h+=T}}return!0},createjs.BlurFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.alphaMap=e,this._alphaMap=null,this._mapData=null}var t=createjs.extend(e,createjs.Filter);t.clone=function(){var t=new e(this.alphaMap);return t._alphaMap=this._alphaMap,t._mapData=this._mapData,t},t.toString=function(){return"[AlphaMapFilter]"},t._applyFilter=function(e){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var t=e.data,i=this._mapData,n=0,s=t.length;s>n;n+=4)t[n+3]=i[n]||0;return!0},t._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var e,t=this._alphaMap=this.alphaMap,i=t;t instanceof HTMLCanvasElement?e=i.getContext("2d"):(i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),i.width=t.width,i.height=t.height,e=i.getContext("2d"),e.drawImage(t,0,0));try{var n=e.getImageData(0,0,t.width,t.height)}catch(s){return!1}return this._mapData=n.data,!0},createjs.AlphaMapFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.mask=e}var t=createjs.extend(e,createjs.Filter);t.applyFilter=function(e,t,i,n,s,r,a,o){return this.mask?(r=r||e,null==a&&(a=t),null==o&&(o=i),r.save(),e!=r?!1:(r.globalCompositeOperation="destination-in",r.drawImage(this.mask,a,o),r.restore(),!0)):!0},t.clone=function(){return new e(this.mask)},t.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n,s,r,a,o){this.redMultiplier=null!=e?e:1,this.greenMultiplier=null!=t?t:1,this.blueMultiplier=null!=i?i:1,this.alphaMultiplier=null!=n?n:1,this.redOffset=s||0,this.greenOffset=r||0,this.blueOffset=a||0,this.alphaOffset=o||0}var t=createjs.extend(e,createjs.Filter);t.toString=function(){return"[ColorFilter]"},t.clone=function(){return new e(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},t._applyFilter=function(e){for(var t=e.data,i=t.length,n=0;i>n;n+=4)t[n]=t[n]*this.redMultiplier+this.redOffset,t[n+1]=t[n+1]*this.greenMultiplier+this.greenOffset,t[n+2]=t[n+2]*this.blueMultiplier+this.blueOffset,t[n+3]=t[n+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n){this.setColor(e,t,i,n)}var t=e.prototype;e.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],e.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],e.LENGTH=e.IDENTITY_MATRIX.length,t.setColor=function(e,t,i,n){return this.reset().adjustColor(e,t,i,n)},t.reset=function(){return this.copy(e.IDENTITY_MATRIX)},t.adjustColor=function(e,t,i,n){return this.adjustHue(n),this.adjustContrast(t),this.adjustBrightness(e),this.adjustSaturation(i)},t.adjustBrightness=function(e){return 0==e||isNaN(e)?this:(e=this._cleanValue(e,255),this._multiplyMatrix([1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1]),this)},t.adjustContrast=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,100);var i;return 0>t?i=127+t/100*127:(i=t%1,i=0==i?e.DELTA_INDEX[t]:e.DELTA_INDEX[t<<0]*(1-i)+e.DELTA_INDEX[(t<<0)+1]*i,i=127*i+127),this._multiplyMatrix([i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1]),this},t.adjustSaturation=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,100);var t=1+(e>0?3*e/100:e/100),i=.3086,n=.6094,s=.082;return this._multiplyMatrix([i*(1-t)+t,n*(1-t),s*(1-t),0,0,i*(1-t),n*(1-t)+t,s*(1-t),0,0,i*(1-t),n*(1-t),s*(1-t)+t,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.adjustHue=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,180)/180*Math.PI;var t=Math.cos(e),i=Math.sin(e),n=.213,s=.715,r=.072;return this._multiplyMatrix([n+t*(1-n)+i*-n,s+t*-s+i*-s,r+t*-r+i*(1-r),0,0,n+t*-n+.143*i,s+t*(1-s)+.14*i,r+t*-r+i*-.283,0,0,n+t*-n+i*-(1-n),s+t*-s+i*s,r+t*(1-r)+i*r,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.concat=function(t){return t=this._fixMatrix(t),t.length!=e.LENGTH?this:(this._multiplyMatrix(t),this)},t.clone=function(){return(new e).copy(this)},t.toArray=function(){for(var t=[],i=0,n=e.LENGTH;n>i;i++)t[i]=this[i];return t},t.copy=function(t){for(var i=e.LENGTH,n=0;i>n;n++)this[n]=t[n];return this},t.toString=function(){return"[ColorMatrix]"},t._multiplyMatrix=function(e){var t,i,n,s=[];for(t=0;5>t;t++){for(i=0;5>i;i++)s[i]=this[i+5*t];for(i=0;5>i;i++){var r=0;for(n=0;5>n;n++)r+=e[i+5*n]*s[n];this[i+5*t]=r}}},t._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t._fixMatrix=function(t){return t instanceof e&&(t=t.toArray()),t.length<e.LENGTH?t=t.slice(0,t.length).concat(e.IDENTITY_MATRIX.slice(t.length,e.LENGTH)):t.length>e.LENGTH&&(t=t.slice(0,e.LENGTH)),t},createjs.ColorMatrix=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.matrix=e}var t=createjs.extend(e,createjs.Filter);t.toString=function(){return"[ColorMatrixFilter]"},t.clone=function(){return new e(this.matrix)},t._applyFilter=function(e){for(var t,i,n,s,r=e.data,a=r.length,o=this.matrix,c=o[0],l=o[1],u=o[2],h=o[3],d=o[4],p=o[5],f=o[6],g=o[7],_=o[8],m=o[9],v=o[10],b=o[11],y=o[12],w=o[13],E=o[14],T=o[15],j=o[16],L=o[17],S=o[18],A=o[19],x=0;a>x;x+=4)t=r[x],i=r[x+1],n=r[x+2],s=r[x+3],r[x]=t*c+i*l+n*u+s*h+d,r[x+1]=t*p+i*f+n*g+s*_+m,r[x+2]=t*v+i*b+n*y+s*w+E,r[x+3]=t*T+i*j+n*L+s*S+A;return!0},createjs.ColorMatrixFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Touch cannot be instantiated"}e.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},e.enable=function(t,i,n){return t&&t.canvas&&e.isSupported()?t.__touch?!0:(t.__touch={pointers:{},multitouch:!i,preventDefault:!n,count:0},"ontouchstart"in window?e._IOS_enable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_enable(t),!0):!1},e.disable=function(t){t&&("ontouchstart"in window?e._IOS_disable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_disable(t),delete t.__touch)},e._IOS_enable=function(t){var i=t.canvas,n=t.__touch.f=function(i){e._IOS_handleEvent(t,i)};i.addEventListener("touchstart",n,!1),i.addEventListener("touchmove",n,!1),i.addEventListener("touchend",n,!1),i.addEventListener("touchcancel",n,!1)},e._IOS_disable=function(e){var t=e.canvas;if(t){var i=e.__touch.f;t.removeEventListener("touchstart",i,!1),t.removeEventListener("touchmove",i,!1),t.removeEventListener("touchend",i,!1),t.removeEventListener("touchcancel",i,!1)}},e._IOS_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();for(var i=t.changedTouches,n=t.type,s=0,r=i.length;r>s;s++){var a=i[s],o=a.identifier;a.target==e.canvas&&("touchstart"==n?this._handleStart(e,o,t,a.pageX,a.pageY):"touchmove"==n?this._handleMove(e,o,t,a.pageX,a.pageY):("touchend"==n||"touchcancel"==n)&&this._handleEnd(e,o,t))}}},e._IE_enable=function(t){var i=t.canvas,n=t.__touch.f=function(i){e._IE_handleEvent(t,i)};void 0===window.navigator.pointerEnabled?(i.addEventListener("MSPointerDown",n,!1),window.addEventListener("MSPointerMove",n,!1),window.addEventListener("MSPointerUp",n,!1),window.addEventListener("MSPointerCancel",n,!1),t.__touch.preventDefault&&(i.style.msTouchAction="none")):(i.addEventListener("pointerdown",n,!1),window.addEventListener("pointermove",n,!1),window.addEventListener("pointerup",n,!1),window.addEventListener("pointercancel",n,!1),t.__touch.preventDefault&&(i.style.touchAction="none")),t.__touch.activeIDs={}},e._IE_disable=function(e){var t=e.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",t,!1),window.removeEventListener("MSPointerUp",t,!1),window.removeEventListener("MSPointerCancel",t,!1),e.canvas&&e.canvas.removeEventListener("MSPointerDown",t,!1)):(window.removeEventListener("pointermove",t,!1),window.removeEventListener("pointerup",t,!1),window.removeEventListener("pointercancel",t,!1),e.canvas&&e.canvas.removeEventListener("pointerdown",t,!1))},e._IE_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var i=t.type,n=t.pointerId,s=e.__touch.activeIDs;if("MSPointerDown"==i||"pointerdown"==i){if(t.srcElement!=e.canvas)return;s[n]=!0,this._handleStart(e,n,t,t.pageX,t.pageY)}else s[n]&&("MSPointerMove"==i||"pointermove"==i?this._handleMove(e,n,t,t.pageX,t.pageY):("MSPointerUp"==i||"MSPointerCancel"==i||"pointerup"==i||"pointercancel"==i)&&(delete s[n],this._handleEnd(e,n,t)))}},e._handleStart=function(e,t,i,n,s){var r=e.__touch;if(r.multitouch||!r.count){var a=r.pointers;a[t]||(a[t]=!0,r.count++,e._handlePointerDown(t,i,n,s))}},e._handleMove=function(e,t,i,n,s){e.__touch.pointers[t]&&e._handlePointerMove(t,i,n,s)},e._handleEnd=function(e,t,i){var n=e.__touch,s=n.pointers;s[t]&&(n.count--,e._handlePointerUp(t,i,!0),delete s[t])},createjs.Touch=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.EaselJS=createjs.EaselJS||{};e.version="0.8.1",e.buildDate="Thu, 17 Sep 2015 13:13:22 GMT"}(),define("easeljs",function(e){return function(){var t;return t||e.createjs}}(this)),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.PreloadJS=createjs.PreloadJS||{};e.version="0.6.1",e.buildDate="Thu, 17 Sep 2015 13:17:19 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var i=e.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n){i[(t+="_")+"constructor"]=n.constructor;for(var s in n)i.hasOwnProperty(s)&&"function"==typeof n[s]&&(i[t+s]=n[s])}return e},this.createjs=this.createjs||{},createjs.indexOf=function(e,t){"use strict";for(var i=0,n=e.length;n>i;i++)if(t===e[i])return i;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(e,t){var i=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(i))}}}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"BrowserDetect cannot be instantiated"}var t=e.agent=window.navigator.userAgent;e.isWindowPhone=t.indexOf("IEMobile")>-1||t.indexOf("Windows Phone")>-1,e.isFirefox=t.indexOf("Firefox")>-1,e.isOpera=null!=window.opera,e.isChrome=t.indexOf("Chrome")>-1,e.isIOS=(t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1)&&!e.isWindowPhone,e.isAndroid=t.indexOf("Android")>-1&&!e.isWindowPhone,e.isBlackberry=t.indexOf("Blackberry")>-1,createjs.BrowserDetect=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.Event_constructor("error"),this.title=e,this.message=t,this.data=i}var t=createjs.extend(e,createjs.Event);t.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,i){var n;n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=n[e];return s&&this.removeEventListener(e,t,i),s=n[e],s?s.push(t):n[e]=[t],t},t.on=function(e,t,i,n,s,r){return t.handleEvent&&(i=i||t,t=t.handleEvent),i=i||this,this.addEventListener(e,function(e){t.call(i,e,s),n&&e.remove()},r)},t.removeEventListener=function(e,t,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[e];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==t){1==a?delete n[e]:s.splice(r,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e){if("string"==typeof e){var t=this._listeners;if(!t||!t[e])return!1;e=new createjs.Event(e)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(i){}if(e.bubbles&&this.parent){for(var n=this,s=[n];n.parent;)s.push(n=n.parent);var r,a=s.length;for(r=a-1;r>=0&&!e.propagationStopped;r--)s[r]._dispatchEvent(e,1+(0==r));for(r=1;a>r&&!e.propagationStopped;r++)s[r]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,i=this._captureListeners;return!!(t&&t[e]||i&&i[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var i,n=1==t?this._captureListeners:this._listeners;if(e&&n){var s=n[e.type];if(!s||!(i=s.length))return;try{e.currentTarget=this}catch(r){}try{e.eventPhase=t}catch(r){}e.removed=!1,s=s.slice();for(var a=0;i>a&&!e.immediatePropagationStopped;a++){var o=s[a];o.handleEvent?o.handleEvent(e):o(e),e.removed&&(this.off(e.type,o,1==t),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(e){"use strict";function t(e,t){this.Event_constructor("progress"),this.loaded=e,this.total=null==t?1:t,this.progress=0==t?0:this.loaded/this.total}var i=createjs.extend(t,createjs.Event);i.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,"Event")}(window),function(){function e(t,n){function r(e){if(r[e]!==_)return r[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=r("json-stringify")&&r("json-parse");else{var i,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=n.stringify,u="function"==typeof c&&b;if(u){(i=function(){return 1}).toJSON=i;try{u="0"===c(0)&&"0"===c(new a)&&'""'==c(new o)&&c(v)===_&&c(_)===_&&c()===_&&"1"===c(i)&&"[1]"==c([i])&&"[null]"==c([_])&&"null"==c(null)&&"[null,null,null]"==c([_,v,null])&&c({a:[i,!0,!1,null,"\x00\b\n\f\r	"]})==s&&"1"===c(null,i)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new l(-1))}catch(h){u=!1}}t=u}if("json-parse"==e){var d=n.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){i=d(s);var p=5==i.a.length&&1===i.a[0];if(p){try{p=!d('"	"')}catch(h){}if(p)try{p=1!==d("01")}catch(h){}if(p)try{p=1!==d("1.")}catch(h){}}}}catch(h){p=!1}t=p}}return r[e]=!!t}t||(t=s.Object()),n||(n=s.Object());var a=t.Number||s.Number,o=t.String||s.String,c=t.Object||s.Object,l=t.Date||s.Date,u=t.SyntaxError||s.SyntaxError,h=t.TypeError||s.TypeError,d=t.Math||s.Math,p=t.JSON||s.JSON;"object"==typeof p&&p&&(n.stringify=p.stringify,n.parse=p.parse);var f,g,_,m=c.prototype,v=m.toString,b=new l(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(y){}if(!r("json")){var w="[object Function]",E="[object Date]",T="[object Number]",j="[object String]",L="[object Array]",S="[object Boolean]",A=r("bug-string-char-index");if(!b)var x=d.floor,P=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(e,t){return P[t]+365*(e-1970)+x((e-1969+(t=+(t>1)))/4)-x((e-1901+t)/100)+x((e-1601+t)/400)};if((f=m.hasOwnProperty)||(f=function(e){var t,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=v?f=function(e){var t=this.__proto__,i=e in(this.__proto__=null,this);return this.__proto__=t,i}:(t=i.constructor,f=function(e){var i=(this.constructor||t).prototype;return e in this&&!(e in i&&this[e]===i[e])}),i=null,f.call(this,e)}),g=function(e,t){var n,s,r,a=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,s=new n;for(r in s)f.call(s,r)&&a++;return n=s=null,a?g=2==a?function(e,t){var i,n={},s=v.call(e)==w;for(i in e)s&&"prototype"==i||f.call(n,i)||!(n[i]=1)||!f.call(e,i)||t(i)}:function(e,t){var i,n,s=v.call(e)==w;for(i in e)s&&"prototype"==i||!f.call(e,i)||(n="constructor"===i)||t(i);(n||f.call(e,i="constructor"))&&t(i)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(e,t){var n,r,a=v.call(e)==w,o=!a&&"function"!=typeof e.constructor&&i[typeof e.hasOwnProperty]&&e.hasOwnProperty||f;for(n in e)a&&"prototype"==n||!o.call(e,n)||t(n);for(r=s.length;n=s[--r];o.call(e,n)&&t(n));}),g(e,t)},!r("json-stringify")){var M={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I="000000",R=function(e,t){return(I+(t||0)).slice(-e)},O="\\u00",k=function(e){for(var t='"',i=0,n=e.length,s=!A||n>10,r=s&&(A?e.split(""):e);n>i;i++){var a=e.charCodeAt(i);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=M[a];break;default:if(32>a){t+=O+R(2,a.toString(16));break}t+=s?r[i]:e.charAt(i)}}return t+'"'},D=function(e,t,i,n,s,r,a){var o,c,l,u,d,p,m,b,y,w,A,P,M,I,O,B;try{o=t[e]}catch(N){}if("object"==typeof o&&o)if(c=v.call(o),c!=E||f.call(o,"toJSON"))"function"==typeof o.toJSON&&(c!=T&&c!=j&&c!=L||f.call(o,"toJSON"))&&(o=o.toJSON(e));else if(o>-1/0&&1/0>o){if(C){for(d=x(o/864e5),l=x(d/365.2425)+1970-1;C(l+1,0)<=d;l++);for(u=x((d-C(l,0))/30.42);C(l,u+1)<=d;u++);d=1+d-C(l,u),p=(o%864e5+864e5)%864e5,m=x(p/36e5)%24,b=x(p/6e4)%60,y=x(p/1e3)%60,w=p%1e3}else l=o.getUTCFullYear(),u=o.getUTCMonth(),d=o.getUTCDate(),m=o.getUTCHours(),b=o.getUTCMinutes(),y=o.getUTCSeconds(),w=o.getUTCMilliseconds();o=(0>=l||l>=1e4?(0>l?"-":"+")+R(6,0>l?-l:l):R(4,l))+"-"+R(2,u+1)+"-"+R(2,d)+"T"+R(2,m)+":"+R(2,b)+":"+R(2,y)+"."+R(3,w)+"Z"}else o=null;if(i&&(o=i.call(t,e,o)),null===o)return"null";if(c=v.call(o),c==S)return""+o;if(c==T)return o>-1/0&&1/0>o?""+o:"null";if(c==j)return k(""+o);if("object"==typeof o){for(I=a.length;I--;)if(a[I]===o)throw h();if(a.push(o),A=[],O=r,r+=s,c==L){for(M=0,I=o.length;I>M;M++)P=D(M,o,i,n,s,r,a),A.push(P===_?"null":P);B=A.length?s?"[\n"+r+A.join(",\n"+r)+"\n"+O+"]":"["+A.join(",")+"]":"[]"}else g(n||o,function(e){var t=D(e,o,i,n,s,r,a);t!==_&&A.push(k(e)+":"+(s?" ":"")+t)}),B=A.length?s?"{\n"+r+A.join(",\n"+r)+"\n"+O+"}":"{"+A.join(",")+"}":"{}";return a.pop(),B}};n.stringify=function(e,t,n){var s,r,a,o;if(i[typeof t]&&t)if((o=v.call(t))==w)r=t;else if(o==L){a={};for(var c,l=0,u=t.length;u>l;c=t[l++],o=v.call(c),(o==j||o==T)&&(a[c]=1));}if(n)if((o=v.call(n))==T){if((n-=n%1)>0)for(s="",n>10&&(n=10);s.length<n;s+=" ");}else o==j&&(s=n.length<=10?n:n.slice(0,10));return D("",(c={},c[""]=e,c),r,a,s,"",[])}}if(!r("json-parse")){var B,N,q=o.fromCharCode,F={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},W=function(){throw B=N=null,u()},H=function(){for(var e,t,i,n,s,r=N,a=r.length;a>B;)switch(s=r.charCodeAt(B)){case 9:case 10:case 13:case 32:B++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=A?r.charAt(B):r[B],B++,e;case 34:for(e="@",B++;a>B;)if(s=r.charCodeAt(B),32>s)W();else if(92==s)switch(s=r.charCodeAt(++B)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=F[s],B++;break;case 117:for(t=++B,i=B+4;i>B;B++)s=r.charCodeAt(B),s>=48&&57>=s||s>=97&&102>=s||s>=65&&70>=s||W();e+=q("0x"+r.slice(t,B));break;default:W()}else{if(34==s)break;for(s=r.charCodeAt(B),t=B;s>=32&&92!=s&&34!=s;)s=r.charCodeAt(++B);e+=r.slice(t,B)}if(34==r.charCodeAt(B))return B++,e;W();default:if(t=B,45==s&&(n=!0,s=r.charCodeAt(++B)),s>=48&&57>=s){for(48==s&&(s=r.charCodeAt(B+1),s>=48&&57>=s)&&W(),n=!1;a>B&&(s=r.charCodeAt(B),s>=48&&57>=s);B++);if(46==r.charCodeAt(B)){for(i=++B;a>i&&(s=r.charCodeAt(i),s>=48&&57>=s);i++);i==B&&W(),B=i}if(s=r.charCodeAt(B),101==s||69==s){for(s=r.charCodeAt(++B),(43==s||45==s)&&B++,i=B;a>i&&(s=r.charCodeAt(i),s>=48&&57>=s);i++);i==B&&W(),B=i}return+r.slice(t,B)}if(n&&W(),"true"==r.slice(B,B+4))return B+=4,!0;if("false"==r.slice(B,B+5))return B+=5,!1;if("null"==r.slice(B,B+4))return B+=4,null;W()}return"$"},U=function(e){var t,i;if("$"==e&&W(),"string"==typeof e){if("@"==(A?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=H(),"]"!=e;i||(i=!0))i&&(","==e?(e=H(),"]"==e&&W()):W()),","==e&&W(),t.push(U(e));return t}if("{"==e){for(t={};e=H(),"}"!=e;i||(i=!0))i&&(","==e?(e=H(),"}"==e&&W()):W()),(","==e||"string"!=typeof e||"@"!=(A?e.charAt(0):e[0])||":"!=H())&&W(),t[e.slice(1)]=U(H());return t}W()}return e},X=function(e,t,i){var n=G(e,t,i);n===_?delete e[t]:e[t]=n},G=function(e,t,i){var n,s=e[t];if("object"==typeof s&&s)if(v.call(s)==L)for(n=s.length;n--;)X(s,n,i);else g(s,function(e){X(s,e,i)});return i.call(e,t,s)};n.parse=function(e,t){var i,n;return B=0,N=""+e,i=U(H()),"$"!=H()&&W(),B=N=null,t&&v.call(t)==w?G((n={},n[""]=i,n),"",t):i}}}return n.runInContext=e,n}var t="function"==typeof define&&define.amd,i={"function":!0,object:!0},n=i[typeof exports]&&exports&&!exports.nodeType&&exports,s=i[typeof window]&&window||this,r=n&&i[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!r||r.global!==r&&r.window!==r&&r.self!==r||(s=r),n&&!t)e(s,n);else{var a=s.JSON,o=s.JSON3,c=!1,l=e(s,s.JSON3={noConflict:function(){return c||(c=!0,s.JSON=a,s.JSON3=o,a=o=null),l}});s.JSON={parse:l.parse,stringify:l.stringify}}t&&define("preloadjs",[],function(){return l})}.call(this),function(){var e={};e.appendToHead=function(t){e.getHead().appendChild(t)},e.getHead=function(){return document.head||document.getElementsByTagName("head")[0]},e.getBody=function(){return document.body||document.getElementsByTagName("body")[0]},createjs.DomUtils=e}(),function(){var e={};e.parseXML=function(e,t){var i=null;try{if(window.DOMParser){var n=new DOMParser;i=n.parseFromString(e,t)}}catch(s){}if(!i)try{i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(e)}catch(s){i=null}return i},e.parseJSON=function(e){if(null==e)return null;try{return JSON.parse(e)}catch(t){throw t}},createjs.DataUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=i.LOAD_TIMEOUT_DEFAULT}var t=e.prototype={},i=e;i.LOAD_TIMEOUT_DEFAULT=8e3,i.create=function(t){if("string"==typeof t){var n=new e;return n.src=t,n}if(t instanceof i)return t;if(t instanceof Object&&t.src)return null==t.loadTimeout&&(t.loadTimeout=i.LOAD_TIMEOUT_DEFAULT),t;throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},createjs.LoadItem=i}(),function(){var e={};e.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,e.RELATIVE_PATT=/^[.\/]*?\//i,e.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,e.parseURI=function(t){var i={absolute:!1,relative:!1};if(null==t)return i;var n=t.indexOf("?");n>-1&&(t=t.substr(0,n));var s;return e.ABSOLUTE_PATT.test(t)?i.absolute=!0:e.RELATIVE_PATT.test(t)&&(i.relative=!0),(s=t.match(e.EXTENSION_PATT))&&(i.extension=s[1].toLowerCase()),i},e.formatQueryString=function(e,t){if(null==e)throw new Error("You must specify data.");var i=[];for(var n in e)i.push(n+"="+escape(e[n]));return t&&(i=i.concat(t)),i.join("&")},e.buildPath=function(e,t){if(null==t)return e;var i=[],n=e.indexOf("?");if(-1!=n){var s=e.slice(n+1);i=i.concat(s.split("&"))}return-1!=n?e.slice(0,n)+"?"+this._formatQueryString(t,i):e+"?"+this._formatQueryString(t,i)},e.isCrossDomain=function(e){var t=document.createElement("a");t.href=e.src;var i=document.createElement("a");i.href=location.href;var n=""!=t.hostname&&(t.port!=i.port||t.protocol!=i.protocol||t.hostname!=i.hostname);return n},e.isLocal=function(e){var t=document.createElement("a");return t.href=e.src,""==t.hostname&&"file:"==t.protocol},e.isBinary=function(e){switch(e){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},e.isImageTag=function(e){return e instanceof HTMLImageElement},e.isAudioTag=function(e){return window.HTMLAudioElement?e instanceof HTMLAudioElement:!1},e.isVideoTag=function(e){return window.HTMLVideoElement?e instanceof HTMLVideoElement:!1},e.isText=function(e){switch(e){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},e.getTypeByExtension=function(e){if(null==e)return createjs.AbstractLoader.TEXT;switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=i,this.resultFormatter=null,e?this._item=createjs.LoadItem.create(e):this._item=null,this._preferXHR=t,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var t=createjs.extend(e,createjs.EventDispatcher),i=e;i.POST="POST",i.GET="GET",i.BINARY="binary",i.CSS="css",i.IMAGE="image",i.JAVASCRIPT="javascript",i.JSON="json",i.JSONP="jsonp",i.MANIFEST="manifest",i.SOUND="sound",i.VIDEO="video",i.SPRITESHEET="spritesheet",i.SVG="svg",i.TEXT="text",i.XML="xml",t.getItem=function(){return this._item},t.getResult=function(e){return e?this._rawResult:this._result},t.getTag=function(){return this._tag},t.setTag=function(e){this._tag=e},t.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var e=new createjs.Event("initialize");e.loader=this._request,this.dispatchEvent(e),this._request.load()},t.cancel=function(){this.canceled=!0,this.destroy()},t.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},t.getLoadedItems=function(){return this._loadedItems},t._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._createTag=function(e){return null},t._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},t._sendProgress=function(e){if(!this._isCanceled()){var t=null;"number"==typeof e?(this.progress=e,t=new createjs.ProgressEvent(this.progress)):(t=e,this.progress=e.loaded/e.total,t.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(t)}},t._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var e=new createjs.Event("complete");e.rawResult=this._rawResult,null!=this._result&&(e.result=this._result),this.dispatchEvent(e)}},t._sendError=function(e){!this._isCanceled()&&this.hasEventListener("error")&&(null==e&&(e=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(e))},t._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},t.resultFormatter=null,t.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var t=this.resultFormatter&&this.resultFormatter(this),i=this;t instanceof Function?t(function(e){i._result=e,i._sendComplete()}):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+e.type.toUpperCase()+"_ERROR"))}},t.buildPath=function(e,t){return createjs.RequestUtils.buildPath(e,t)},t.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractLoader_constructor(e,t,i),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src"}var t=createjs.extend(e,createjs.AbstractLoader);t.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load();
},t._createTag=function(){},t._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._formatResult=function(e){return this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(e.getTag().src=e.getResult(!0)),e.getTag()},createjs.AbstractMediaLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e){this._item=e},t=createjs.extend(e,createjs.EventDispatcher);t.load=function(){},t.destroy=function(){},t.cancel=function(){},createjs.AbstractRequest=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var t=createjs.extend(e,createjs.AbstractRequest);t.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var e=new createjs.Event("initialize");e.loader=this._tag,this.dispatchEvent(e),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},t.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleError=function(){this._clean(),this.dispatchEvent("error")},t._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},t._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},t._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},t._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},t._showTag=function(){this._tag.style.visibility=this._startTagVisibility},t._handleStalled=function(){},createjs.TagRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var t=createjs.extend(e,createjs.TagRequest);t.load=function(){var e=createjs.proxy(this._handleStalled,this);this._stalledCallback=e;var t=createjs.proxy(this._handleProgress,this);this._handleProgress=t,this._tag.addEventListener("stalled",e),this._tag.addEventListener("progress",t),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleStalled=function(){},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(e,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractRequest_constructor(e),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(e)}var t=createjs.extend(e,createjs.AbstractRequest);e.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},t.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},t.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(e){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,e))}},t.setResponseType=function(e){"blob"===e&&(e=window.URL?"blob":"arraybuffer",this._responseType=e),this._request.responseType=e},t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._handleLoadStart=function(e){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},t._handleAbort=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,e))},t._handleError=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(e.message))},t._handleReadyStateChange=function(e){4==this._request.readyState&&this._handleLoad()},t._handleLoad=function(e){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)return void this._handleError(t);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(i){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===i.name&&window.BlobBuilder){var n=new BlobBuilder;n.append(this._response),this._response=n.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},t._handleTimeout=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,e))},t._checkError=function(){var e=parseInt(this._request.status);switch(e){case 404:case 0:return new Error(e)}return null},t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(e){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(e){}return null},t._createXHR=function(e){var t=createjs.RequestUtils.isCrossDomain(e),i={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,t&&void 0===n.withCredentials&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var r=0,a=s.ACTIVEX_VERSIONS.length;a>r;r++){var o=s.ACTIVEX_VERSIONS[r];try{n=new ActiveXObject(o);break}catch(c){}}if(null==n)return!1}null==e.mimeType&&createjs.RequestUtils.isText(e.type)&&(e.mimeType="text/plain; charset=utf-8"),e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),this._xhrLevel="string"==typeof n.responseType?2:1;var l=null;if(l=e.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(e.src,e.values):e.src,n.open(e.method||createjs.AbstractLoader.GET,l,!0),t&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),e.values&&e.method==createjs.AbstractLoader.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),t||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),e.headers)for(var u in e.headers)i[u]=e.headers[u];for(u in i)n.setRequestHeader(u,i[u]);return n instanceof XMLHttpRequest&&void 0!==e.withCredentials&&(n.withCredentials=e.withCredentials),this._request=n,!0},t._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},t.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(e,t,i)}var t=createjs.extend(e,createjs.AbstractLoader),i=e;t.init=function(e,t,i){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(e),this._paused=!1,this._basePath=t,this._crossOrigin=i,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},i.loadTimeout=8e3,i.LOAD_TIMEOUT=0,i.BINARY=createjs.AbstractLoader.BINARY,i.CSS=createjs.AbstractLoader.CSS,i.IMAGE=createjs.AbstractLoader.IMAGE,i.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT,i.JSON=createjs.AbstractLoader.JSON,i.JSONP=createjs.AbstractLoader.JSONP,i.MANIFEST=createjs.AbstractLoader.MANIFEST,i.SOUND=createjs.AbstractLoader.SOUND,i.VIDEO=createjs.AbstractLoader.VIDEO,i.SVG=createjs.AbstractLoader.SVG,i.TEXT=createjs.AbstractLoader.TEXT,i.XML=createjs.AbstractLoader.XML,i.POST=createjs.AbstractLoader.POST,i.GET=createjs.AbstractLoader.GET,t.registerLoader=function(e){if(!e||!e.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(e))throw new Error("loader already exists.");this._availableLoaders.unshift(e)},t.unregisterLoader=function(e){var t=this._availableLoaders.indexOf(e);-1!=t&&t<this._defaultLoaderLength-1&&this._availableLoaders.splice(t,1)},t.setUseXHR=function(e){return this.setPreferXHR(e)},t.setPreferXHR=function(e){return this.preferXHR=0!=e&&null!=window.XMLHttpRequest,this.preferXHR},t.removeAll=function(){this.remove()},t.remove=function(e){var t=null;if(!e||e instanceof Array){if(e)t=e;else if(arguments.length>0)return}else t=[e];var i=!1;if(t){for(;t.length;){var n=t.pop(),s=this.getResult(n);for(r=this._loadQueue.length-1;r>=0;r--)if(a=this._loadQueue[r].getItem(),a.id==n||a.src==n){this._loadQueue.splice(r,1)[0].cancel();break}for(r=this._loadQueueBackup.length-1;r>=0;r--)if(a=this._loadQueueBackup[r].getItem(),a.id==n||a.src==n){this._loadQueueBackup.splice(r,1)[0].cancel();break}if(s)this._disposeItem(this.getItem(n));else for(var r=this._currentLoads.length-1;r>=0;r--){var a=this._currentLoads[r].getItem();if(a.id==n||a.src==n){this._currentLoads.splice(r,1)[0].cancel(),i=!0;break}}}i&&this._loadNext()}else{this.close();for(var o in this._loadItemsById)this._disposeItem(this._loadItemsById[o]);this.init(this.preferXHR,this._basePath)}},t.reset=function(){this.close();for(var e in this._loadItemsById)this._disposeItem(this._loadItemsById[e]);for(var t=[],i=0,n=this._loadQueueBackup.length;n>i;i++)t.push(this._loadQueueBackup[i].getItem());this.loadManifest(t,!1)},t.installPlugin=function(e){if(null!=e&&null!=e.getPreloadHandlers){this._plugins.push(e);var t=e.getPreloadHandlers();if(t.scope=e,null!=t.types)for(var i=0,n=t.types.length;n>i;i++)this._typeCallbacks[t.types[i]]=t;if(null!=t.extensions)for(i=0,n=t.extensions.length;n>i;i++)this._extensionCallbacks[t.extensions[i]]=t}},t.setMaxConnections=function(e){this._maxConnections=e,!this._paused&&this._loadQueue.length>0&&this._loadNext()},t.loadFile=function(e,t,i){if(null==e){var n=new createjs.ErrorEvent("PRELOAD_NO_FILE");return void this._sendError(n)}this._addItem(e,null,i),t!==!1?this.setPaused(!1):this.setPaused(!0)},t.loadManifest=function(e,t,n){var s=null,r=null;if(e instanceof Array){if(0==e.length){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(a)}s=e}else if("string"==typeof e)s=[{src:e,type:i.MANIFEST}];else{if("object"!=typeof e){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(a)}if(void 0!==e.src){if(null==e.type)e.type=i.MANIFEST;else if(e.type!=i.MANIFEST){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(a)}s=[e]}else void 0!==e.manifest&&(s=e.manifest,r=e.path)}for(var o=0,c=s.length;c>o;o++)this._addItem(s[o],r,n);t!==!1?this.setPaused(!1):this.setPaused(!0)},t.load=function(){this.setPaused(!1)},t.getItem=function(e){return this._loadItemsById[e]||this._loadItemsBySrc[e]},t.getResult=function(e,t){var i=this._loadItemsById[e]||this._loadItemsBySrc[e];if(null==i)return null;var n=i.id;return t&&this._loadedRawResults[n]?this._loadedRawResults[n]:this._loadedResults[n]},t.getItems=function(e){var t=[];for(var i in this._loadItemsById){var n=this._loadItemsById[i],s=this.getResult(i);(e!==!0||null!=s)&&t.push({item:n,result:s,rawResult:this.getResult(i,!0)})}return t},t.setPaused=function(e){this._paused=e,this._paused||this._loadNext()},t.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},t._addItem=function(e,t,i){var n=this._createLoadItem(e,t,i);if(null!=n){var s=this._createLoader(n);null!=s&&("plugins"in s&&(s.plugins=this._plugins),n._loader=s,this._loadQueue.push(s),this._loadQueueBackup.push(s),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&n.type==createjs.LoadQueue.JAVASCRIPT||n.maintainOrder===!0)&&(this._scriptOrder.push(n),this._loadedScripts.push(null)))}},t._createLoadItem=function(e,t,i){var n=createjs.LoadItem.create(e);if(null==n)return null;var s="",r=i||this._basePath;if(n.src instanceof Object){if(!n.type)return null;if(t){s=t;var a=createjs.RequestUtils.parseURI(t);null==r||a.absolute||a.relative||(s=r+s)}else null!=r&&(s=r)}else{var o=createjs.RequestUtils.parseURI(n.src);o.extension&&(n.ext=o.extension),null==n.type&&(n.type=createjs.RequestUtils.getTypeByExtension(n.ext));var c=n.src;if(!o.absolute&&!o.relative)if(t){s=t;var a=createjs.RequestUtils.parseURI(t);c=t+c,null==r||a.absolute||a.relative||(s=r+s)}else null!=r&&(s=r);n.src=s+n.src}n.path=s,(void 0===n.id||null===n.id||""===n.id)&&(n.id=c);var l=this._typeCallbacks[n.type]||this._extensionCallbacks[n.ext];if(l){var u=l.callback.call(l.scope,n,this);if(u===!1)return null;u===!0||null!=u&&(n._loader=u),o=createjs.RequestUtils.parseURI(n.src),null!=o.extension&&(n.ext=o.extension)}return this._loadItemsById[n.id]=n,this._loadItemsBySrc[n.src]=n,null==n.crossOrigin&&(n.crossOrigin=this._crossOrigin),n},t._createLoader=function(e){if(null!=e._loader)return e._loader;for(var t=this.preferXHR,i=0;i<this._availableLoaders.length;i++){var n=this._availableLoaders[i];if(n&&n.canLoadItem(e))return new n(e,t)}return null},t._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var e=0;e<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);e++){var t=this._loadQueue[e];this._canStartLoad(t)&&(this._loadQueue.splice(e,1),e--,this._loadItem(t))}}},t._loadItem=function(e){e.on("fileload",this._handleFileLoad,this),e.on("progress",this._handleProgress,this),e.on("complete",this._handleFileComplete,this),e.on("error",this._handleError,this),e.on("fileerror",this._handleFileError,this),this._currentLoads.push(e),this._sendFileStart(e.getItem()),e.load()},t._handleFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleFileError=function(e){var t=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,e.item);this._sendError(t)},t._handleError=function(e){var t=e.target;this._numItemsLoaded++,this._finishOrderedItem(t,!0),this._updateProgress();var i=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,t.getItem());this._sendError(i),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(t),this._cleanLoadItem(t),this._loadNext())},t._handleFileComplete=function(e){var t=e.target,i=t.getItem(),n=t.getResult();this._loadedResults[i.id]=n;var s=t.getResult(!0);null!=s&&s!==n&&(this._loadedRawResults[i.id]=s),this._saveLoadedItems(t),this._removeLoadItem(t),this._finishOrderedItem(t)||this._processFinishedLoad(i,t),this._cleanLoadItem(t)},t._saveLoadedItems=function(e){var t=e.getLoadedItems();if(null!==t)for(var i=0;i<t.length;i++){var n=t[i].item;this._loadItemsBySrc[n.src]=n,this._loadItemsById[n.id]=n,this._loadedResults[n.id]=t[i].result,this._loadedRawResults[n.id]=t[i].rawResult}},t._finishOrderedItem=function(e,t){var i=e.getItem();if(this.maintainScriptOrder&&i.type==createjs.LoadQueue.JAVASCRIPT||i.maintainOrder){e instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var n=createjs.indexOf(this._scriptOrder,i);return-1==n?!1:(this._loadedScripts[n]=t===!0?!0:i,this._checkScriptLoadOrder(),!0)}return!1},t._checkScriptLoadOrder=function(){for(var e=this._loadedScripts.length,t=0;e>t;t++){var i=this._loadedScripts[t];if(null===i)break;if(i!==!0){var n=this._loadedResults[i.id];i.type==createjs.LoadQueue.JAVASCRIPT&&createjs.DomUtils.appendToHead(n);var s=i._loader;this._processFinishedLoad(i,s),this._loadedScripts[t]=!0}}},t._processFinishedLoad=function(e,t){if(this._numItemsLoaded++,!this.maintainScriptOrder&&e.type==createjs.LoadQueue.JAVASCRIPT){var i=t.getTag();createjs.DomUtils.appendToHead(i)}this._updateProgress(),this._sendFileComplete(e,t),this._loadNext()},t._canStartLoad=function(e){if(!this.maintainScriptOrder||e.preferXHR)return!0;var t=e.getItem();if(t.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var i=this._scriptOrder.indexOf(t),n=0;i>n;){var s=this._loadedScripts[n];if(null==s)return!1;n++}return this._currentlyLoadingScript=!0,!0},t._removeLoadItem=function(e){for(var t=this._currentLoads.length,i=0;t>i;i++)if(this._currentLoads[i]==e){this._currentLoads.splice(i,1);break}},t._cleanLoadItem=function(e){var t=e.getItem();t&&delete t._loader},t._handleProgress=function(e){var t=e.target;this._sendFileProgress(t.getItem(),t.progress),this._updateProgress()},t._updateProgress=function(){var e=this._numItemsLoaded/this._numItems,t=this._numItems-this._numItemsLoaded;if(t>0){for(var i=0,n=0,s=this._currentLoads.length;s>n;n++)i+=this._currentLoads[n].progress;e+=i/t*(t/this._numItems)}this._lastProgress!=e&&(this._sendProgress(e),this._lastProgress=e)},t._disposeItem=function(e){delete this._loadedResults[e.id],delete this._loadedRawResults[e.id],delete this._loadItemsById[e.id],delete this._loadItemsBySrc[e.src]},t._sendFileProgress=function(e,t){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var i=new createjs.Event("fileprogress");i.progress=t,i.loaded=t,i.total=1,i.item=e,this.dispatchEvent(i)}},t._sendFileComplete=function(e,t){if(!this._isCanceled()&&!this._paused){var i=new createjs.Event("fileload");i.loader=t,i.item=e,i.result=this._loadedResults[e.id],i.rawResult=this._loadedRawResults[e.id],e.completeHandler&&e.completeHandler(i),this.hasEventListener("fileload")&&this.dispatchEvent(i)}},t._sendFileStart=function(e){var t=new createjs.Event("filestart");t.item=e,this.hasEventListener("filestart")&&this.dispatchEvent(t)},t.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.TEXT)}var t=(createjs.extend(e,createjs.AbstractLoader),e);t.canLoadItem=function(e){return e.type==createjs.AbstractLoader.TEXT},createjs.TextLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.BINARY},t._updateXHR=function(e){e.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",t?this._tag=document.createElement("style"):this._tag=document.createElement("link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.CSS},t._formatResult=function(e){if(this._preferXHR){var t=e.getTag();if(t.styleSheet)t.styleSheet.cssText=e.getResult(!0);else{var i=document.createTextNode(e.getResult(!0));t.appendChild(i)}}else t=this._tag;return createjs.DomUtils.appendToHead(t),t},createjs.CSSLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.RequestUtils.isImageTag(e)?this._tag=e:createjs.RequestUtils.isImageTag(e.src)?this._tag=e.src:createjs.RequestUtils.isImageTag(e.tag)&&(this._tag=e.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.IMAGE},t.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var e=this._item.crossOrigin;1==e&&(e="Anonymous"),null==e||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=e),this.AbstractLoader_load()},t._updateXHR=function(e){e.loader.mimeType="text/plain; charset=x-user-defined-binary",e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(e){var t=this;return function(i){var n=t._tag,s=window.URL||window.webkitURL;if(t._preferXHR)if(s){var r=s.createObjectURL(e.getResult(!0));n.src=r,n.onload=function(){s.revokeObjectURL(t.src)}}else n.src=e.getItem().src;else;n.complete?i(n):n.onload=function(){i(this)}}},createjs.ImageLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.JAVASCRIPT},t._formatResult=function(e){var t=e.getTag();return this._preferXHR&&(t.text=e.getResult(!0)),t},createjs.JavaScriptLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.JSON},t._formatResult=function(e){var t=null;try{t=createjs.DataUtils.parseJSON(e.getResult(!0))}catch(i){var n=new createjs.ErrorEvent("JSON_FORMAT",null,i);return this._sendError(n),i}return t},createjs.JSONLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!1,createjs.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.JSONP},t.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},t.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},t._handleLoad=function(e){this._result=this._rawResult=e,this._sendComplete(),this._dispose()},t._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},t._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,null,createjs.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.MANIFEST_PROGRESS=.25,i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.MANIFEST},t.load=function(){this.AbstractLoader_load()},t._createRequest=function(){var e=this._item.callback;null!=e?this._request=new createjs.JSONPLoader(this._item):this._request=new createjs.JSONLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(i.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=i.MANIFEST_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},t._loadManifest=function(e){if(e&&e.manifest){var t=this._manifestQueue=new createjs.LoadQueue;t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("complete",this._handleManifestComplete,this,!0),t.on("error",this._handleManifestError,this,!0);for(var i=0,n=this.plugins.length;n>i;i++)t.installPlugin(this.plugins[i]);t.loadManifest(e)}else this._sendComplete()},t._handleManifestFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleManifestComplete=function(e){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-i.MANIFEST_PROGRESS)+i.MANIFEST_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new createjs.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},createjs.ManifestLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(e)?this._tag=e:createjs.RequestUtils.isAudioTag(e.src)?this._tag=e:createjs.RequestUtils.isAudioTag(e.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(e)?e:e.src),null!=this._tag&&(this._preferXHR=!1)}var t=createjs.extend(e,createjs.AbstractMediaLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SOUND},t._createTag=function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},createjs.SoundLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.AbstractLoader.VIDEO),createjs.RequestUtils.isVideoTag(e)||createjs.RequestUtils.isVideoTag(e.src)?(this.setTag(createjs.RequestUtils.isVideoTag(e)?e:e.src),this._preferXHR=!1):this.setTag(this._createTag())}var t=createjs.extend(e,createjs.AbstractMediaLoader),i=e;t._createTag=function(){return document.createElement("video")},i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.VIDEO},createjs.VideoLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,null,createjs.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.SPRITESHEET_PROGRESS=.25,i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SPRITESHEET},t.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},t._createRequest=function(){var e=this._item.callback;null!=e?this._request=new createjs.JSONPLoader(this._item):this._request=new createjs.JSONLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(i.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=i.SPRITESHEET_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t._loadManifest=function(e){if(e&&e.images){var t=this._manifestQueue=new createjs.LoadQueue;
t.on("complete",this._handleManifestComplete,this,!0),t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("error",this._handleManifestError,this,!0),t.loadManifest(e.images)}},t._handleManifestFileLoad=function(e){var t=e.result;if(null!=t){var i=this.getResult().images,n=i.indexOf(e.item.src);i[n]=t}},t._handleManifestComplete=function(e){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-i.SPRITESHEET_PROGRESS)+i.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new createjs.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},createjs.SpriteSheetLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",t?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SVG},t._formatResult=function(e){var t=createjs.DataUtils.parseXML(e.getResult(!0),"text/xml"),i=e.getTag();return!this._preferXHR&&document.body.contains(i)&&document.body.removeChild(i),null!=t.documentElement?(i.appendChild(t.documentElement),i.style.visibility="visible",i):t},createjs.SVGLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.XML),this.resultFormatter=this._formatResult}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.XML},t._formatResult=function(e){return createjs.DataUtils.parseXML(e.getResult(!0),"text/xml")},createjs.XMLLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){var e=createjs.SoundJS=createjs.SoundJS||{};e.version="0.6.1",e.buildDate="Thu, 17 Sep 2015 13:19:38 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var i=e.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n){i[(t+="_")+"constructor"]=n.constructor;for(var s in n)i.hasOwnProperty(s)&&"function"==typeof n[s]&&(i[t+s]=n[s])}return e},this.createjs=this.createjs||{},createjs.indexOf=function(e,t){"use strict";for(var i=0,n=e.length;n>i;i++)if(t===e[i])return i;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(e,t){var i=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(i))}}}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"BrowserDetect cannot be instantiated"}var t=e.agent=window.navigator.userAgent;e.isWindowPhone=t.indexOf("IEMobile")>-1||t.indexOf("Windows Phone")>-1,e.isFirefox=t.indexOf("Firefox")>-1,e.isOpera=null!=window.opera,e.isChrome=t.indexOf("Chrome")>-1,e.isIOS=(t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1)&&!e.isWindowPhone,e.isAndroid=t.indexOf("Android")>-1&&!e.isWindowPhone,e.isBlackberry=t.indexOf("Blackberry")>-1,createjs.BrowserDetect=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,i){var n;n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=n[e];return s&&this.removeEventListener(e,t,i),s=n[e],s?s.push(t):n[e]=[t],t},t.on=function(e,t,i,n,s,r){return t.handleEvent&&(i=i||t,t=t.handleEvent),i=i||this,this.addEventListener(e,function(e){t.call(i,e,s),n&&e.remove()},r)},t.removeEventListener=function(e,t,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[e];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==t){1==a?delete n[e]:s.splice(r,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e){if("string"==typeof e){var t=this._listeners;if(!t||!t[e])return!1;e=new createjs.Event(e)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(i){}if(e.bubbles&&this.parent){for(var n=this,s=[n];n.parent;)s.push(n=n.parent);var r,a=s.length;for(r=a-1;r>=0&&!e.propagationStopped;r--)s[r]._dispatchEvent(e,1+(0==r));for(r=1;a>r&&!e.propagationStopped;r++)s[r]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,i=this._captureListeners;return!!(t&&t[e]||i&&i[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var i,n=1==t?this._captureListeners:this._listeners;if(e&&n){var s=n[e.type];if(!s||!(i=s.length))return;try{e.currentTarget=this}catch(r){}try{e.eventPhase=t}catch(r){}e.removed=!1,s=s.slice();for(var a=0;i>a&&!e.immediatePropagationStopped;a++){var o=s[a];o.handleEvent?o.handleEvent(e):o(e),e.removed&&(this.off(e.type,o,1==t),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.Event_constructor("error"),this.title=e,this.message=t,this.data=i}var t=createjs.extend(e,createjs.Event);t.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(e){"use strict";function t(e,t){this.Event_constructor("progress"),this.loaded=e,this.total=null==t?1:t,this.progress=0==t?0:this.loaded/this.total}var i=createjs.extend(t,createjs.Event);i.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,"Event")}(window),this.createjs=this.createjs||{},function(){"use strict";function e(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=i.LOAD_TIMEOUT_DEFAULT}var t=e.prototype={},i=e;i.LOAD_TIMEOUT_DEFAULT=8e3,i.create=function(t){if("string"==typeof t){var n=new e;return n.src=t,n}if(t instanceof i)return t;if(t instanceof Object&&t.src)return null==t.loadTimeout&&(t.loadTimeout=i.LOAD_TIMEOUT_DEFAULT),t;throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},createjs.LoadItem=i}(),function(){var e={};e.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,e.RELATIVE_PATT=/^[.\/]*?\//i,e.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,e.parseURI=function(t){var i={absolute:!1,relative:!1};if(null==t)return i;var n=t.indexOf("?");n>-1&&(t=t.substr(0,n));var s;return e.ABSOLUTE_PATT.test(t)?i.absolute=!0:e.RELATIVE_PATT.test(t)&&(i.relative=!0),(s=t.match(e.EXTENSION_PATT))&&(i.extension=s[1].toLowerCase()),i},e.formatQueryString=function(e,t){if(null==e)throw new Error("You must specify data.");var i=[];for(var n in e)i.push(n+"="+escape(e[n]));return t&&(i=i.concat(t)),i.join("&")},e.buildPath=function(e,t){if(null==t)return e;var i=[],n=e.indexOf("?");if(-1!=n){var s=e.slice(n+1);i=i.concat(s.split("&"))}return-1!=n?e.slice(0,n)+"?"+this._formatQueryString(t,i):e+"?"+this._formatQueryString(t,i)},e.isCrossDomain=function(e){var t=document.createElement("a");t.href=e.src;var i=document.createElement("a");i.href=location.href;var n=""!=t.hostname&&(t.port!=i.port||t.protocol!=i.protocol||t.hostname!=i.hostname);return n},e.isLocal=function(e){var t=document.createElement("a");return t.href=e.src,""==t.hostname&&"file:"==t.protocol},e.isBinary=function(e){switch(e){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},e.isImageTag=function(e){return e instanceof HTMLImageElement},e.isAudioTag=function(e){return window.HTMLAudioElement?e instanceof HTMLAudioElement:!1},e.isVideoTag=function(e){return window.HTMLVideoElement?e instanceof HTMLVideoElement:!1},e.isText=function(e){switch(e){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},e.getTypeByExtension=function(e){if(null==e)return createjs.AbstractLoader.TEXT;switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=i,this.resultFormatter=null,e?this._item=createjs.LoadItem.create(e):this._item=null,this._preferXHR=t,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var t=createjs.extend(e,createjs.EventDispatcher),i=e;i.POST="POST",i.GET="GET",i.BINARY="binary",i.CSS="css",i.IMAGE="image",i.JAVASCRIPT="javascript",i.JSON="json",i.JSONP="jsonp",i.MANIFEST="manifest",i.SOUND="sound",i.VIDEO="video",i.SPRITESHEET="spritesheet",i.SVG="svg",i.TEXT="text",i.XML="xml",t.getItem=function(){return this._item},t.getResult=function(e){return e?this._rawResult:this._result},t.getTag=function(){return this._tag},t.setTag=function(e){this._tag=e},t.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var e=new createjs.Event("initialize");e.loader=this._request,this.dispatchEvent(e),this._request.load()},t.cancel=function(){this.canceled=!0,this.destroy()},t.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},t.getLoadedItems=function(){return this._loadedItems},t._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._createTag=function(e){return null},t._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},t._sendProgress=function(e){if(!this._isCanceled()){var t=null;"number"==typeof e?(this.progress=e,t=new createjs.ProgressEvent(this.progress)):(t=e,this.progress=e.loaded/e.total,t.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(t)}},t._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var e=new createjs.Event("complete");e.rawResult=this._rawResult,null!=this._result&&(e.result=this._result),this.dispatchEvent(e)}},t._sendError=function(e){!this._isCanceled()&&this.hasEventListener("error")&&(null==e&&(e=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(e))},t._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},t.resultFormatter=null,t.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var t=this.resultFormatter&&this.resultFormatter(this),i=this;t instanceof Function?t(function(e){i._result=e,i._sendComplete()}):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(e.type)}},t.buildPath=function(e,t){return createjs.RequestUtils.buildPath(e,t)},t.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractLoader_constructor(e,t,i),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src"}var t=createjs.extend(e,createjs.AbstractLoader);t.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},t._createTag=function(){},t._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._formatResult=function(e){return this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(e.getTag().src=e.getResult(!0)),e.getTag()},createjs.AbstractMediaLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e){this._item=e},t=createjs.extend(e,createjs.EventDispatcher);t.load=function(){},t.destroy=function(){},t.cancel=function(){},createjs.AbstractRequest=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var t=createjs.extend(e,createjs.AbstractRequest);t.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var e=new createjs.Event("initialize");e.loader=this._tag,this.dispatchEvent(e),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},t.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleError=function(){this._clean(),this.dispatchEvent("error")},t._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},t._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},t._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},t._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},t._showTag=function(){this._tag.style.visibility=this._startTagVisibility},t._handleStalled=function(){},createjs.TagRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var t=createjs.extend(e,createjs.TagRequest);t.load=function(){var e=createjs.proxy(this._handleStalled,this);this._stalledCallback=e;var t=createjs.proxy(this._handleProgress,this);this._handleProgress=t,this._tag.addEventListener("stalled",e),this._tag.addEventListener("progress",t),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleStalled=function(){},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(e,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractRequest_constructor(e),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(e)}var t=createjs.extend(e,createjs.AbstractRequest);e.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},t.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},t.load=function(){if(null==this._request)return void this._handleError();this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(e){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,e))}},t.setResponseType=function(e){this._request.responseType=e},t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._handleLoadStart=function(e){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},t._handleAbort=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,e))},t._handleError=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(e.message))},t._handleReadyStateChange=function(e){4==this._request.readyState&&this._handleLoad()},t._handleLoad=function(e){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)return void this._handleError(t);this._response=this._getResponse(),this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},t._handleTimeout=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,e))},t._checkError=function(){var e=parseInt(this._request.status);switch(e){case 404:case 0:return new Error(e)}return null},t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(e){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(e){}return null},t._createXHR=function(e){var t=createjs.RequestUtils.isCrossDomain(e),i={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,t&&void 0===n.withCredentials&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var r=0,a=s.ACTIVEX_VERSIONS.length;a>r;r++){s.ACTIVEX_VERSIONS[r];try{n=new ActiveXObject(axVersions);break}catch(o){}}if(null==n)return!1}null==e.mimeType&&createjs.RequestUtils.isText(e.type)&&(e.mimeType="text/plain; charset=utf-8"),e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),this._xhrLevel="string"==typeof n.responseType?2:1;var c=null;if(c=e.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(e.src,e.values):e.src,n.open(e.method||createjs.AbstractLoader.GET,c,!0),t&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),e.values&&e.method==createjs.AbstractLoader.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),t||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),e.headers)for(var l in e.headers)i[l]=e.headers[l];for(l in i)n.setRequestHeader(l,i[l]);return n instanceof XMLHttpRequest&&void 0!==e.withCredentials&&(n.withCredentials=e.withCredentials),this._request=n,!0},t._clean=function(){clearTimeout(this._loadTimeout),this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)},t.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(e)?this._tag=e:createjs.RequestUtils.isAudioTag(e.src)?this._tag=e:createjs.RequestUtils.isAudioTag(e.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(e)?e:e.src),null!=this._tag&&(this._preferXHR=!1)}var t=createjs.extend(e,createjs.AbstractMediaLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SOUND},t._createTag=function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},createjs.SoundLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},t=e.prototype={},i=e;i.create=function(e){if(e instanceof i||e instanceof Object){var t=new createjs.PlayPropsConfig;return t.set(e),t}throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=i}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Sound cannot be instantiated"}function t(e,t){this.init(e,t)}var i=e;i.INTERRUPT_ANY="any",i.INTERRUPT_EARLY="early",i.INTERRUPT_LATE="late",i.INTERRUPT_NONE="none",i.PLAY_INITED="playInited",i.PLAY_SUCCEEDED="playSucceeded",i.PLAY_INTERRUPTED="playInterrupted",i.PLAY_FINISHED="playFinished",i.PLAY_FAILED="playFailed",i.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],i.EXTENSION_MAP={m4a:"mp4"},i.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,i.defaultInterruptBehavior=i.INTERRUPT_NONE,i.alternateExtensions=[],i.activePlugin=null,i._masterVolume=1,Object.defineProperty(i,"volume",{get:function(){return this._masterVolume},set:function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),i._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var t=this._instances,n=0,s=t.length;s>n;n++)t[n].setMasterVolume(e)}}),i._masterMute=!1,Object.defineProperty(i,"muted",{get:function(){return this._masterMute},set:function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,i=0,n=t.length;n>i;i++)t[i].setMasterMute(e);return!0}}),Object.defineProperty(i,"capabilities",{get:function(){return null==i.activePlugin?null:i.activePlugin._capabilities},set:function(e){return!1}}),i._pluginsRegistered=!1,i._lastID=0,i._instances=[],i._idHash={},i._preloadHash={},i._defaultPlayPropsHash={},i.addEventListener=null,i.removeEventListener=null,i.removeAllEventListeners=null,i.dispatchEvent=null,i.hasEventListener=null,i._listeners=null,createjs.EventDispatcher.initialize(i),i.getPreloadHandlers=function(){return{callback:createjs.proxy(i.initLoad,i),types:["sound"],extensions:i.SUPPORTED_EXTENSIONS}},i._handleLoadComplete=function(e){var t=e.target.getItem().src;if(i._preloadHash[t])for(var n=0,s=i._preloadHash[t].length;s>n;n++){var r=i._preloadHash[t][n];if(i._preloadHash[t][n]=!0,i.hasEventListener("fileload")){var e=new createjs.Event("fileload");e.src=r.src,e.id=r.id,e.data=r.data,e.sprite=r.sprite,i.dispatchEvent(e)}}},i._handleLoadError=function(e){var t=e.target.getItem().src;if(i._preloadHash[t])for(var n=0,s=i._preloadHash[t].length;s>n;n++){var r=i._preloadHash[t][n];if(i._preloadHash[t][n]=!1,i.hasEventListener("fileerror")){var e=new createjs.Event("fileerror");e.src=r.src,e.id=r.id,e.data=r.data,e.sprite=r.sprite,i.dispatchEvent(e)}}},i._registerPlugin=function(e){return e.isSupported()?(i.activePlugin=new e,!0):!1},i.registerPlugins=function(e){i._pluginsRegistered=!0;for(var t=0,n=e.length;n>t;t++)if(i._registerPlugin(e[t]))return!0;return!1},i.initializeDefaultPlugins=function(){return null!=i.activePlugin?!0:i._pluginsRegistered?!1:i.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1},i.isReady=function(){return null!=i.activePlugin},i.getCapabilities=function(){return null==i.activePlugin?null:i.activePlugin._capabilities},i.getCapability=function(e){return null==i.activePlugin?null:i.activePlugin._capabilities[e]},i.initLoad=function(e){return i._registerSound(e)},i._registerSound=function(e){if(!i.initializeDefaultPlugins())return!1;var n;if(e.src instanceof Object?(n=i._parseSrc(e.src),n.src=e.path+n.src):n=i._parsePath(e.src),null==n)return!1;e.src=n.src,e.type="sound";var s=e.data,r=null;if(null!=s&&(isNaN(s.channels)?isNaN(s)||(r=parseInt(s)):r=parseInt(s.channels),s.audioSprite))for(var a,o=s.audioSprite.length;o--;)a=s.audioSprite[o],i._idHash[a.id]={src:e.src,startTime:parseInt(a.startTime),duration:parseInt(a.duration)},a.defaultPlayProps&&(i._defaultPlayPropsHash[a.id]=createjs.PlayPropsConfig.create(a.defaultPlayProps));null!=e.id&&(i._idHash[e.id]={src:e.src});var c=i.activePlugin.register(e);return t.create(e.src,r),null!=s&&isNaN(s)?e.data.channels=r||t.maxPerChannel():e.data=r||t.maxPerChannel(),c.type&&(e.type=c.type),e.defaultPlayProps&&(i._defaultPlayPropsHash[e.src]=createjs.PlayPropsConfig.create(e.defaultPlayProps)),c},i.registerSound=function(e,t,n,s,r){var a={src:e,id:t,data:n,defaultPlayProps:r};e instanceof Object&&e.src&&(s=t,a=e),a=createjs.LoadItem.create(a),a.path=s,null==s||a.src instanceof Object||(a.src=s+e);var o=i._registerSound(a);if(!o)return!1;if(i._preloadHash[a.src]||(i._preloadHash[a.src]=[]),i._preloadHash[a.src].push(a),1==i._preloadHash[a.src].length)o.on("complete",createjs.proxy(this._handleLoadComplete,this)),o.on("error",createjs.proxy(this._handleLoadError,this)),i.activePlugin.preload(o);else if(1==i._preloadHash[a.src][0])return!0;return a},i.registerSounds=function(e,t){var i=[];e.path&&(t?t+=e.path:t=e.path,e=e.manifest);for(var n=0,s=e.length;s>n;n++)i[n]=createjs.Sound.registerSound(e[n].src,e[n].id,e[n].data,t,e[n].defaultPlayProps);return i},i.removeSound=function(e,n){if(null==i.activePlugin)return!1;e instanceof Object&&e.src&&(e=e.src);var s;if(e instanceof Object?s=i._parseSrc(e):(e=i._getSrcById(e).src,s=i._parsePath(e)),null==s)return!1;e=s.src,null!=n&&(e=n+e);for(var r in i._idHash)i._idHash[r].src==e&&delete i._idHash[r];return t.removeSrc(e),delete i._preloadHash[e],i.activePlugin.removeSound(e),!0},i.removeSounds=function(e,t){var i=[];e.path&&(t?t+=e.path:t=e.path,e=e.manifest);for(var n=0,s=e.length;s>n;n++)i[n]=createjs.Sound.removeSound(e[n].src,t);return i},i.removeAllSounds=function(){i._idHash={},i._preloadHash={},t.removeAll(),i.activePlugin&&i.activePlugin.removeAllSounds()},i.loadComplete=function(e){if(!i.isReady())return!1;var t=i._parsePath(e);return e=t?i._getSrcById(t.src).src:i._getSrcById(e).src,void 0==i._preloadHash[e]?!1:1==i._preloadHash[e][0]},i._parsePath=function(e){"string"!=typeof e&&(e=e.toString());var t=e.match(i.FILE_PATTERN);if(null==t)return!1;for(var n=t[4],s=t[5],r=i.capabilities,a=0;!r[s];)if(s=i.alternateExtensions[a++],a>i.alternateExtensions.length)return null;e=e.replace("."+t[5],"."+s);var o={name:n,src:e,extension:s};return o},i._parseSrc=function(e){var t={name:void 0,src:void 0,extension:void 0},n=i.capabilities;for(var s in e)if(e.hasOwnProperty(s)&&n[s]){t.src=e[s],t.extension=s;break}if(!t.src)return!1;var r=t.src.lastIndexOf("/");return-1!=r?t.name=t.src.slice(r+1):t.name=t.src,t},i.play=function(e,t,n,s,r,a,o,c,l){var u;u=t instanceof Object||t instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(t):createjs.PlayPropsConfig.create({interrupt:t,delay:n,offset:s,loop:r,volume:a,pan:o,startTime:c,duration:l});var h=i.createInstance(e,u.startTime,u.duration),d=i._playInstance(h,u);return d||h._playFailed(),h},i.createInstance=function(e,n,s){if(!i.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(e,n,s);var r=i._defaultPlayPropsHash[e];
e=i._getSrcById(e);var a=i._parsePath(e.src),o=null;return null!=a&&null!=a.src?(t.create(a.src),null==n&&(n=e.startTime),o=i.activePlugin.create(a.src,n,s||e.duration),r=r||i._defaultPlayPropsHash[a.src],r&&o.applyPlayProps(r)):o=new createjs.DefaultSoundInstance(e,n,s),o.uniqueId=i._lastID++,o},i.stop=function(){for(var e=this._instances,t=e.length;t--;)e[t].stop()},i.setVolume=function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),i._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var t=this._instances,n=0,s=t.length;s>n;n++)t[n].setMasterVolume(e)},i.getVolume=function(){return this._masterVolume},i.setMute=function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,i=0,n=t.length;n>i;i++)t[i].setMasterMute(e);return!0},i.getMute=function(){return this._masterMute},i.setDefaultPlayProps=function(e,t){e=i._getSrcById(e),i._defaultPlayPropsHash[i._parsePath(e.src).src]=createjs.PlayPropsConfig.create(t)},i.getDefaultPlayProps=function(e){return e=i._getSrcById(e),i._defaultPlayPropsHash[i._parsePath(e.src).src]},i._playInstance=function(e,t){var n=i._defaultPlayPropsHash[e.src]||{};if(null==t.interrupt&&(t.interrupt=n.interrupt||i.defaultInterruptBehavior),null==t.delay&&(t.delay=n.delay||0),null==t.offset&&(t.offset=e.getPosition()),null==t.loop&&(t.loop=e.loop),null==t.volume&&(t.volume=e.volume),null==t.pan&&(t.pan=e.pan),0==t.delay){var s=i._beginPlaying(e,t);if(!s)return!1}else{var r=setTimeout(function(){i._beginPlaying(e,t)},t.delay);e.delayTimeoutId=r}return this._instances.push(e),!0},i._beginPlaying=function(e,i){if(!t.add(e,i.interrupt))return!1;var n=e._beginPlaying(i);if(!n){var s=createjs.indexOf(this._instances,e);return s>-1&&this._instances.splice(s,1),!1}return!0},i._getSrcById=function(e){return i._idHash[e]||{src:e}},i._playFinished=function(e){t.remove(e);var i=createjs.indexOf(this._instances,e);i>-1&&this._instances.splice(i,1)},createjs.Sound=e,t.channels={},t.create=function(e,i){var n=t.get(e);return null==n?(t.channels[e]=new t(e,i),!0):!1},t.removeSrc=function(e){var i=t.get(e);return null==i?!1:(i._removeAll(),delete t.channels[e],!0)},t.removeAll=function(){for(var e in t.channels)t.channels[e]._removeAll();t.channels={}},t.add=function(e,i){var n=t.get(e.src);return null==n?!1:n._add(e,i)},t.remove=function(e){var i=t.get(e.src);return null==i?!1:(i._remove(e),!0)},t.maxPerChannel=function(){return n.maxDefault},t.get=function(e){return t.channels[e]};var n=t.prototype;n.constructor=t,n.src=null,n.max=null,n.maxDefault=100,n.length=0,n.init=function(e,t){this.src=e,this.max=t||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},n._get=function(e){return this._instances[e]},n._add=function(e,t){return this._getSlot(t,e)?(this._instances.push(e),this.length++,!0):!1},n._remove=function(e){var t=createjs.indexOf(this._instances,e);return-1==t?!1:(this._instances.splice(t,1),this.length--,!0)},n._removeAll=function(){for(var e=this.length-1;e>=0;e--)this._instances[e].stop()},n._getSlot=function(t,i){var n,s;if(t!=e.INTERRUPT_NONE&&(s=this._get(0),null==s))return!0;for(var r=0,a=this.max;a>r;r++){if(n=this._get(r),null==n)return!0;if(n.playState==e.PLAY_FINISHED||n.playState==e.PLAY_INTERRUPTED||n.playState==e.PLAY_FAILED){s=n;break}t!=e.INTERRUPT_NONE&&(t==e.INTERRUPT_EARLY&&n.getPosition()<s.getPosition()||t==e.INTERRUPT_LATE&&n.getPosition()>s.getPosition())&&(s=n)}return null!=s?(s._interrupt(),this._remove(s),!0):!1},n.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e,t,i,n){this.EventDispatcher_constructor(),this.src=e,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,t||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,i||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),n!==!1&&n!==!0&&this.setPlaybackResource(n),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},t=createjs.extend(e,createjs.EventDispatcher);t.play=function(e,t,i,n,s,r){var a;return a=e instanceof Object||e instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(e):createjs.PlayPropsConfig.create({interrupt:e,delay:t,offset:i,loop:n,volume:s,pan:r}),this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(a),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,a),this)},t.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},t.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},t.applyPlayProps=function(e){return null!=e.offset&&this.setPosition(e.offset),null!=e.loop&&this.setLoop(e.loop),null!=e.volume&&this.setVolume(e.volume),null!=e.pan&&this.setPan(e.pan),null!=e.startTime&&(this.setStartTime(e.startTime),this.setDuration(e.duration)),this},t.toString=function(){return"[AbstractSoundInstance]"},t.getPaused=function(){return this._paused},t.setPaused=function(e){return e!==!0&&e!==!1||this._paused==e||1==e&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=e,e?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},t.setVolume=function(e){return e==this._volume?this:(this._volume=Math.max(0,Math.min(1,e)),this._muted||this._updateVolume(),this)},t.getVolume=function(){return this._volume},t.setMuted=function(e){return e===!0||e===!1?(this._muted=e,this._updateVolume(),this):void 0},t.getMuted=function(){return this._muted},t.setPan=function(e){return e==this._pan?this:(this._pan=Math.max(-1,Math.min(1,e)),this._updatePan(),this)},t.getPan=function(){return this._pan},t.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},t.setPosition=function(e){return this._position=Math.max(0,e),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},t.getStartTime=function(){return this._startTime},t.setStartTime=function(e){return e==this._startTime?this:(this._startTime=Math.max(0,e||0),this._updateStartTime(),this)},t.getDuration=function(){return this._duration},t.setDuration=function(e){return e==this._duration?this:(this._duration=Math.max(0,e||0),this._updateDuration(),this)},t.setPlaybackResource=function(e){return this._playbackResource=e,0==this._duration&&this._setDurationFromSource(),this},t.getPlaybackResource=function(){return this._playbackResource},t.getLoop=function(){return this._loop},t.setLoop=function(e){null!=this._playbackResource&&(0!=this._loop&&0==e?this._removeLooping(e):0==this._loop&&0!=e&&this._addLooping(e)),this._loop=e},t._sendEvent=function(e){var t=new createjs.Event(e);this.dispatchEvent(t)},t._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},t._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},t._beginPlaying=function(e){return this.setPosition(e.offset),this.setLoop(e.loop),this.setVolume(e.volume),this.setPan(e.pan),null!=e.startTime&&(this.setStartTime(e.startTime),this.setDuration(e.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},t._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},t._handleSoundComplete=function(e){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},t._handleSoundReady=function(){},t._updateVolume=function(){},t._updatePan=function(){},t._updateStartTime=function(){},t._updateDuration=function(){},t._setDurationFromSource=function(){},t._calculateCurrentPosition=function(){},t._updatePosition=function(){},t._removeLooping=function(e){},t._addLooping=function(e){},t._pause=function(){},t._resume=function(){},t._handleStop=function(){},t._handleCleanUp=function(){},t._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(e,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},t=e.prototype;e._capabilities=null,e.isSupported=function(){return!0},t.register=function(e){var t=this._loaders[e.src];return t&&!t.canceled?this._loaders[e.src]:(this._audioSources[e.src]=!0,this._soundInstances[e.src]=[],t=new this._loaderClass(e),t.on("complete",createjs.proxy(this._handlePreloadComplete,this)),this._loaders[e.src]=t,t)},t.preload=function(e){e.on("error",createjs.proxy(this._handlePreloadError,this)),e.load()},t.isPreloadStarted=function(e){return null!=this._audioSources[e]},t.isPreloadComplete=function(e){return!(null==this._audioSources[e]||1==this._audioSources[e])},t.removeSound=function(e){if(this._soundInstances[e]){for(var t=this._soundInstances[e].length;t--;){var i=this._soundInstances[e][t];i.destroy()}delete this._soundInstances[e],delete this._audioSources[e],this._loaders[e]&&this._loaders[e].destroy(),delete this._loaders[e]}},t.removeAllSounds=function(){for(var e in this._audioSources)this.removeSound(e)},t.create=function(e,t,i){this.isPreloadStarted(e)||this.preload(this.register(e));var n=new this._soundInstanceClass(e,t,i,this._audioSources[e]);return this._soundInstances[e].push(n),n},t.setVolume=function(e){return this._volume=e,this._updateVolume(),!0},t.getVolume=function(){return this._volume},t.setMute=function(e){return this._updateVolume(),!0},t.toString=function(){return"[AbstractPlugin]"},t._handlePreloadComplete=function(e){var t=e.target.getItem().src;this._audioSources[t]=e.result;for(var i=0,n=this._soundInstances[t].length;n>i;i++){var s=this._soundInstances[t][i];s.setPlaybackResource(this._audioSources[t])}},t._handlePreloadError=function(e){},t._updateVolume=function(){},createjs.AbstractPlugin=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.SOUND)}var t=createjs.extend(e,createjs.AbstractLoader);e.context=null,t.toString=function(){return"[WebAudioLoader]"},t._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},t._sendComplete=function(t){e.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},t._handleAudioDecoded=function(e){this._result=e,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,s){this.AbstractSoundInstance_constructor(e,t,n,s),this.gainNode=i.context.createGain(),this.panNode=i.context.createPanner(),this.panNode.panningModel=i._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var t=createjs.extend(e,createjs.AbstractSoundInstance),i=e;i.context=null,i._scratchBuffer=null,i.destinationNode=null,i._panningModel="equalpower",t.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},t.toString=function(){return"[WebAudioSoundInstance]"},t._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},t._removeLooping=function(e){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},t._addLooping=function(e){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},t._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},t._cleanUpAudioNode=function(e){if(e){e.stop(0),e.disconnect(0);try{e.buffer=i._scratchBuffer}catch(t){}e=null}return e},t._handleSoundReady=function(e){this.gainNode.connect(i.destinationNode);var t=.001*this._duration,n=.001*this._position;n>t&&(n=t),this.sourceNode=this._createAndPlayAudioNode(i.context.currentTime-t,n),this._playbackStartTime=this.sourceNode.startTime-n,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(t-n)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._createAndPlayAudioNode=function(e,t){var n=i.context.createBufferSource();n.buffer=this.playbackResource,n.connect(this.panNode);var s=.001*this._duration;return n.startTime=e+s,n.start(n.startTime,t+.001*this._startTime,s-t),n},t._pause=function(){this._position=1e3*(i.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},t._resume=function(){this._handleSoundReady()},t._updateVolume=function(){var e=this._muted?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},t._calculateCurrentPosition=function(){return 1e3*(i.context.currentTime-this._playbackStartTime)},t._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},t._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},t._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(e,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.AbstractPlugin_constructor(),this._panningModel=i._panningModel,this.context=i.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=i._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var t=createjs.extend(e,createjs.AbstractPlugin),i=e;i._capabilities=null,i._panningModel="equalpower",i.context=null,i._scratchBuffer=null,i.isSupported=function(){var e=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return"file:"!=location.protocol||e||this._isFileXHRSupported()?(i._generateCapabilities(),null==i.context?!1:!0):!1},i.playEmptySound=function(){if(null!=i.context){var e=i.context.createBufferSource();e.buffer=i._scratchBuffer,e.connect(i.context.destination),e.start(0,0,0)}},i._isFileXHRSupported=function(){var e=!0,t=new XMLHttpRequest;try{t.open("GET","WebAudioPluginTest.fail",!1)}catch(i){return e=!1}t.onerror=function(){e=!1},t.onload=function(){e=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(i){e=!1}return e},i._generateCapabilities=function(){if(null==i._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;if(null==i.context)if(window.AudioContext)i.context=new AudioContext;else{if(!window.webkitAudioContext)return null;i.context=new webkitAudioContext}null==i._scratchBuffer&&(i._scratchBuffer=i.context.createBuffer(1,1,22050)),i._compatibilitySetUp(),i.playEmptySound(),i._capabilities={panning:!0,volume:!0,tracks:-1};for(var t=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,s=0,r=t.length;r>s;s++){var a=t[s],o=n[a]||a;i._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+o)&&""!=e.canPlayType("audio/"+o)}i.context.destination.numberOfChannels<2&&(i._capabilities.panning=!1)}},i._compatibilitySetUp=function(){if(i._panningModel="equalpower",!i.context.createGain){i.context.createGain=i.context.createGainNode;var e=i.context.createBufferSource();e.__proto__.start=e.__proto__.noteGrainOn,e.__proto__.stop=e.__proto__.noteOff,i._panningModel=0}},t.toString=function(){return"[WebAudioPlugin]"},t._addPropsToClasses=function(){var e=this._soundInstanceClass;e.context=this.context,e._scratchBuffer=this._scratchBuffer,e.destinationNode=this.gainNode,e._panningModel=this._panningModel,this._loaderClass.context=this.context},t._updateVolume=function(){var e=createjs.Sound._masterMute?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},createjs.WebAudioPlugin=createjs.promote(e,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"HTMLAudioTagPool cannot be instantiated"}function t(e){this._tags=[]}var i=e;i._tags={},i._tagPool=new t,i._tagUsed={},i.get=function(e){var t=i._tags[e];return null==t?(t=i._tags[e]=i._tagPool.get(),t.src=e):i._tagUsed[e]?(t=i._tagPool.get(),t.src=e):i._tagUsed[e]=!0,t},i.set=function(e,t){t==i._tags[e]?i._tagUsed[e]=!1:i._tagPool.set(t)},i.remove=function(e){var t=i._tags[e];return null==t?!1:(i._tagPool.set(t),delete i._tags[e],delete i._tagUsed[e],!0)},i.getDuration=function(e){var t=i._tags[e];return null!=t&&t.duration?1e3*t.duration:0},createjs.HTMLAudioTagPool=e;var n=t.prototype;n.constructor=t,n.get=function(){var e;return e=0==this._tags.length?this._createTag():this._tags.pop(),null==e.parentNode&&document.body.appendChild(e),e},n.set=function(e){var t=createjs.indexOf(this._tags,e);-1==t&&(this._tags.src=null,this._tags.push(e))},n.toString=function(){return"[TagPool]"},n._createTag=function(){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e}}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n){this.AbstractSoundInstance_constructor(e,t,i,n),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),i?this._audioSpriteStopTime=.001*(t+i):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var t=createjs.extend(e,createjs.AbstractSoundInstance);t.setMasterVolume=function(e){this._updateVolume()},t.setMasterMute=function(e){this._updateVolume()},t.toString=function(){return"[HTMLAudioSoundInstance]"},t._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},t._handleCleanUp=function(){var e=this._playbackResource;if(null!=e){e.pause(),e.loop=!1,e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{e.currentTime=this._startTime}catch(t){}createjs.HTMLAudioTagPool.set(this.src,e),this._playbackResource=null}},t._beginPlaying=function(e){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(e)},t._handleSoundReady=function(e){if(4!==this._playbackResource.readyState){var t=this._playbackResource;return t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.preload="auto",void t.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},t._handleTagReady=function(e){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},t._pause=function(){this._playbackResource.pause()},t._resume=function(){this._playbackResource.play()},t._updateVolume=function(){if(null!=this._playbackResource){var e=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;e!=this._playbackResource.volume&&(this._playbackResource.volume=e)}},t._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},t._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(e){this._handleSetPositionSeek(null)}},t._handleSetPositionSeek=function(e){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._handleAudioSpriteLoop=function(e){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},t._handleLoop=function(e){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(e,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=i._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var t=createjs.extend(e,createjs.AbstractPlugin),i=e;i.MAX_INSTANCES=30,i._AUDIO_READY="canplaythrough",i._AUDIO_ENDED="ended",i._AUDIO_SEEKED="seeked",i._AUDIO_STALLED="stalled",i._TIME_UPDATE="timeupdate",i._capabilities=null,i.isSupported=function(){return i._generateCapabilities(),null!=i._capabilities},i._generateCapabilities=function(){if(null==i._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;i._capabilities={panning:!1,volume:!0,tracks:-1};for(var t=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,s=0,r=t.length;r>s;s++){var a=t[s],o=n[a]||a;i._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+o)&&""!=e.canPlayType("audio/"+o)}}},t.register=function(e){var t=createjs.HTMLAudioTagPool.get(e.src),i=this.AbstractPlugin_register(e);return i.setTag(t),i},t.removeSound=function(e){this.AbstractPlugin_removeSound(e),createjs.HTMLAudioTagPool.remove(e)},t.create=function(e,t,i){var n=this.AbstractPlugin_create(e,t,i);return n.setPlaybackResource(null),n},t.toString=function(){return"[HTMLAudioPlugin]"},t.setVolume=t.getVolume=t.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(e,"AbstractPlugin")}(),define("soundjs",["easeljs"],function(e){return function(){var t;return t||e.createjs.SoundJS}}(this)),this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var i=e.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n){i[(t+="_")+"constructor"]=n.constructor;for(var s in n)i.hasOwnProperty(s)&&"function"==typeof n[s]&&(i[t+s]=n[s])}return e},this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,i){var n;n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=n[e];return s&&this.removeEventListener(e,t,i),s=n[e],s?s.push(t):n[e]=[t],t},t.on=function(e,t,i,n,s,r){return t.handleEvent&&(i=i||t,t=t.handleEvent),i=i||this,this.addEventListener(e,function(e){t.call(i,e,s),n&&e.remove()},r)},t.removeEventListener=function(e,t,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[e];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==t){1==a?delete n[e]:s.splice(r,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e){if("string"==typeof e){var t=this._listeners;if(!t||!t[e])return!1;e=new createjs.Event(e)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(i){}if(e.bubbles&&this.parent){for(var n=this,s=[n];n.parent;)s.push(n=n.parent);var r,a=s.length;for(r=a-1;r>=0&&!e.propagationStopped;r--)s[r]._dispatchEvent(e,1+(0==r));for(r=1;a>r&&!e.propagationStopped;r++)s[r]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,i=this._captureListeners;return!!(t&&t[e]||i&&i[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var i,n=1==t?this._captureListeners:this._listeners;if(e&&n){var s=n[e.type];if(!s||!(i=s.length))return;try{e.currentTarget=this}catch(r){}try{e.eventPhase=t}catch(r){}e.removed=!1,s=s.slice();for(var a=0;i>a&&!e.immediatePropagationStopped;a++){var o=s[a];o.handleEvent?o.handleEvent(e):o(e),e.removed&&(this.off(e.type,o,1==t),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ticker cannot be instantiated."}e.RAF_SYNCHED="synched",e.RAF="raf",e.TIMEOUT="timeout",e.useRAF=!1,e.timingMode=null,e.maxDelta=0,e.paused=!1,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._addEventListener=e.addEventListener,e.addEventListener=function(){return!e._inited&&e.init(),e._addEventListener.apply(e,arguments)},e._inited=!1,e._startTime=0,e._pausedTime=0,e._ticks=0,e._pausedTicks=0,e._interval=50,e._lastTime=0,e._times=null,e._tickTimes=null,e._timerId=null,e._raf=!0,e.setInterval=function(t){e._interval=t,e._inited&&e._setupTick()},e.getInterval=function(){return e._interval},e.setFPS=function(t){e.setInterval(1e3/t)},e.getFPS=function(){return 1e3/e._interval};try{Object.defineProperties(e,{interval:{get:e.getInterval,set:e.setInterval},framerate:{get:e.getFPS,set:e.setFPS}})}catch(t){}e.init=function(){e._inited||(e._inited=!0,e._times=[],e._tickTimes=[],e._startTime=e._getTime(),e._times.push(e._lastTime=0),e.interval=e._interval)},e.reset=function(){if(e._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(e._timerId)}else clearTimeout(e._timerId);e.removeAllEventListeners("tick"),e._timerId=e._times=e._tickTimes=null,e._startTime=e._lastTime=e._ticks=0,e._inited=!1},e.getMeasuredTickTime=function(t){var i=0,n=e._tickTimes;if(!n||n.length<1)return-1;t=Math.min(n.length,t||0|e.getFPS());for(var s=0;t>s;s++)i+=n[s];return i/t;
},e.getMeasuredFPS=function(t){var i=e._times;return!i||i.length<2?-1:(t=Math.min(i.length-1,t||0|e.getFPS()),1e3/((i[0]-i[t])/t))},e.setPaused=function(t){e.paused=t},e.getPaused=function(){return e.paused},e.getTime=function(t){return e._startTime?e._getTime()-(t?e._pausedTime:0):-1},e.getEventTime=function(t){return e._startTime?(e._lastTime||e._startTime)-(t?e._pausedTime:0):-1},e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)},e._handleSynch=function(){e._timerId=null,e._setupTick(),e._getTime()-e._lastTime>=.97*(e._interval-1)&&e._tick()},e._handleRAF=function(){e._timerId=null,e._setupTick(),e._tick()},e._handleTimeout=function(){e._timerId=null,e._setupTick(),e._tick()},e._setupTick=function(){if(null==e._timerId){var t=e.timingMode||e.useRAF&&e.RAF_SYNCHED;if(t==e.RAF_SYNCHED||t==e.RAF){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(i)return e._timerId=i(t==e.RAF?e._handleRAF:e._handleSynch),void(e._raf=!0)}e._raf=!1,e._timerId=setTimeout(e._handleTimeout,e._interval)}},e._tick=function(){var t=e.paused,i=e._getTime(),n=i-e._lastTime;if(e._lastTime=i,e._ticks++,t&&(e._pausedTicks++,e._pausedTime+=n),e.hasEventListener("tick")){var s=new createjs.Event("tick"),r=e.maxDelta;s.delta=r&&n>r?r:n,s.paused=t,s.time=i,s.runTime=i-e._pausedTime,e.dispatchEvent(s)}for(e._tickTimes.unshift(e._getTime()-i);e._tickTimes.length>100;)e._tickTimes.pop();for(e._times.unshift(i);e._times.length>100;)e._times.pop()};var i=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);e._getTime=function(){return(i&&i.call(performance)||(new Date).getTime())-e._startTime},createjs.Ticker=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(t,i,n){this.ignoreGlobalPause=!1,this.loop=!1,this.duration=0,this.pluginData=n||{},this.target=t,this.position=null,this.passive=!1,this._paused=!1,this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],this._prevPosition=0,this._stepPosition=0,this._prevPos=-1,this._target=t,this._useTicks=!1,this._inited=!1,this._registered=!1,i&&(this._useTicks=i.useTicks,this.ignoreGlobalPause=i.ignoreGlobalPause,this.loop=i.loop,i.onChange&&this.addEventListener("change",i.onChange),i.override&&e.removeTweens(t)),i&&i.paused?this._paused=!0:createjs.Tween._register(this,!0),i&&null!=i.position&&this.setPosition(i.position,e.NONE)}var t=createjs.extend(e,createjs.EventDispatcher);e.NONE=0,e.LOOP=1,e.REVERSE=2,e.IGNORE={},e._tweens=[],e._plugins={},e.get=function(t,i,n,s){return s&&e.removeTweens(t),new e(t,i,n)},e.tick=function(t,i){for(var n=e._tweens.slice(),s=n.length-1;s>=0;s--){var r=n[s];i&&!r.ignoreGlobalPause||r._paused||r.tick(r._useTicks?1:t)}},e.handleEvent=function(e){"tick"==e.type&&this.tick(e.delta,e.paused)},e.removeTweens=function(t){if(t.tweenjs_count){for(var i=e._tweens,n=i.length-1;n>=0;n--){var s=i[n];s._target==t&&(s._paused=!0,i.splice(n,1))}t.tweenjs_count=0}},e.removeAllTweens=function(){for(var t=e._tweens,i=0,n=t.length;n>i;i++){var s=t[i];s._paused=!0,s.target&&(s.target.tweenjs_count=0)}t.length=0},e.hasActiveTweens=function(t){return t?null!=t.tweenjs_count&&!!t.tweenjs_count:e._tweens&&!!e._tweens.length},e.installPlugin=function(t,i){var n=t.priority;null==n&&(t.priority=n=0);for(var s=0,r=i.length,a=e._plugins;r>s;s++){var o=i[s];if(a[o]){for(var c=a[o],l=0,u=c.length;u>l&&!(n<c[l].priority);l++);a[o].splice(l,0,t)}else a[o]=[t]}},e._register=function(t,i){var n=t._target,s=e._tweens;if(i&&!t._registered)n&&(n.tweenjs_count=n.tweenjs_count?n.tweenjs_count+1:1),s.push(t),!e._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",e),e._inited=!0);else if(!i&&t._registered){n&&n.tweenjs_count--;for(var r=s.length;r--;)if(s[r]==t){s.splice(r,1);break}}t._registered=i},t.wait=function(e,t){if(null==e||0>=e)return this;var i=this._cloneProps(this._curQueueProps);return this._addStep({d:e,p0:i,e:this._linearEase,p1:i,v:t})},t.to=function(e,t,i){return(isNaN(t)||0>t)&&(t=0),this._addStep({d:t||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(e))})},t.call=function(e,t,i){return this._addAction({f:e,p:t?t:[this],o:i?i:this._target})},t.set=function(e,t){return this._addAction({f:this._set,o:this,p:[e,t?t:this._target]})},t.play=function(e){return e||(e=this),this.call(e.setPaused,[!1],e)},t.pause=function(e){return e||(e=this),this.call(e.setPaused,[!0],e)},t.setPosition=function(e,t){0>e&&(e=0),null==t&&(t=1);var i=e,n=!1;if(i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,n=!0)),i==this._prevPos)return n;var s=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=e,this._target)if(n)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var r=0,a=this._steps.length;a>r&&!(this._steps[r].t>i);r++);var o=this._steps[r-1];this._updateTargetProps(o,(this._stepPosition=i-o.t)/o.d)}return 0!=t&&this._actions.length>0&&(this._useTicks?this._runActions(i,i):1==t&&s>i?(s!=this.duration&&this._runActions(s,this.duration),this._runActions(0,i,!0)):this._runActions(s,i)),n&&this.setPaused(!0),this.dispatchEvent("change"),n},t.tick=function(e){this._paused||this.setPosition(this._prevPosition+e)},t.setPaused=function(t){return this._paused===!!t?this:(this._paused=!!t,e._register(this,!t),this)},t.w=t.wait,t.t=t.to,t.c=t.call,t.s=t.set,t.toString=function(){return"[Tween]"},t.clone=function(){throw"Tween can not be cloned."},t._updateTargetProps=function(t,i){var n,s,r,a,o,c;if(t||1!=i){if(this.passive=!!t.v,this.passive)return;t.e&&(i=t.e(i,0,1,1)),n=t.p0,s=t.p1}else this.passive=!1,n=s=this._curQueueProps;for(var l in this._initQueueProps){null==(a=n[l])&&(n[l]=a=this._initQueueProps[l]),null==(o=s[l])&&(s[l]=o=a),r=a==o||0==i||1==i||"number"!=typeof a?1==i?o:a:a+(o-a)*i;var u=!1;if(c=e._plugins[l])for(var h=0,d=c.length;d>h;h++){var p=c[h].tween(this,l,r,n,s,i,!!t&&n==s,!t);p==e.IGNORE?u=!0:r=p}u||(this._target[l]=r)}},t._runActions=function(e,t,i){var n=e,s=t,r=-1,a=this._actions.length,o=1;for(e>t&&(n=t,s=e,r=a,a=o=-1);(r+=o)!=a;){var c=this._actions[r],l=c.t;(l==s||l>n&&s>l||i&&l==e)&&c.f.apply(c.o,c.p)}},t._appendQueueProps=function(t){var i,n,s,r,a;for(var o in t)if(void 0===this._initQueueProps[o]){if(n=this._target[o],i=e._plugins[o])for(s=0,r=i.length;r>s;s++)n=i[s].init(this,o,n);this._initQueueProps[o]=this._curQueueProps[o]=void 0===n?null:n}else n=this._curQueueProps[o];for(var o in t){if(n=this._curQueueProps[o],i=e._plugins[o])for(a=a||{},s=0,r=i.length;r>s;s++)i[s].step&&i[s].step(this,o,n,t[o],a);this._curQueueProps[o]=t[o]}return a&&this._appendQueueProps(a),this._curQueueProps},t._cloneProps=function(e){var t={};for(var i in e)t[i]=e[i];return t},t._addStep=function(e){return e.d>0&&(this._steps.push(e),e.t=this.duration,this.duration+=e.d),this},t._addAction=function(e){return e.t=this.duration,this._actions.push(e),this},t._set=function(e,t){for(var i in e)t[i]=e[i]},createjs.Tween=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.duration=0,this.loop=!1,this.position=null,this._paused=!1,this._tweens=[],this._labels=null,this._labelList=null,this._prevPosition=0,this._prevPos=-1,this._useTicks=!1,this._registered=!1,i&&(this._useTicks=i.useTicks,this.loop=i.loop,this.ignoreGlobalPause=i.ignoreGlobalPause,i.onChange&&this.addEventListener("change",i.onChange)),e&&this.addTween.apply(this,e),this.setLabels(t),i&&i.paused?this._paused=!0:createjs.Tween._register(this,!0),i&&null!=i.position&&this.setPosition(i.position,createjs.Tween.NONE)}var t=createjs.extend(e,createjs.EventDispatcher);t.addTween=function(e){var t=arguments.length;if(t>1){for(var i=0;t>i;i++)this.addTween(arguments[i]);return arguments[0]}return 0==t?null:(this.removeTween(e),this._tweens.push(e),e.setPaused(!0),e._paused=!1,e._useTicks=this._useTicks,e.duration>this.duration&&(this.duration=e.duration),this._prevPos>=0&&e.setPosition(this._prevPos,createjs.Tween.NONE),e)},t.removeTween=function(e){var t=arguments.length;if(t>1){for(var i=!0,n=0;t>n;n++)i=i&&this.removeTween(arguments[n]);return i}if(0==t)return!1;for(var s=this._tweens,n=s.length;n--;)if(s[n]==e)return s.splice(n,1),e.duration>=this.duration&&this.updateDuration(),!0;return!1},t.addLabel=function(e,t){this._labels[e]=t;var i=this._labelList;if(i){for(var n=0,s=i.length;s>n&&!(t<i[n].position);n++);i.splice(n,0,{label:e,position:t})}},t.setLabels=function(e){this._labels=e?e:{}},t.getLabels=function(){var e=this._labelList;if(!e){e=this._labelList=[];var t=this._labels;for(var i in t)e.push({label:i,position:t[i]});e.sort(function(e,t){return e.position-t.position})}return e},t.getCurrentLabel=function(){var e=this.getLabels(),t=this.position,i=e.length;if(i){for(var n=0;i>n&&!(t<e[n].position);n++);return 0==n?null:e[n-1].label}return null},t.gotoAndPlay=function(e){this.setPaused(!1),this._goto(e)},t.gotoAndStop=function(e){this.setPaused(!0),this._goto(e)},t.setPosition=function(e,t){var i=this._calcPosition(e),n=!this.loop&&e>=this.duration;if(i==this._prevPos)return n;this._prevPosition=e,this.position=this._prevPos=i;for(var s=0,r=this._tweens.length;r>s;s++)if(this._tweens[s].setPosition(i,t),i!=this._prevPos)return!1;return n&&this.setPaused(!0),this.dispatchEvent("change"),n},t.setPaused=function(e){this._paused=!!e,createjs.Tween._register(this,!e)},t.updateDuration=function(){this.duration=0;for(var e=0,t=this._tweens.length;t>e;e++){var i=this._tweens[e];i.duration>this.duration&&(this.duration=i.duration)}},t.tick=function(e){this.setPosition(this._prevPosition+e)},t.resolve=function(e){var t=Number(e);return isNaN(t)&&(t=this._labels[e]),t},t.toString=function(){return"[Timeline]"},t.clone=function(){throw"Timeline can not be cloned."},t._goto=function(e){var t=this.resolve(e);null!=t&&this.setPosition(t)},t._calcPosition=function(e){return 0>e?0:e<this.duration?e:this.loop?e%this.duration:this.duration},createjs.Timeline=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ease cannot be instantiated."}e.linear=function(e){return e},e.none=e.linear,e.get=function(e){return-1>e&&(e=-1),e>1&&(e=1),function(t){return 0==e?t:0>e?t*(t*-e+1+e):t*((2-t)*e+(1-e))}},e.getPowIn=function(e){return function(t){return Math.pow(t,e)}},e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}},e.getPowInOut=function(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)},e.sineOut=function(e){return Math.sin(e*Math.PI/2)},e.sineInOut=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}},e.backIn=e.getBackIn(1.7),e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}},e.backOut=e.getBackOut(1.7),e.getBackInOut=function(e){return e*=1.525,function(t){return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},e.backInOut=e.getBackInOut(1.7),e.circIn=function(e){return-(Math.sqrt(1-e*e)-1)},e.circOut=function(e){return Math.sqrt(1- --e*e)},e.circInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},e.bounceInOut=function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(e,t){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var s=t/i*Math.asin(1/e);return-(e*Math.pow(2,10*(n-=1))*Math.sin((n-s)*i/t))}},e.elasticIn=e.getElasticIn(1,.3),e.getElasticOut=function(e,t){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var s=t/i*Math.asin(1/e);return e*Math.pow(2,-10*n)*Math.sin((n-s)*i/t)+1}},e.elasticOut=e.getElasticOut(1,.3),e.getElasticInOut=function(e,t){var i=2*Math.PI;return function(n){var s=t/i*Math.asin(1/e);return(n*=2)<1?-.5*(e*Math.pow(2,10*(n-=1))*Math.sin((n-s)*i/t)):e*Math.pow(2,-10*(n-=1))*Math.sin((n-s)*i/t)*.5+1}},e.elasticInOut=e.getElasticInOut(1,.3*1.5),createjs.Ease=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"MotionGuidePlugin cannot be instantiated."}e.priority=0,e._rotOffS,e._rotOffE,e._rotNormS,e._rotNormE,e.install=function(){return createjs.Tween.installPlugin(e,["guide","x","y","rotation"]),createjs.Tween.IGNORE},e.init=function(e,t,i){var n=e.target;return n.hasOwnProperty("x")||(n.x=0),n.hasOwnProperty("y")||(n.y=0),n.hasOwnProperty("rotation")||(n.rotation=0),"rotation"==t&&(e.__needsRot=!0),"guide"==t?null:i},e.step=function(t,i,n,s,r){if("rotation"==i&&(t.__rotGlobalS=n,t.__rotGlobalE=s,e.testRotData(t,r)),"guide"!=i)return s;var a,o=s;o.hasOwnProperty("path")||(o.path=[]);var c=o.path;if(o.hasOwnProperty("end")||(o.end=1),o.hasOwnProperty("start")||(o.start=n&&n.hasOwnProperty("end")&&n.path===c?n.end:0),o.hasOwnProperty("_segments")&&o._length)return s;var l=c.length,u=10;if(!(l>=6&&(l-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";o._segments=[],o._length=0;for(var h=2;l>h;h+=4){for(var d,p,f=c[h-2],g=c[h-1],_=c[h+0],m=c[h+1],v=c[h+2],b=c[h+3],y=f,w=g,E=0,T=[],j=1;u>=j;j++){var L=j/u,S=1-L;d=S*S*f+2*S*L*_+L*L*v,p=S*S*g+2*S*L*m+L*L*b,E+=T[T.push(Math.sqrt((a=d-y)*a+(a=p-w)*a))-1],y=d,w=p}o._segments.push(E),o._segments.push(T),o._length+=E}a=o.orient,o.orient=!0;var A={};return e.calc(o,o.start,A),t.__rotPathS=Number(A.rotation.toFixed(5)),e.calc(o,o.end,A),t.__rotPathE=Number(A.rotation.toFixed(5)),o.orient=!1,e.calc(o,o.end,r),o.orient=a,o.orient?(t.__guideData=o,e.testRotData(t,r),s):s},e.testRotData=function(e,t){if(void 0===e.__rotGlobalS||void 0===e.__rotGlobalE){if(e.__needsRot)return;void 0!==e._curQueueProps.rotation?e.__rotGlobalS=e.__rotGlobalE=e._curQueueProps.rotation:e.__rotGlobalS=e.__rotGlobalE=t.rotation=e.target.rotation||0}if(void 0!==e.__guideData){var i=e.__guideData,n=e.__rotGlobalE-e.__rotGlobalS,s=e.__rotPathE-e.__rotPathS,r=n-s;if("auto"==i.orient)r>180?r-=360:-180>r&&(r+=360);else if("cw"==i.orient){for(;0>r;)r+=360;0==r&&n>0&&180!=n&&(r+=360)}else if("ccw"==i.orient){for(r=n-(s>180?360-s:s);r>0;)r-=360;0==r&&0>n&&-180!=n&&(r-=360)}i.rotDelta=r,i.rotOffS=e.__rotGlobalS-e.__rotPathS,e.__rotGlobalS=e.__rotGlobalE=e.__guideData=e.__needsRot=void 0}},e.tween=function(t,i,n,s,r,a,o,c){var l=r.guide;if(void 0==l||l===s.guide)return n;if(l.lastRatio!=a){var u=(l.end-l.start)*(o?l.end:a)+l.start;switch(e.calc(l,u,t.target),l.orient){case"cw":case"ccw":case"auto":t.target.rotation+=l.rotOffS+l.rotDelta*a;break;case"fixed":default:t.target.rotation+=l.rotOffS}l.lastRatio=a}return"rotation"!=i||l.orient&&"false"!=l.orient?t.target[i]:n},e.calc=function(t,i,n){void 0==t._segments&&e.validate(t),void 0==n&&(n={x:0,y:0,rotation:0});for(var s=t._segments,r=t.path,a=t._length*i,o=s.length-2,c=0;a>s[c]&&o>c;)a-=s[c],c+=2;var l=s[c+1],u=0;for(o=l.length-1;a>l[u]&&o>u;)a-=l[u],u++;var h=u/++o+a/(o*l[u]);c=2*c+2;var d=1-h;return n.x=d*d*r[c-2]+2*d*h*r[c+0]+h*h*r[c+2],n.y=d*d*r[c-1]+2*d*h*r[c+1]+h*h*r[c+3],t.orient&&(n.rotation=57.2957795*Math.atan2((r[c+1]-r[c-1])*d+(r[c+3]-r[c+1])*h,(r[c+0]-r[c-2])*d+(r[c+2]-r[c+0])*h)),n},createjs.MotionGuidePlugin=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.TweenJS=createjs.TweenJS||{};e.version="0.6.1",e.buildDate="Thu, 17 Sep 2015 13:21:04 GMT"}(),define("tweenjs",["easeljs"],function(e){return function(){var t;return t||e.createjs.Tween}}(this)),this.createjs=this.createjs||{},function(){"use strict";function e(t,i,n,s){this.Container_constructor(),!e.inited&&e.init(),this.mode=t||e.INDEPENDENT,this.startPosition=i||0,this.loop=n,this.currentFrame=0,this.timeline=new createjs.Timeline(null,s,{paused:!0,position:i,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}function t(){throw"MovieClipPlugin cannot be instantiated."}var i=createjs.extend(e,createjs.Container);e.INDEPENDENT="independent",e.SINGLE_FRAME="single",e.SYNCHED="synched",e.inited=!1,e.init=function(){e.inited||(t.install(),e.inited=!0)},i.getLabels=function(){return this.timeline.getLabels()},i.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},i.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(i,{labels:{get:i.getLabels},currentLabel:{get:i.getCurrentLabel},totalFrames:{get:i.getDuration},duration:{get:i.getDuration}})}catch(n){}i.initialize=e,i.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},i.draw=function(e,t){return this.DisplayObject_draw(e,t)?!0:(this._updateTimeline(),this.Container_draw(e,t),!0)},i.play=function(){this.paused=!1},i.stop=function(){this.paused=!0},i.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},i.gotoAndStop=function(e){this.paused=!0,this._goto(e)},i.advance=function(t){var i=e.INDEPENDENT;if(this.mode==i){for(var n=this,s=n.framerate;(n=n.parent)&&null==s;)n.mode==i&&(s=n._framerate);this._framerate=s;var r=null!=s&&-1!=s&&null!=t?t/(1e3/s)+this._t:1,a=0|r;for(this._t=r-a;!this.paused&&a--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},i.clone=function(){throw"MovieClip cannot be cloned."},i.toString=function(){return"[MovieClip (name="+this.name+")]"},i._tick=function(e){this.advance(e&&e.delta),this.Container__tick(e)},i._goto=function(e){var t=this.timeline.resolve(e);null!=t&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=t,this._t=0,this._updateTimeline())},i._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},i._updateTimeline=function(){var t=this.timeline,i=this.mode!=e.INDEPENDENT;t.loop=null==this.loop?!0:this.loop;var n=i?this.startPosition+(this.mode==e.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,s=i||!this.actionsEnabled?createjs.Tween.NONE:null;if(this.currentFrame=t._calcPosition(n),t.setPosition(n,s),this._prevPosition=t._prevPosition,this._prevPos!=t._prevPos){this.currentFrame=this._prevPos=t._prevPos;for(var r in this._managed)this._managed[r]=1;for(var a=t._tweens,o=0,c=a.length;c>o;o++){var l=a[o],u=l._target;if(u!=this&&!l.passive){var h=l._stepPosition;u instanceof createjs.DisplayObject?this._addManagedChild(u,h):this._setState(u.state,h)}}var d=this.children;for(o=d.length-1;o>=0;o--){var p=d[o].id;1==this._managed[p]&&(this.removeChildAt(o),delete this._managed[p])}}},i._setState=function(e,t){if(e)for(var i=e.length-1;i>=0;i--){var n=e[i],s=n.t,r=n.p;for(var a in r)s[a]=r[a];this._addManagedChild(s,t)}},i._addManagedChild=function(t,i){t._off||(this.addChildAt(t,0),t instanceof e&&(t._synchOffset=i,t.mode==e.INDEPENDENT&&t.autoReset&&!this._managed[t.id]&&t._reset()),this._managed[t.id]=2)},i._getBounds=function(e,t){var i=this.DisplayObject_getBounds();return i||(this._updateTimeline(),this.frameBounds&&(i=this._rectangle.copy(this.frameBounds[this.currentFrame]))),i?this._transformBounds(i,e,t):this.Container__getBounds(e,t)},createjs.MovieClip=createjs.promote(e,"Container"),t.priority=100,t.install=function(){createjs.Tween.installPlugin(t,["startPosition"])},t.init=function(e,t,i){return i},t.step=function(){},t.tween=function(t,i,n,s,r,a,o,c){return t.target instanceof e?1==a?r[i]:s[i]:n}}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.MovieClip=createjs.MovieClip||{};e.version="0.8.1",e.buildDate="Thu, 17 Sep 2015 13:13:22 GMT"}(),define("movieclipjs",["easeljs","tweenjs"],function(e){return function(){var t;return t||e.createjs.MovieClip}}(this)),define("createjs",[],function(){return window.createjs}),define("lib/core/manifests",[],function(){return function(e,t,i,n){return e[t].map(function(t){var s,r=e.root,a=t.indexOf("."),o=null;return o=a>-1?t.slice(r.length+1,a):t.slice(r.length+1),s={id:o,src:i+t},n&&(s.type=n),s})}}),define("lib/core/bootstrap",["require","createjs","./manifests"],function(e){function t(e){var t={},i=t;return e.forEach(function(e){var n,s,r=e.item.id.split("/"),a=e.result;for(n=0;n<r.length;n++)s=r[n],n===r.length-1?i[s]=a:(i[s]||(i[s]={}),i=i[s]);i=t}),t}var i=e("createjs"),n=e("./manifests");return function(e,s){var r=new i.LoadQueue,a=new i.LoadQueue,o=e.urlGameFolder;r.addEventListener("complete",function(t){var i=t.target.getResult("loaderManifest"),s=n(i,"loader",e.urlGameFolder);a.loadManifest(s)}),r.loadFile({id:"loaderManifest",src:o+"assets/loader.json"}),a.addEventListener("complete",function(e){s(t(e.target.getItems()))})}}),define("lib/core/interfaces",[],function(){var e={game:["initialize","reInitialize","startUserInteraction","reStartUserInteraction","enterResultScreenState","updateBalance","error","warn"],loader:["draw","update","hide"]};return function(t,i){e[t].forEach(function(e){var n="Couldn't find method "+e+" on the given "+t+" module.",s="You need to implement this.",r=n+" "+s;if(!i.hasOwnProperty(e))throw new Error(r)})}}),define("lib/core/stage",["require","createjs"],function(e){var t=e("createjs");return function(e){var i=window.lib&&window.lib.properties&&window.lib.properties.fps,n=new t.Stage(e);return t.Touch.enable(n),n.update(),t.Ticker.setFPS(i||24),t.Ticker.addEventListener("tick",n),n}}),define("lib/util/string",["require"],function(e){function t(){for(var e=Array.prototype.slice.call(arguments),t=arguments[0],i=e.length-1;i--;)t=t.replace(new RegExp("\\{"+i+"\\}","gm"),e[i+1]);return t}return{format:t}}),define("game/loader",["require","../lib/core/stage","../lib/util/string"],function(e){var t=e("../lib/core/stage"),i=e("../lib/util/string"),n=i.format;return function(e,i){function s(){function s(){d=new createjs.Bitmap(i.portraitBG),l=i.portraitBG.src,e.parentElement.style.background=n("url({0}) 50% 0%",i.portraitBG.src),e.parentElement.style.backgroundSize="cover",f=0,g=d.getBounds().height/2-v,_=600/m,a.x=d.getBounds().width/2-a.getBounds().width/2,a.y=d.getBounds().height/2.5+a.getBounds().height/2}function r(){d=new createjs.Bitmap(i.landscapeBG),l=i.landscapeBG.src,e.parentElement.style.background=n("url({0}) 50% 0%",i.landscapeBG.src),e.parentElement.style.backgroundSize="cover",f=155,g=0,_=1,a.x=d.getBounds().width/2-a.getBounds().width/2,a.y=d.getBounds().height/1.5+a.getBounds().height/2}var a=new createjs.Bitmap(i.loaderBarBack),d=null;c=new createjs.Bitmap(i.loaderBarFront);var p=window.game.ColorCubes.main.config.locale.toLowerCase();h=void 0!=i[p]&&void 0!=i[p].colorCubesLogo?new createjs.Bitmap(i[p].colorCubesLogo):new createjs.Bitmap(i.colorCubesLogo),window.game.ColorCubes.main.rgsResources=i;var f,g,_,m=h.getBounds().width,v=h.getBounds().height,b=(document.getElementById(window.game.ColorCubes.main.config.targetDivId).offsetWidth,window.game.ColorCubes.main.config.siteId);window.game.ColorCubes.main.siteConfig=i.site_game_configuration[b]||i.site_game_configuration["default"],(e.width>e.height?r:s).call(null),c.x=a.x,c.y=a.y,h.x=f,h.y=g,h.scaleX=_,h.scaleY=_,u=new createjs.Shape,u.x=c.getBounds().x,u.y=c.getBounds().y,u.scaleX=0,u.graphics.drawRect(c.x,c.y,c.getBounds().width,c.getBounds().height).closePath(),c.mask=u,o=(new createjs.Container).set(),o.addChild(h,a,c),t.addChild(o)}function r(e){c.mask.scaleX=e}function a(){e.parentElement.style.background=n("url({0}) 50% 0%",l),e.parentElement.style.backgroundSize="cover",t.removeChild(o)}t=t(e);var o,c,l,u,h;return{draw:s,hide:a,update:r}}}),define("lib/plugin/SpriteSheet",["require","createjs"],function(e){var t=e("createjs"),i=function(){},n=i;return n.getPreloadHandlers=function(){return{callback:n.preloadHandler,types:["spritesheet"]}},n.preloadHandler=function(e,i){var s=new t.SpriteSheetLoader(e);return n.queue=i,s.addEventListener("loadstart",t.proxy(n.definitionLoadHandler,n)),s._loadManifest=function(e){var i;e&&e.images&&(e.images=e.images.map(function(e){return n.basePath+e}),i=this._manifestQueue=new t.LoadQueue,i.on("complete",this._handleManifestComplete,this,!0),i.on("fileload",this._handleManifestFileLoad,this),i.on("progress",this._handleManifestProgress,this),i.on("error",this._handleManifestError,this,!0),i.loadManifest(e.images))},s},i}),define("lib/core/assets",["require","./manifests","../plugin/SpriteSheet","createjs"],function(e){function t(e,t){var i=".mp3",n=e.audio.filter(function(e){return e.indexOf(i)>-1});return e.audio=n,u(e,"audio",t,d.AbstractLoader.SOUND)}function i(e,t){return u(e,"sprites",t,d.AbstractLoader.SPRITESHEET)}function n(e,t){return u(e,"js",t,d.AbstractLoader.JAVASCRIPT)}function s(e,t,i,n){function s(e,t){return e.reduce(function(e,i,n){var s=e;return i.forEach(function(e,r){r===i.length-1&&(s[e]=t[n]),s[e]||(s[e]={}),s=s[e]}),e},{})}if(r=u(e,"lang",t,d.AbstractLoader.JSON),a=r.map(function(e){return e.id.split("/")}),o=s(a,r),c=o[i]||o["default"],!c)throw new Error("No suitable language file found for locale ",i);if(l=c[n]||c["default"],!l)throw new Error("No suitable language file found for site ",n);return[l.language_file]}var r,a,o,c,l,u=e("./manifests"),h=e("../plugin/SpriteSheet"),d=e("createjs");return function(e,r,a){var o=e.locale,c=e.siteId,l=new d.LoadQueue,u=new d.LoadQueue(!0,e.urlGameFolder),p=[{id:"audioManifest",src:e.urlGameFolder+"assets/audio.json"},{id:"spriteManifest",src:e.urlGameFolder+"assets/sprites.json"},{id:"jsManifest",src:e.urlGameFolder+"assets/js.json"},{id:"langManifest",src:e.urlGameFolder+"lang/lang.json"}];window.ss=window.ss||{},window.strings=window.strings||{},h.basePath=e.urlGameFolder,u.installPlugin(h),d.Sound.setMute(!1),d.Sound.alternateExtensions=["ogg","m4a"],u.installPlugin(d.Sound),l.addEventListener("complete",function(e){var r=t(e.target.getResult("audioManifest"),""),a=i(e.target.getResult("spriteManifest"),""),l=n(e.target.getResult("jsManifest"),""),h=s(e.target.getResult("langManifest"),"",o,c);u.loadManifest(Array.prototype.concat.call(r,a,l,h))}),l.loadManifest(p),u.addEventListener("progress",function(e){r.update(e.progress)}),u.addEventListener("fileload",function(e){e.item.type===d.AbstractLoader.SPRITESHEET&&(window.ss[e.item.id]=u.getResult(e.item.id)),e.item.type===d.AbstractLoader.JSON&&(window.strings=u.getResult(e.item.id)),e.item.type===d.AbstractLoader.SOUND&&d.Sound.setDefaultPlayProps(e.item.src,{pan:1e-4})}),u.addEventListener("complete",function(){setTimeout(a,1500)})}}),define("lib/core/exit",[],function(){return function(e,t){var i=t.Ticker._listeners.tick;delete window.strings,delete window.ss,t.Sound.setMute(!0),t.Sound.removeAllSounds();try{t.WebAudioPlugin.context.close()}catch(n){}i.filter(function(e){return e instanceof t.Stage}).forEach(function(e){e.enableDOMEvents(!1),e.enableMouseOver(!1)}),t.Ticker.removeAllEventListeners(),e.canvas.parentElement.style.background="",e.canvas.parentElement.style.backgroundSize="",e.canvas.parentElement.style.webkitUserSelect="",e.canvas.parentElement.style.webkitTapHighlightColor="",document.getElementById(e.config.targetDivId).innerHTML=""}}),define("game/uiPresenter",["require","../lib/util/string"],function(e){var t=e("../lib/util/string");return function(e,i,n,s){function r(e){for(var t=0;t<e.revealConfigurations.length;t++)D[t]=e.revealConfigurations[t].price,B[t]=window.gtk.jLottery.formatCurrency({amount:D[t],numberOfDecimalsToReturn:0}).formattedAmount,N[t]=e.revealConfigurations[t].prizeTable,2==s.jLotteryPhase&&"normal"==s.gameType||(currentWager=n.betMeter.pricePoint||e.pricePointGameDefault,pricePointIndex=D.indexOf(currentWager));(2!=s.jLotteryPhase||"normal"!=s.gameType)&&a(pricePointIndex)}function a(e){q=[],F=[];for(var t,i=0;i<k.revealConfigurations.length;i++)if(String(k.revealConfigurations[i].price)===String(D[e])){t=k.revealConfigurations[i].prizeTable;break}for(var n=0;n<t.length;n++)F[n]=t[n].prize,q[n]=window.gtk.jLottery.formatCurrency({amount:t[n].prize,numberOfDecimalsToReturn:0}).formattedAmount;o(t)}function o(e){for(var t=1;t<e.length-2;t++){var n=window.gtk.jLottery.formatCurrency({amount:e[t-1].prize,numberOfDecimalsToReturn:0}).formattedAmount;i["scoreLevel"+t].value.text=n}}function c(e){return F[e]}function l(){X.visible=!0,A=createjs.Sound.play("Generic_Click_44kMono"),n.helpBtn.visible=!1,n.helpCloseBtn.visible=!0,n.audioOnBtn.visible=createjs.Sound.muted,n.audioOffBtn.visible=!createjs.Sound.muted,n.helpBtn.dispatchEvent("open")}function u(e){A=createjs.Sound.play("Generic_Click_44kMono"),X.visible=!1,n.helpBtn.visible=!0,n.helpCloseBtn.visible=!1,n.audioOnBtn.visible=!1,n.audioOffBtn.visible=!1,n.helpCloseBtn.dispatchEvent("clicked")}function h(){f(!0),M=!1,n.buyBtn.visible=!1,n.plusBtn.visible=!1,n.minusBtn.visible=!1,n.playForMoneyBtn.visible=!1,n.buyBtn.dispatchEvent("clicked"),y(s.defaultWinsValue)}function d(){var e=s.gameConfigurationDetails.availablePrices,t=n.betMeter.pricePoint||k.pricePointGameDefault,i=s.gameConfigurationDetails.availablePrices.indexOf(t);a(i),n.plusBtn.visible=!0,n.minusBtn.visible=!0,n.plusBtn.mouseEnabled=!0,n.minusBtn.mouseEnabled=!0,n.plusBtn.alpha=1,n.minusBtn.alpha=1;var r=i!==e.length-1,o=0!==i;r||(n.plusBtn.mouseEnabled=!1,n.plusBtn.alpha=.5),o||(n.minusBtn.mouseEnabled=!1,n.minusBtn.alpha=.5),r||o||(n.plusBtn.visible=!1,n.minusBtn.visible=!1)}function p(){H=!0,new createjs.Tween.get(null,{loop:!1}).wait(1e3*s.compulsionDelayInSeconds).call(function(){n.buyBtn.visible=H,j(!0,!1),1==H&&(d(),n.buyBtn.dispatchEvent("compulsionDelayTriggered"))})}function f(e){e?U=setTimeout(function(){n.loadingAnim.play(),n.loadingAnim.visible=!0},3e3):(clearTimeout(U),n.loadingAnim.visible=!1,n.loadingAnim.stop())}function g(e){n.balanceMeter.label.text=e}function _(e){n.betMeter.label.text=e}function m(e){n.winMeter.label.text=e}function v(t,i){var s=t;i&&(s=e.formatCurrency(t,I).formattedAmount),n.balanceMeter.value.text=s}function b(t){n.betMeter.pricePoint=t;var i=e.formatCurrency(t,I).formattedAmount;"TRY"==s.wagerType&&(i=strings.ui.demo+i),n.betMeter.value.text=i,n.betMeter.dispatchEvent("change")}function y(e){n.winMeter.winValue=e,n.winMeter.value.text=e}function w(e){O=!0,n.timeoutWarningPlaque.text.text=e.warningMessage,n.timeoutWarningPlaque.continueBtn.label.text=e.continueButtonText,n.timeoutWarningPlaque.exitBtn.label.text=e.exitButtonText}function E(e){f(!1),n.errorPlaque.text.text=t.format(strings.error.errorCode,e.errorCode,e.errorDescriptionSpecific,e.errorDescriptionGeneric),n.errorPlaque.visible=!0}function T(){n.balanceMeter.visible=s.balanceDisplayInGame}function j(e,t){"TRY"==s.wagerType&&2==s.jLotteryPhase&&s.demosB4Move2MoneyButton>-1&&(n.playForMoneyBtn.visible=R>=s.demosB4Move2MoneyButton&&e,t&&R++)}function L(e,t){X.text=e,X.font="bold 15px 'Arial'",X.color=t}function S(e){M=e}var A,x,P,C,M="normal"==s.gameType,I=0,R=0,O=!1,k=s.gameConfigurationDetails,D=[],B=[],N=[],q=[],F=[];r(k),n.timeoutWarningPlaque.visible=!1,n.errorPlaque.visible=!1,n.exitGameBtn.visible=!1,n.buyBtn.visible=!1,n.audioOffBtn.visible=!1,n.audioOnBtn.visible=!1,n.playForMoneyBtn.visible=!1,n.minusBtn.visible=!1,n.plusBtn.visible=!1,n.exitBtn.visible=2==s.jLotteryPhase&&"ticketReady"!==s.gameType,2==s.jLotteryPhase&&"ticketReady"!==s.gameType&&d(),"TRY"==s.wagerType&&2==s.jLotteryPhase&&R>=s.demosB4Move2MoneyButton&&s.demosB4Move2MoneyButton>-1&&(n.playForMoneyBtn.visible=!0,"ticketReady"==s.gameType&&(n.playForMoneyBtn.visible=s.moveToMoneyButtonEnabledWhilePlaying)),
"TRY"==s.wagerType&&"ticketReady"==s.gameType&&(R=1),createjs.Sound.muted=s.soundStartDisabled,n.loadingAnim.visible=!1,n.loadingAnim.stop();var W=strings.ui.buy||s.wagerType;"TRY"==s.wagerType&&(W=strings.ui["try"]||s.wagerType),n.buyBtn.label.text=W,n.exitGameBtn.label.text=strings.ui.exit,n.playForMoneyBtn.label.text=strings.ui.playForMoney,n.errorPlaque.exitBtn.label.text=strings.ui.exit,g(strings.ui.balance),_(strings.ui.wager),m(strings.ui.wins),T(),"TRY"==s.wagerType&&(n.balanceMeter.visible=!1,m(strings.ui.demoWins)),n.exitBtn.addEventListener("click",function(){e.playerWantsToExit()}),n.audioOnBtn.addEventListener("click",function(){createjs.Sound.setMute(!1),n.audioOffBtn.visible=!0,n.audioOnBtn.visible=!1}),n.audioOffBtn.addEventListener("click",function(){createjs.Sound.setMute(!0),n.audioOnBtn.visible=!0,n.audioOffBtn.visible=!1}),n.helpBtn.addEventListener("click",l),n.helpCloseBtn.addEventListener("click",u),n.plusBtn.addEventListener("click",function(){var e=s.gameConfigurationDetails.availablePrices.indexOf(n.betMeter.pricePoint),t=e+1;n.minusBtn.mouseEnabled=!0,n.minusBtn.alpha=1,n.betMeter.pricePoint=s.gameConfigurationDetails.availablePrices[t],b(n.betMeter.pricePoint),a(t),t==s.gameConfigurationDetails.availablePrices.length-1&&(n.plusBtn.mouseEnabled=!1,n.plusBtn.alpha=.5);try{C.stop()}catch(i){}C=createjs.Sound.play("BetUp")}),n.minusBtn.addEventListener("click",function(){var e=s.gameConfigurationDetails.availablePrices.indexOf(n.betMeter.pricePoint),t=e-1;n.plusBtn.mouseEnabled=!0,n.plusBtn.alpha=1,n.betMeter.pricePoint=s.gameConfigurationDetails.availablePrices[e-1],b(n.betMeter.pricePoint),a(t),0===t&&(n.minusBtn.mouseEnabled=!1,n.minusBtn.alpha=.5);try{P.stop()}catch(i){}P=createjs.Sound.play("BetDown")});var H=!1;n.buyBtn.addEventListener("click",function(){n.exitBtn.visible=!1,x=createjs.Sound.play("Playbutton_v2_44kMono"),H=!1,u(),M?(e.playerWantsToPlay(n.betMeter.pricePoint),h()):O?(n.timeoutWarningPlaque.visible=!0,O=!1):(e.playerWantsToRePlay(n.betMeter.pricePoint),h())}),n.timeoutWarningPlaque.continueBtn.addEventListener("click",function(){e.playerWantsToRePlay(n.betMeter.pricePoint),n.timeoutWarningPlaque.visible=!1,h()}),n.timeoutWarningPlaque.exitBtn.addEventListener("click",function(){e.playerWantsToExit()}),n.exitGameBtn.addEventListener("click",function(){e.playerWantsToExit()}),n.playForMoneyBtn.addEventListener("click",function(){f(!0),M=!0,n.playForMoneyBtn.visible=!1,s.wagerType="BUY",n.playForMoneyBtn.dispatchEvent("playForMoney"),e.playerWantsToMoveToMoneyGame()}),n.errorPlaque.exitBtn.addEventListener("click",function(){e.playerWantsToExit()});var U;n.timeoutWarningPlaque.addEventListener("click",function(){});var X=new createjs.Text;X.name="versionNumber",X.textAlign="left",X.lineHeight=20,X.lineWidth=80;var G=n.audioOnBtn.getTransformedBounds();return X.setTransform(G.x+G.width,0),X.visible=!1,n.addChild(X),L("4.12.18.2R","#33ACB4"),{setBalanceMeterLabel:g,setBetMeterLabel:_,setWinMeterLabel:m,updateBalanceMeter:v,updateBetMeter:b,updateWinMeter:y,prepareTimeoutWarningMessage:w,displayErrorMessage:E,displayBalance:T,networkActivity:f,showTicketCostButtons:d,showPlayForMoneyButton:j,showButtonsAfterCompulsionDelay:p,showHelp:l,hideHelp:u,generateLegacyInfo:r,giveMeThePrize:c,setInitialPlay:S}}}),define("game/row",["require"],function(e){return function(e,t){function i(){t.scoreLevel1.cube1.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel1.cube1.anim).wait(28).call(function(){t.scoreLevel1.cube1.anim.stop()})),t.scoreLevel1.cube2.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel1.cube2.anim).wait(28).call(function(){t.scoreLevel1.cube2.anim.stop()})),t.scoreLevel1.cube3.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel1.cube3.anim).wait(28).call(function(){t.scoreLevel1.cube3.anim.stop()})),t.scoreLevel1.cube4.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel1.cube4.anim).wait(28).call(function(){t.scoreLevel1.cube4.anim.stop()})),t.scoreLevel1.cube5.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel1.cube5.anim).wait(28).call(function(){t.scoreLevel1.cube5.anim.stop()})),t.scoreLevel1.cube6.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel1.cube6.anim).wait(28).call(function(){t.scoreLevel1.cube6.anim.stop()})),t.scoreLevel1.cube7.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel1.cube7.anim).wait(28).call(function(){t.scoreLevel1.cube7.anim.stop()})),t.scoreLevel1.cube8.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel1.cube8.anim).wait(28).call(function(){t.scoreLevel1.cube8.anim.stop()})),t.scoreLevel1.cube9.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel1.cube9.anim).wait(28).call(function(){t.scoreLevel1.cube9.anim.stop()})),t.scoreLevel1.cube10.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel1.cube10.anim).wait(28).call(function(){t.scoreLevel1.cube10.anim.stop()})),t.scoreLevel1.cube11.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel1.cube11.anim).wait(28).call(function(){t.scoreLevel1.cube11.anim.stop()})),t.scoreLevel2.cube1.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel2.cube1.anim).wait(28).call(function(){t.scoreLevel2.cube1.anim.stop()})),t.scoreLevel2.cube2.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel2.cube2.anim).wait(28).call(function(){t.scoreLevel2.cube2.anim.stop()})),t.scoreLevel2.cube3.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel2.cube3.anim).wait(28).call(function(){t.scoreLevel2.cube3.anim.stop()})),t.scoreLevel2.cube4.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel2.cube4.anim).wait(28).call(function(){t.scoreLevel2.cube4.anim.stop()})),t.scoreLevel2.cube5.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel2.cube5.anim).wait(28).call(function(){t.scoreLevel2.cube5.anim.stop()})),t.scoreLevel2.cube6.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel2.cube6.anim).wait(28).call(function(){t.scoreLevel2.cube6.anim.stop()})),t.scoreLevel2.cube7.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel2.cube7.anim).wait(28).call(function(){t.scoreLevel2.cube7.anim.stop()})),t.scoreLevel2.cube8.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel2.cube8.anim).wait(28).call(function(){t.scoreLevel2.cube8.anim.stop()})),t.scoreLevel2.cube9.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel2.cube9.anim).wait(28).call(function(){t.scoreLevel2.cube9.anim.stop()})),t.scoreLevel2.cube10.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel2.cube10.anim).wait(28).call(function(){t.scoreLevel2.cube10.anim.stop()})),t.scoreLevel3.cube1.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel3.cube1.anim).wait(28).call(function(){t.scoreLevel3.cube1.anim.stop()})),t.scoreLevel3.cube2.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel3.cube2.anim).wait(28).call(function(){t.scoreLevel3.cube2.anim.stop()})),t.scoreLevel3.cube3.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel3.cube3.anim).wait(28).call(function(){t.scoreLevel3.cube3.anim.stop()})),t.scoreLevel3.cube4.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel3.cube4.anim).wait(28).call(function(){t.scoreLevel3.cube4.anim.stop()})),t.scoreLevel3.cube5.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel3.cube5.anim).wait(28).call(function(){t.scoreLevel3.cube5.anim.stop()})),t.scoreLevel3.cube6.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel3.cube6.anim).wait(28).call(function(){t.scoreLevel3.cube6.anim.stop()})),t.scoreLevel3.cube7.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel3.cube7.anim).wait(28).call(function(){t.scoreLevel3.cube7.anim.stop()})),t.scoreLevel3.cube8.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel3.cube8.anim).wait(28).call(function(){t.scoreLevel3.cube8.anim.stop()})),t.scoreLevel3.cube9.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel3.cube9.anim).wait(28).call(function(){t.scoreLevel3.cube9.anim.stop()})),t.scoreLevel4.cube1.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel4.cube1.anim).wait(28).call(function(){t.scoreLevel4.cube1.anim.stop()})),t.scoreLevel4.cube2.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel4.cube2.anim).wait(28).call(function(){t.scoreLevel4.cube2.anim.stop()})),t.scoreLevel4.cube3.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel4.cube3.anim).wait(28).call(function(){t.scoreLevel4.cube3.anim.stop()})),t.scoreLevel4.cube4.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel4.cube4.anim).wait(28).call(function(){t.scoreLevel4.cube4.anim.stop()})),t.scoreLevel4.cube5.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel4.cube5.anim).wait(28).call(function(){t.scoreLevel4.cube5.anim.stop()})),t.scoreLevel4.cube6.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel4.cube6.anim).wait(28).call(function(){t.scoreLevel4.cube6.anim.stop()})),t.scoreLevel4.cube7.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel4.cube7.anim).wait(28).call(function(){t.scoreLevel4.cube7.anim.stop()})),t.scoreLevel4.cube8.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel4.cube8.anim).wait(28).call(function(){t.scoreLevel4.cube8.anim.stop()})),t.scoreLevel5.cube1.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel5.cube1.anim).wait(28).call(function(){t.scoreLevel5.cube1.anim.stop()})),t.scoreLevel5.cube2.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel5.cube2.anim).wait(28).call(function(){t.scoreLevel5.cube2.anim.stop()})),t.scoreLevel5.cube3.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel5.cube3.anim).wait(28).call(function(){t.scoreLevel5.cube3.anim.stop()})),t.scoreLevel5.cube4.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel5.cube4.anim).wait(28).call(function(){t.scoreLevel5.cube4.anim.stop()})),t.scoreLevel5.cube5.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel5.cube5.anim).wait(28).call(function(){t.scoreLevel5.cube5.anim.stop()})),t.scoreLevel5.cube6.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel5.cube6.anim).wait(28).call(function(){t.scoreLevel5.cube6.anim.stop()})),t.scoreLevel5.cube7.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel5.cube7.anim).wait(28).call(function(){t.scoreLevel5.cube7.anim.stop()})),t.scoreLevel6.cube1.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel6.cube1.anim).wait(28).call(function(){t.scoreLevel6.cube1.anim.stop()})),t.scoreLevel6.cube2.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel6.cube2.anim).wait(28).call(function(){t.scoreLevel6.cube2.anim.stop()})),t.scoreLevel6.cube3.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel6.cube3.anim).wait(28).call(function(){t.scoreLevel6.cube3.anim.stop()})),t.scoreLevel6.cube4.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel6.cube4.anim).wait(28).call(function(){t.scoreLevel6.cube4.anim.stop()})),t.scoreLevel6.cube5.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel6.cube5.anim).wait(28).call(function(){t.scoreLevel6.cube5.anim.stop()})),t.scoreLevel6.cube6.anim.timeline.addTween(createjs.Tween.get(t.scoreLevel6.cube6.anim).wait(28).call(function(){t.scoreLevel6.cube6.anim.stop()}))}function n(){u=[],h=0}function s(){clearInterval(l),l=setInterval(r,100)}function r(){if(h++,h>11)clearInterval(l),h=0,l=setInterval(s,500);else for(var e=0;e<u.length;e++){var i=u[e],n=d[i-1][h-1];0!=n&&(t["scoreLevel"+i]["cube"+n].anim.visible=!0,t["scoreLevel"+i]["cube"+n].anim.gotoAndPlay(1))}}function a(e,i){t["scoreLevel"+e].winGlow.gotoAndPlay(1),t["scoreLevel"+e].winGlow.visible=!0;for(var n=1;i>n;n++)t["scoreLevel"+e]["cube"+n].nearWinBalckoutPulse.visible=!0,t["scoreLevel"+e]["cube"+n].nearWinBalckoutPulse.gotoAndPlay(1)}function o(e,i){for(var n=1;i>n;n++)t["scoreLevel"+e]["cube"+n].nearWinBalckoutPulse.gotoAndStop(0),t["scoreLevel"+e]["cube"+n].nearWinBalckoutPulse.visible=!1;u.push(e),s(e)}function c(){clearInterval(l)}var l,u=[],h=0,d=[];return d[0]=[1,2,3,4,5,6,7,8,9,10,11],d[1]=[0,1,2,3,4,5,6,7,8,9,10],d[2]=[0,0,1,2,3,4,5,6,7,8,9],d[3]=[0,0,0,1,2,3,4,5,6,7,8],d[4]=[0,0,0,0,1,2,3,4,5,6,7],d[5]=[0,0,0,0,0,1,2,3,4,5,6],{showNearWin:a,showWin:o,addTweensToTimeline:i,initVars:n,reset:c}}}),define("game/scoreboard",["require","../game/row"],function(e){return function t(i,t,n){function s(){b=0,y=[],T=[],j=[];for(var e=0;6>e;e++)y[e]=0,w[e]=!1,E[e]=!1;_.initVars(),_.reset();for(var e=1;7>e;e++){t["scoreLevel"+e].winGlow.gotoAndStop(0),t["scoreLevel"+e].winGlow.visible=!1;for(var i=1;i<t.amtArr[e-1]+1;i++)t["scoreLevel"+e]["cube"+i].anim.gotoAndStop(0),t["scoreLevel"+e]["cube"+i].anim.visible=!1,t["scoreLevel"+e]["cube"+i].nearWinBalckoutPulse.gotoAndStop(0),t["scoreLevel"+e]["cube"+i].nearWinBalckoutPulse.visible=!1,t["scoreLevel"+e]["cube"+i].blackout.visible=!0}}function r(e,i){switch(e){case"purple":y[0]++,t.scoreLevel1["cube"+i].blackout.visible=!1;break;case"blue":y[1]++,t.scoreLevel2["cube"+i].blackout.visible=!1;break;case"green":y[2]++,t.scoreLevel3["cube"+i].blackout.visible=!1;break;case"yellow":y[3]++,t.scoreLevel4["cube"+i].blackout.visible=!1;break;case"orange":y[4]++,t.scoreLevel5["cube"+i].blackout.visible=!1;break;case"red":y[5]++,t.scoreLevel6["cube"+i].blackout.visible=!1}p()}function a(e){E[e]||(E[e]=!0,T.push(e+1),h())}function o(){t.scoreLevel1.winElectric.timeline.addTween(createjs.Tween.get(t.scoreLevel1.winElectric).wait(24).call(function(){t.scoreLevel1.winElectric.stop()})),t.scoreLevel2.winElectric.timeline.addTween(createjs.Tween.get(t.scoreLevel2.winElectric).wait(24).call(function(){t.scoreLevel2.winElectric.stop()})),t.scoreLevel3.winElectric.timeline.addTween(createjs.Tween.get(t.scoreLevel3.winElectric).wait(24).call(function(){t.scoreLevel3.winElectric.stop()})),t.scoreLevel4.winElectric.timeline.addTween(createjs.Tween.get(t.scoreLevel4.winElectric).wait(24).call(function(){t.scoreLevel4.winElectric.stop()})),t.scoreLevel5.winElectric.timeline.addTween(createjs.Tween.get(t.scoreLevel5.winElectric).wait(24).call(function(){t.scoreLevel5.winElectric.stop()})),t.scoreLevel6.winElectric.timeline.addTween(createjs.Tween.get(t.scoreLevel6.winElectric).wait(24).call(function(){t.scoreLevel6.winElectric.stop()})),t.scoreInstantWin.winElectric.timeline.addTween(createjs.Tween.get(t.scoreInstantWin.winElectric).wait(24).call(function(){t.scoreInstantWin.winElectric.stop()})),_.addTweensToTimeline()}function c(e){if(!w[e]){w[e]=!0,t["scoreLevel"+(e+1)].bgColour.visible=!0,t["scoreLevel"+(e+1)].winGlow.visible=!1,t["scoreLevel"+(e+1)].winGlow.gotoAndStop(0),t["scoreLevel"+(e+1)].winElectric.visible=!0,t["scoreLevel"+(e+1)].winElectric.gotoAndPlay(1);for(var i=e+1,n=0;n<T.length;n++)i==T[n]&&T.splice(n,1);j.push(e),d(),t["scoreLevel"+(e+1)].dispatchEvent("cubeWin"),m=createjs.Sound.play("PlayTableRowCompleteFlashV1_44kMono"),m.addEventListener("complete",function(){v=createjs.Sound.play("PlayTableRowCompleteMusicv2_44kMono")})}}function l(){t.scoreInstantWin.blackout.visible=!1,t.scoreInstantWin.winElectric.visible=!0,t.scoreInstantWin.winElectric.gotoAndPlay(1),m=createjs.Sound.play("PlayTableRowCompleteFlashV1_44kMono"),m.addEventListener("complete",function(){v=createjs.Sound.play("PlayTableRowCompleteMusicv2_44kMono")})}function u(){for(var e=1;7>e;e++){t["scoreLevel"+e].winGlow.gotoAndStop(0),t["scoreLevel"+e].winGlow.visible=!1;for(var i=1;i<t.amtArr[e-1]+1;i++)t["scoreLevel"+e]["cube"+i].nearWinBalckoutPulse.gotoAndStop(0),t["scoreLevel"+e]["cube"+i].nearWinBalckoutPulse.visible=!1}}function h(){for(var e=0;e<T.length;e++){var t=T[e];_.showNearWin(t,y[t-1]+1)}}function d(){for(var e=0;e<j.length;e++){var t=j[e]+1;_.showWin(t,y[t-1]+1)}}function p(){11==y[0]?c(0):10==y[0]&&a(0),10==y[1]?c(1):9==y[1]&&a(1),9==y[2]?c(2):8==y[2]&&a(2),8==y[3]?c(3):7==y[3]&&a(3),7==y[4]?c(4):6==y[4]&&a(4),6==y[5]?c(5):5==y[5]&&a(5)}function f(e){var t=-1;switch(e){case"purple":t=0;break;case"blue":t=1;break;case"green":t=2;break;case"yellow":t=3;break;case"orange":t=4;break;case"red":t=5}return y[t]}function g(){t.dispatchEvent("win")}var _=e("../game/row");_=new _(i,t);for(var m,v,b=0,y=[],w=[],E=[],T=[],j=[],L=0;6>L;L++)y[L]=0,w[L]=!1,E[L]=!1;return{reset:s,addToScoreBoard:r,checkWin:g,returnCount:f,stopAllNearWins:u,addTweensToTimeline:o,displayInstantWin:l}}}),define("game/cubes",["require"],function(e){return function(e,t){function i(){for(var e=1;8>e;e++)for(var i=1;8>i;i++){var n="cube_"+e+"_"+i,s=t.gameArea.cubesClip;s[n].y=R[i],s[n].x=I[e]}}function n(e){try{var i=58/t.gameArea.cubesClip[e].getBounds().width;t.gameArea.cubesClip[e].scaleX=i,t.gameArea.cubesClip[e].scaleY=i}catch(n){}}function s(e){for(var i=[],n=1;8>n;n++){i[n-1]=[];for(var s=1;8>s;s++){var r=e[n-1][s-1],a=t.gameArea.cubesClip,o=a.getChildIndex(a[r]);i[n-1][s-1]=o}}return i}function r(e,i,n,s){for(var r=1;8>r;r++)for(var a=1;8>a;a++){var o="cube_"+r+"_"+a;h(o),_(o);var c=t.gameArea.cubesClip;c.setChildIndex(c[o],s[r-1][a-1]),c[o].y=i[r-1][a-1],g(o,n[r-1][a-1]);var l=58/t.gameArea.cubesClip[o].getBounds().width;t.gameArea.cubesClip[o].scaleX=l,t.gameArea.cubesClip[o].scaleY=l}}function a(e,i){var n=t.gameArea.cubesClip,s="cube_"+e+"_"+i;n[s].x=I[e-1]}function o(){for(var e=1;8>e;e++)for(var i=1;8>i;i++){var n="cube_"+e+"_"+i,s=t.gameArea.cubesClip;createjs.Tween.removeTweens(s[n])}}function c(e){for(var i=1;8>i;i++)for(var n=1;8>n;n++){var s="cube_"+i+"_"+n;t.gameArea.cubesClip[s].visible=!1,t.gameArea.cubesClip[s].y=e[i-1][n-1],t.gameArea.cubesClip[s].visible=!0}}function l(){for(var e=0;e<O.length;e++)try{O[e].stop()}catch(t){}E=[],j=[],j=[],L=[],S=[],A=49,x=0,P="",C=[],O=[],M=0,I=[29.1,88.2,147.3,206.4,265.5,324.6,383.8],R=[88.7,29.5,88.7,147.8,207,266.1,325.3,384.6];try{w.stop()}catch(t){}}function u(){for(var e=1;8>e;e++)for(var i=1;8>i;i++)t.gameArea.cubesClip["cube_"+e+"_"+i].y=T[e-1][i-1],t.gameArea.cubesClip["cube_"+e+"_"+i].x=j[e-1][i-1]}function h(e){t.gameArea.cubesClip[e].y=-29}function d(e){var i=parseInt(e.substr(7))-1,n=58*i;t.gameArea.cubesClip[e].y=-29-n}function p(e,i){var n=t.gameArea.cubesClip;createjs.Tween.get(n[e]).wait(0).to({y:i},200,createjs.Ease.bounceOut).call(f)}function f(){var e=Math.floor(3*Math.random())+1;M++;var i=[.2,.3,.4,.5,.6];switch(e){case 1:O[M-1]=createjs.Sound.play("SquareLandsClack_v1_44kMono");break;case 2:O[M-1]=createjs.Sound.play("SquareLandsClack_v4_44kMono");break;case 3:O[M-1]=createjs.Sound.play("SquareLandsClack_v5_44kMono")}O[M-1].volume=i[Math.floor(5*Math.random())+0],49==M&&(t.gameArea.cubesClip.dispatchEvent("moveCompleted"),M=0)}function g(e,i){var n="",s=0;switch(t.gameArea.cubesClip[e].bombCube.bombCubeInside.visible=!0,t.gameArea.cubesClip[e].instantWinCube.instantWinCubeInside.visible=!0,t.gameArea.cubesClip[e].purpleCube.purpleCube.visible=!0,t.gameArea.cubesClip[e].greenCube.greenCube.visible=!0,t.gameArea.cubesClip[e].blueCube.blueCube.visible=!0,t.gameArea.cubesClip[e].yellowCube.yellowCube.visible=!0,t.gameArea.cubesClip[e].orangeCube.orangeCube.visible=!0,t.gameArea.cubesClip[e].redCube.redCube.visible=!0,i){case"A":n="purple";break;case"B":n="blue";break;case"C":n="green";break;case"D":n="yellow";break;case"E":n="orange";break;case"F":n="red";break;case"1":n="instantWin",s=1;break;case"2":n="instantWin",s=2;break;case"3":n="instantWin",s=3;break;case"X":n="bomb"}t.gameArea.cubesClip[e][n+"Cube"].visible=!0,t.gameArea.cubesClip[e].state=n,t.gameArea.cubesClip[e].iwState=s}function _(e){t.gameArea.cubesClip[e].bombCube.bombCubeInside.visible=!0,t.gameArea.cubesClip[e].instantWinCube.instantWinCubeInside.visible=!0,t.gameArea.cubesClip[e].bombCube.visible=!0,t.gameArea.cubesClip[e].purpleCube.purpleCube.visible=!0,t.gameArea.cubesClip[e].greenCube.greenCube.visible=!0,t.gameArea.cubesClip[e].blueCube.blueCube.visible=!0,t.gameArea.cubesClip[e].yellowCube.yellowCube.visible=!0,t.gameArea.cubesClip[e].orangeCube.orangeCube.visible=!0,t.gameArea.cubesClip[e].redCube.redCube.visible=!0,t.gameArea.cubesClip[e].visible=!0,t.gameArea.cubesClip[e].cubeHitAnim.gotoAndStop(0),t.gameArea.cubesClip[e].cubeHitAnim.visible=!1,t.gameArea.cubesClip[e].purpleCube.purpleCubeAnim.gotoAndStop(0),t.gameArea.cubesClip[e].purpleCube.purpleCubeAnim.visible=!1,t.gameArea.cubesClip[e].blueCube.blueCubeAnim.gotoAndStop(0),t.gameArea.cubesClip[e].blueCube.blueCubeAnim.visible=!1,t.gameArea.cubesClip[e].greenCube.greenCubeAnim.gotoAndStop(0),t.gameArea.cubesClip[e].greenCube.greenCubeAnim.visible=!1,t.gameArea.cubesClip[e].yellowCube.yellowCubeAnim.gotoAndStop(0),t.gameArea.cubesClip[e].yellowCube.yellowCubeAnim.visible=!1,t.gameArea.cubesClip[e].orangeCube.orangeCubeAnim.gotoAndStop(0),t.gameArea.cubesClip[e].orangeCube.orangeCubeAnim.visible=!1,t.gameArea.cubesClip[e].redCube.redCubeAnim.gotoAndStop(0),t.gameArea.cubesClip[e].redCube.redCubeAnim.visible=!1,t.gameArea.cubesClip[e].instantWinCube.instantWinExplosion.gotoAndStop(0),t.gameArea.cubesClip[e].instantWinCube.instantWinExplosion.visible=!1,t.gameArea.cubesClip[e].instantWinCube.instantWinDynamic.gotoAndStop(0),t.gameArea.cubesClip[e].instantWinCube.visible=!1,t.gameArea.cubesClip[e].bombCube.bombExplosion.gotoAndStop(0),t.gameArea.cubesClip[e].bombCube.bombExplosion.visible=!1,t.gameArea.cubesClip[e].bombCube.visible=!1,t.gameArea.cubesClip[e].purpleCube.visible=!1,t.gameArea.cubesClip[e].greenCube.visible=!1,t.gameArea.cubesClip[e].blueCube.visible=!1,t.gameArea.cubesClip[e].yellowCube.visible=!1,t.gameArea.cubesClip[e].orangeCube.visible=!1,t.gameArea.cubesClip[e].redCube.visible=!1,t.gameArea.cubesClip[e].alpha=1}function m(e,i){var n="cube_"+i+"_"+e;t.gameArea.cubesClip[n].cubeHitAnim.visible=!0,t.gameArea.cubesClip[n].cubeHitAnim.gotoAndPlay(1)}function v(e){t.gameArea.cubesClip[e].cubeHitAnim.gotoAndStop(0),t.gameArea.cubesClip[e].cubeHitAnim.visible=!1}function b(e){var i=t.gameArea.cubesClip;i.setChildIndex(i[e],i.getNumChildren()-1)}function y(e,i,n){var s=58/t.gameArea.cubesClip[e].getBounds().width;t.gameArea.cubesClip[e].scaleX=s,t.gameArea.cubesClip[e].scaleY=s,t.gameArea.cubesClip[e].x=i,t.gameArea.cubesClip[e].y=n}var w,E=[],T=[],j=[],L=[],S=[],A=49,x=0,P="",C=[],M=0,I=[29.1,88.2,147.3,206.4,265.5,324.6,383.8],R=[88.7,29.5,88.7,147.8,207,266.1,325.3,384.6],O=[];return{initVars:l,moveCube:p,resetEverything:r,updateGridAfterTurn:u,targetCube:m,finishedTargeting:v,setState:g,resetPos:h,resetState:_,nextGo:c,bringThisCubeToTheFront:b,rescale:y,getZIndexes:s,moveCompleted:f,removeCubeTweens:o,resetAllPositions:i,initScale:n,repos:a,cascadeResetPos:d}}}),define("game/reels",["require"],function(e){return function(e,t,i,n){function s(){try{m.stop()}catch(e){}for(var t=0;t<T.length;t++)clearInterval(T[t]);clearInterval(v),b=0,y=0,w=1,E=0,T=[],j=50,L=[],S=[1,1]}function r(e,t,i){var n=a("reelVerticalNumbers",e,1,i),s=a("reelHorizontalNumbers",t,2,i);S[0]=n[n.length-1],S[1]=s[s.length-1],o(n,s),c(n,0,"reelVerticalNumbers",e),l(s,1,"reelHorizontalNumbers",t)}function a(e,t,i,n){for(var s=S[i-1],r=[],a=s;8>a;a++)r.push(a);for(var a=1;4>a;a++)for(var o=1;8>o;o++)r.push(o);if(2==i)for(var o=1;8>o;o++)r.push(o);for(var a=1;a<parseInt(t)+1;a++)r.push(a);return n>0&&8>n&&(r=r.splice(14,r.length-1)),r}function o(e,t){if(e.length>t.length)for(var i=0;i<e.length;i++)if(1==e[i]){e.splice(i,7);break}}function c(e,t,i,n){clearInterval(T[0]),h("h",e[b]),b++,b<e.length?T[0]=setInterval(c,5*b,e,t,i,n):b==e.length&&(b=0,u(t,i,n))}function l(e,t,i,n){clearInterval(T[1]),h("v",e[y]),m=createjs.Sound.play("SingleTick_44kMono"),y++,y<e.length?T[1]=setInterval(l,5*y,e,t,i,n):y==e.length&&(y=0,u(t,i,n))}function u(e,t,i){switch(e){case 0:L[0]=i;break;case 1:L[1]=i,m.stop(),v=setInterval(g,500)}}function h(e,i){switch(e){case"v":p(),t.gameArea.verticalLightsContainer["verticalLight"+i].visible=!0,t.gameArea.verticalLightsContainer["verticalLight"+i].connectorLight.visible=!0;break;case"h":d(),t.gameArea.horizontalLightsContainer["horizantalLight"+i].visible=!0,t.gameArea.horizontalLightsContainer["horizantalLight"+i].connectorLight.visible=!0}}function d(){for(var e=1;8>e;e++)t.gameArea.horizontalJoinLines["joinLines"+e].gotoAndStop(0),t.gameArea.horizontalJoinLines["joinLines"+e].visible=!1,t.gameArea.horizontalLightsContainer["horizantalLight"+e].visible=!1,t.gameArea.horizontalLightsContainer["horizantalLight"+e].connectorLight.visible=!1}function p(){for(var e=1;8>e;e++)t.gameArea.verticalJoinLines["joinLines"+e].gotoAndStop(0),t.gameArea.verticalJoinLines["joinLines"+e].visible=!1,t.gameArea.verticalLightsContainer["verticalLight"+e].visible=!1,t.gameArea.verticalLightsContainer["verticalLight"+e].connectorLight.visible=!1}function f(){for(var e=1;8>e;e++)t.gameArea.verticalLightsContainer["verticalLight"+e].connectorLight.visible=!1,t.gameArea.horizontalLightsContainer["horizantalLight"+e].connectorLight.visible=!1}function g(){clearInterval(v),t.goArrows.dispatchEvent("stopped")}function _(){return[L[0],L[1]]}var m,v,b=0,y=0,w=1,E=0,T=[],j=50,L=[],S=[0,0];return{spinTheReels:r,removeAllConnectingLines:f,reset:s,giveMeTheLightningCoordinates:_}}}),define("game/statusBar",["require"],function(e){return function t(e,t){function i(e){t.text=e,t.color="#FFFFFF",t.maxWidth=200}function n(e){o=0,i(a[o]),l.setPaused(!e)}function s(e){u.setPaused(!e)}var r=strings.game.statusBar.messages,a=[],o=0;for(var c in r)r.hasOwnProperty(c)&&a.push(r[c]);var l=new createjs.Tween.get(null,{loop:!0}).wait(3e3).call(function(){i(a[o]),o==a.length-1?o=0:o++}).setPaused(!0),u=createjs.Tween.get(t,{loop:!0,paused:!0}).to({color:"#FF6600"},250).to({color:"#FFCC00"},250).wait(1);return{setMessage:i,messageLoop:n,flashText:s}}}),define("game/goarrows",["require","../game/cubes","../game/reels","../game/scoreboard","../game/statusBar"],function(e){var t=e("../game/cubes"),i=e("../game/reels"),n=e("../game/scoreboard"),s=e("../game/statusBar");return function(e,r,a,o){function c(){n.reset()}function l(){We=[],Ue=[],Ue=[],Xe=[],Ge=[],Ve=49}function u(){Ce=0,Me=9,Ie=[],Re=[],Oe=[],ke=0,De=0,Be=0,Ne=[],qe=0,Fe=0,Ye=[],Je=[],Qe=[],Ke=!1,$e=!1,Ze=[],et=0,tt="",it="",nt="",at=!1,dt=[],pt=0,gt=[],je=0,ze=[],_t=[],mt=[],vt=[],bt=0;for(var e=0;e<gt.length;e++)gt[e].removeAllTweens();wt=[];for(var e=0;6>e;e++)wt[e]=0;We=[],Ue=[],Ue=[],Xe=[],Ge=[],Ve=49,t.initVars()}function h(e){a.helpBtn.visible=!1,Je=e.slice();for(var i=1;8>i;i++){Qe[i-1]=[];for(var n=1;8>n;n++){var s="cube_"+i+"_"+n,r=e[i-1][n-1];Qe[i-1][n-1]=s,t.setState(s,r)}}d()}function d(){for(var e=1;8>e;e++){yt||(He[e-1]=[],Ue[e-1]=[]);for(var i=1;8>i;i++){yt||(He[e-1][i-1]=r.gameArea.cubesClip["cube_"+e+"_"+i].y,Ue[e-1][i-1]=r.gameArea.cubesClip["cube_"+e+"_"+i].x);t.cascadeResetPos("cube_"+e+"_"+i)}}te(),p(),yt=!0}function p(){We=[];for(var e=0;7>e;e++)We[e]=[],Ge[e]=[],We[e][0]=setInterval(f,200*e,e,0)}function f(e,i){clearInterval(We[e][i]);var n=r.gameArea.cubesClip,s="cube_"+(e+1)+"_"+(i+1);t.initScale(s),t.repos(e+1,i+1),Ge[e][i]=createjs.Tween.get(n[s]).wait(0).to({y:He[e][i]},200,createjs.Ease.bounceOut).call(g),i++,7>i&&(We[e][i]=setInterval(f,150,e,i))}function g(){Ve--,t.moveCompleted(),0==Ve&&(at=!0,a.helpBtn.visible=!0,r.howToPlay.visible||b(),ee(),r.gameArea.cubesClip.dispatchEvent("cascadeComplete"))}function _(e,t){Ie=e.slice(),Re=t.slice()}function m(e,t){rt=[],st=[],ce=e.prizeDivision,le=e.prizeValue,ue=e.playResult,he=window.gtk.jLottery.formatCurrency({amount:le,numberOfDecimalsToReturn:0}).formattedAmount,ft=t;for(var i=e.prizeTable.length-3;i<e.prizeTable.length;i++)rt.push(e.prizeTable[i].prize),st.push(window.gtk.jLottery.formatCurrency({amount:e.prizeTable[i].prize,numberOfDecimalsToReturn:0}).formattedAmount)}function v(){r.goArrows.goButtonDisabled.visible=!0,r.goArrows.goButton.mouseEnabled=!1,r.goArrows.goButton.removeEventListener("click",y)}function b(){r.goArrows.goButtonDisabled.visible=!1,r.goArrows.goButton.mouseEnabled=!0,r.goArrows.goButton.addEventListener("click",y)}function y(){L()}function w(){v(),Ke=!0,at&&E()}function E(){$e||L()}function T(){v(),Ke=!1}function j(){return $e}function L(){clearInterval(_e),$e=!0,a.helpBtn.visible=!1,v();var e=Ie[Ce],t=Re[Ce];Z(),i.spinTheReels(e,t,Ce),Ce++,Me--,1==Me?s.setMessage(Me+" "+strings.game.turnsLeftSingular):s.setMessage(Me+" "+strings.game.turnsLeftPlural)}function S(){for(var e=1;8>e;e++){r.gameArea.verticalJoinLines["joinLines"+e].timeline.addTween(createjs.Tween.get(this).wait(28).call(x));for(var t=1;8>t;t++){var i="cube_"+e+"_"+t;r.gameArea.cubesClip[i].bombCube.bombExplosion.timeline.addTween(createjs.Tween.get(r.gameArea.cubesClip[i].bombCube.bombExplosion).wait(18).call(D)),r.gameArea.cubesClip[i].instantWinCube.instantWinExplosion.timeline.addTween(createjs.Tween.get(r.gameArea.cubesClip[i].instantWinCube.instantWinExplosion).wait(10).call(B))}}}function A(){i.removeAllConnectingLines();for(var e=0;e<Ne.length;e++)switch(e){case 0:gt.push(r.gameArea.horizontalJoinLines["joinLines"+(8-Ne[e])]),r.gameArea.horizontalJoinLines["joinLines"+(8-Ne[e])].visible=!0,r.gameArea.horizontalJoinLines["joinLines"+(8-Ne[e])].gotoAndPlay(1);break;case 1:r.gameArea.verticalJoinLines["joinLines"+Ne[e]].visible=!0,r.gameArea.verticalJoinLines["joinLines"+Ne[e]].gotoAndPlay(1)}t.targetCube(Ne[0],Ne[1]),X(Ne[0],Ne[1]),me=createjs.Sound.play("GridPosPinpointed_Hum_44kMono"),me.addEventListener("complete",function(){ve=createjs.Sound.play("GridPosPinpointed_EnergyCrackle_v1_44kMono"),ve.addEventListener("complete",function(){be=createjs.Sound.play("GridPosPinpointed_EchoNote_44kMono")})}),qe=0}function x(){qe++,Fe=0;var e="cube_"+Ne[1]+"_"+Ne[0];je=e,Be=0,Ne=[],$(),t.finishedTargeting(je),P(je)}function P(e){M(e),e=""}function C(){if(Z(),9==Ce){n.checkWin();var e={tierPrizeShown:ce,formattedAmountWonShown:he};window.gtk.jLottery.ticketResultHasBeenSeen(e),a.revealAllBtn.visible=!1,a.playForMoneyBtn.visible=!1}else 9>Ce&&($e=!1,Ke?_e=setInterval(L,ft):(a.helpBtn.visible=!0,b()))}function M(e){Ye=[];var t=r.gameArea.cubesClip[e].state;switch(t){case"bomb":R(e);break;case"instantWin":I(e);break;default:F(e)}}function I(e){ze.push(e),k(e)}function R(e){var t=parseInt(String(e).substr(5,1)),i=parseInt(String(e).substr(7,1));ze.push("cube_"+(t-1)+"_"+(i-1)),ze.push("cube_"+(t-1)+"_"+i),ze.push("cube_"+(t-1)+"_"+(i+1)),ze.push("cube_"+t+"_"+(i-1)),ze.push("cube_"+t+"_"+i),ze.push("cube_"+t+"_"+(i+1)),ze.push("cube_"+(t+1)+"_"+(i-1)),ze.push("cube_"+(t+1)+"_"+i),ze.push("cube_"+(t+1)+"_"+(i+1)),O(e)}function O(e){ct="bomb",t.bringThisCubeToTheFront(e),r.gameArea.cubesClip[e].bombCube.bombCubeInside.visible=!1,r.gameArea.cubesClip[e].bombCube.bombExplosion.visible=!0,gt.push(r.gameArea.cubesClip[e].bombCube.bombExplosion),r.gameArea.cubesClip[e].bombCube.bombExplosion.gotoAndPlay(1),ye=createjs.Sound.play("BombAnticipation05Secs_44kMono"),ye.addEventListener("complete",function(){we=createjs.Sound.play("BombExplosion_44kMono")})}function k(e){switch(ct="iw",t.bringThisCubeToTheFront(e),r.gameArea.cubesClip[e].instantWinCube.instantWinCubeInside.visible=!1,r.gameArea.cubesClip[e].instantWinCube.instantWinExplosion.visible=!0,gt.push(r.gameArea.cubesClip[e].instantWinCube.instantWinExplosion),r.gameArea.cubesClip[e].instantWinCube.instantWinExplosion.gotoAndPlay(1),Le=createjs.Sound.play("InstantWinStarFx_44kMono"),r.gameArea.cubesClip[e].instantWinCube.instantWinDynamic.visible=!0,r.gameArea.cubesClip[e].iwState){case 1:r.gameArea.cubesClip[e].instantWinCube.instantWinDynamic.dynamicClip.txtIW.text=st[0],pt+=parseInt(rt[0]);break;case 2:r.gameArea.cubesClip[e].instantWinCube.instantWinDynamic.dynamicClip.txtIW.text=st[1],pt+=parseInt(rt[1]);break;case 3:r.gameArea.cubesClip[e].instantWinCube.instantWinDynamic.dynamicClip.txtIW.text=st[2],pt+=parseInt(rt[2])}r.gameArea.cubesClip[e].instantWinCube.instantWinDynamic.gotoAndPlay(1)}function D(){ot++;var e=r.gameArea.cubesClip;switch(ct){case"bomb":G(ze);break;case"iw":e[je].instantWinCube.instantWinExplosion.gotoAndStop(0),e[je].instantWinCube.instantWinExplosion.visible=!1,e[je].instantWinCube.instantWinDynamic.stop();var i=e[je].x,n=e[je].y,s=e.iwDummy.x,a=e.iwDummy.y;Ee=createjs.Tween.get(e[je]).wait(1e3).to({y:a,x:s},500,createjs.Ease.quadOut).call(function(){e[je].instantWinCube.instantWinCubeInside.visible=!0,t.rescale(je,i,n),e.dispatchEvent("instantWin"),J()})}ot=0}function B(){switch(ct){case"bomb":q();break;case"iw":D()}}function N(e){for(var i=0;i<e.length;i++){
switch(t.bringThisCubeToTheFront(e[i]),r.gameArea.cubesClip[e[i]].instantWinCube.instantWinCubeInside.visible=!1,r.gameArea.cubesClip[e[i]].instantWinCube.instantWinExplosion.visible=!0,gt.push(r.gameArea.cubesClip[je].instantWinCube.instantWinExplosion),r.gameArea.cubesClip[e[i]].instantWinCube.instantWinExplosion.gotoAndPlay(1),Le=createjs.Sound.play("InstantWinStarFx_44kMono"),r.gameArea.cubesClip[e[i]].instantWinCube.instantWinDynamic.visible=!0,r.gameArea.cubesClip[e[i]].iwState){case 1:r.gameArea.cubesClip[e[i]].instantWinCube.instantWinDynamic.dynamicClip.txtIW.text=st[0],pt+=parseInt(rt[0]);break;case 2:r.gameArea.cubesClip[e[i]].instantWinCube.instantWinDynamic.dynamicClip.txtIW.text=st[1],pt+=parseInt(rt[1]);break;case 3:r.gameArea.cubesClip[e[i]].instantWinCube.instantWinDynamic.dynamicClip.txtIW.text=st[2],pt+=parseInt(rt[2])}r.gameArea.cubesClip[e[i]].instantWinCube.instantWinDynamic.gotoAndPlay(1)}}function q(){lt++;for(var e=r.gameArea.cubesClip,i=0;i<dt.length;i++){var n=i+1;e[dt[i]].instantWinCube.instantWinExplosion.gotoAndStop(0),e[dt[i]].instantWinCube.instantWinExplosion.visible=!1,e[dt[i]].instantWinCube.instantWinDynamic.stop();var s=dt[i],a=e[dt[i]].x,o=e[dt[i]].y,c=e.iwDummy.x,l=e.iwDummy.y;Te=createjs.Tween.get(e[dt[i]]).wait(1e3).to({y:l,x:c},500,createjs.Ease.quadOut).call(function(){e[s].alpha=0,e[s].instantWinCube.instantWinCubeInside.visible=!0,t.rescale(s,a,o),n==dt.length&&(Y(),dt=[]),e.dispatchEvent("instantWin")})}lt=0}function F(e){var t=U(e);H(t),ze.indexOf(e)<0&&ze.push(e),W()}function W(){var e=[];for(Et=0;Et<ze.length;Et++)e.push(r.gameArea.cubesClip[ze[Et]].state);G(ze)}function H(e){for(var t=[],i=0;i<e.length;i++)t=U(e[i]),t.length>0&&H(t)}function U(e){for(var t=parseInt(String(e).substr(5,1)),i=parseInt(String(e).substr(7,1)),n=r.gameArea.cubesClip[e].state,s=[],a=i;7>a;a++){var o="cube_"+t+"_"+parseInt(a+1);if(r.gameArea.cubesClip[o].state!=n)break;ze.indexOf(o)<0&&(ze.push(o),s.push(o))}for(var a=t;7>a;a++){var o="cube_"+parseInt(a+1)+"_"+i;if(r.gameArea.cubesClip[o].state!=n)break;ze.indexOf(o)<0&&(ze.push(o),s.push(o))}for(var a=i;a>1;a--){var o="cube_"+t+"_"+parseInt(a-1);if(r.gameArea.cubesClip[o].state!=n)break;ze.indexOf(o)<0&&(ze.push(o),s.push(o))}for(var a=t;a>1;a--){var o="cube_"+parseInt(a-1)+"_"+i;if(r.gameArea.cubesClip[o].state!=n)break;ze.indexOf(o)<0&&(ze.push(o),s.push(o))}return s}function X(e,t){var i="cube_"+t+"_"+e,n=r.gameArea.cubesClip[i].state;"bomb"!=n&&"instantWin"!=n&&(r.gameArea.cubesClip[i][n+"Cube"][n+"CubeAnim"].visible=!0,r.gameArea.cubesClip[i][n+"Cube"][n+"CubeAnim"].gotoAndPlay(1),Pe=createjs.Sound.play("SquaresHilightHum_G_44kMono"),Pe.volume=.5)}function G(e){clearInterval(xe);for(var t=!1,i=0;i<e.length;i++){var n=r.gameArea.cubesClip[e[i]].state;"bomb"!=n&&"instantWin"!=n&&(r.gameArea.cubesClip[e[i]][n+"Cube"][n+"CubeAnim"].visible=!0),"bomb"!=n&&"instantWin"!=n&&r.gameArea.cubesClip[e[i]][n+"Cube"][n+"CubeAnim"].gotoAndPlay(1),Pe=createjs.Sound.play("SquaresHilightHum_G_44kMono"),Pe.volume=.5,"instantWin"==n&&(t=!0,ut=e[i],dt.push(e[i]))}t?N(dt):Y()}function V(e,t){switch(e){case"purple":wt[0]+=t;break;case"blue":wt[1]+=t;break;case"green":wt[2]+=t;break;case"yellow":wt[3]+=t;break;case"orange":wt[4]+=t;break;case"red":wt[5]+=t}}function Y(){for(var e=[],t=[],i=0;6>i;i++)e[i]=[];for(var n=["purple","blue","green","yellow","orange","red"],s=0;s<ze.length;s++)switch(r.gameArea.cubesClip[ze[s]].state){case"purple":e[0].push(ze[s]);break;case"blue":e[1].push(ze[s]);break;case"green":e[2].push(ze[s]);break;case"yellow":e[3].push(ze[s]);break;case"orange":e[4].push(ze[s]);break;case"red":e[5].push(ze[s])}for(var a=0;a<e.length;a++)for(var s=0;s<e[a].length;s++){var o=r.gameArea.cubesClip[e[a][s]].state,c=(n.indexOf(o),[]);c=[e[a][s],o,s+1+wt[a]],t.push(c)}Ze[et]=setInterval(z,200,t[et][0],t[et][1],t[et][2],t)}function z(e,i,s,a){clearInterval(Ze[et]),et++;var o=r.gameArea.cubesClip,c=o[e].x,l=o[e].y,u=o[i+"Cube"+s].x,h=o[i+"Cube"+s].y,d=28/58;t.bringThisCubeToTheFront(e),Se=createjs.Sound.play("Square2PaytableWhoosh(Short)_44kMono"),ht[et-1]=createjs.Tween.get(o[e]).wait(0).to({scaleX:1.25,scaleY:1.25},100).to({scaleX:d,scaleY:d,y:h,x:u},300,createjs.Ease.quadOut).call(function(){o[e].visible=!1,t.rescale(e,c,l),et==a.length&&(de=setInterval(J,400,ze),et=0,ht=[]),n.addToScoreBoard(i,s),V(i,1),Ae=createjs.Sound.play("PayTableUpdateNote_C_44kMono")}),et<a.length&&(Ze[et]=setInterval(z,200,a[et][0],a[et][1],a[et][2],a))}function J(){clearInterval(de),te();for(var e=0;e<Je.length;e++);for(var i=[],n=Je.slice(),s=Qe.slice(),e=0;e<Qe.length;e++);for(var r=0;r<ze.length;r++){var a=parseInt(String(ze[r]).substr(5,1)),o=parseInt(String(ze[r]).substr(7,1)),c="cube_"+a+"_"+o;i.push(c),a-=1,o-=1,n[a][o]=null}for(var e=0;e<i.length;e++){var a=parseInt(String(i[e]).substr(5,1)),o=parseInt(String(i[e]).substr(7,1));s[a-1].push(i[e]),t.resetPos(i[e]),t.resetState(i[e])}for(var e=0;e<n.length;e++)for(var r=0;r<n[e].length;r++)null==n[e][r]&&(n[e].splice(r,1),s[e].splice(r,1),r--);for(var e=1;8>e;e++)for(var r=1;8>r;r++){var c="cube_"+e+"_"+r,l=K(c,s,n);t.setState(c,l[2]),t.moveCube(c,He[l[0]-1][l[1]-1])}Je=[],Je=n.slice(),Qe=[];for(var e=1;8>e;e++){Qe[e-1]=[];for(var r=1;8>r;r++){var c="cube_"+e+"_"+r;Qe[e-1][r-1]=c}}_t=n.slice(),mt=Qe.slice(),vt=s.slice()}function Q(e,i,n){clearInterval(ge);var s=t.getZIndexes(n);t.resetEverything(i,He,e,s),ee(),C()}function K(e,t,i){for(var n=1;8>n;n++)for(var s=1;8>s;s++)if(t[n-1][s-1]==e){var r=i[n-1][s-1];return[n,s,r]}}function $(){for(var e=1;8>e;e++)r.gameArea.verticalJoinLines["joinLines"+e].gotoAndStop(0),r.gameArea.verticalJoinLines["joinLines"+e].visible=!1,r.gameArea.horizontalJoinLines["joinLines"+e].gotoAndStop(0),r.gameArea.horizontalJoinLines["joinLines"+e].visible=!1}function Z(){for(var e=1;8>e;e++)r.gameArea.verticalJoinLines["joinLines"+e].gotoAndStop(0),r.gameArea.verticalJoinLines["joinLines"+e].visible=!1,r.gameArea.horizontalJoinLines["joinLines"+e].gotoAndStop(0),r.gameArea.horizontalJoinLines["joinLines"+e].visible=!1,r.gameArea.verticalLightsContainer["verticalLight"+e].visible=!1,r.gameArea.horizontalLightsContainer["horizantalLight"+e].visible=!1}function ee(){r.gameArea.cubesClip.mask=null,r.gameArea.cubesClip.cascadeMask=null}function te(){var e=r.gameArea.cubesClip;e.cascadeMask=new createjs.Shape,e.cascadeMask._off=!0,e.cascadeMask.graphics.p("EgowAhnMAAAhArMBRhAAAMAAABArg"),e.cascadeMask.setTransform(223,215.2),e.mask=e.cascadeMask}function ie(){return at}function ne(){return pt}function se(e){bt+=e}function re(){return bt}function ae(){t.resetAllPositions()}function oe(){Z(),v(),t.removeCubeTweens(),createjs.Tween.removeAllTweens();for(var e=0;e<We.length;e++)for(var n=0;n<We[e].length;n++)clearInterval(We[e][n]);for(var e=0;e<Oe.length;e++)for(var n=0;n<Oe[e].length;n++)clearInterval(Oe[e][n]);for(var e=0;e<Ze.length;e++)clearInterval(Ze[e]);clearInterval(pe),clearInterval(fe),clearInterval(de),clearInterval(ge),clearInterval(_e),clearInterval(xe);try{me.stop()}catch(s){}try{ve.stop()}catch(s){}try{be.stop()}catch(s){}try{ye.stop()}catch(s){}try{we.stop()}catch(s){}try{Le.stop()}catch(s){}try{Pe.stop()}catch(s){}try{Se.stop()}catch(s){}try{Ae.stop()}catch(s){}i.reset()}t=new t(e,r),i=new i(e,r),n=new n(e,r.scoreBoard,o),s=new s(e,r.playsLeft.text),n.addTweensToTimeline();for(var ce,le,ue,he,de,pe,fe,ge,_e,me,ve,be,ye,we,Ee,Te,je,Le,Se,Ae,xe,Pe,Ce=0,Me=9,Ie=[],Re=[],Oe=[],ke=0,De=0,Be=0,Ne=[],qe=0,Fe=0,We=[],He=[],Ue=[],Xe=[],Ge=[],Ve=49,Ye=[],ze=[],Je=[],Qe=[],Ke=!1,$e=!1,Ze=[],et=0,tt="",it="",nt="",st=[],rt=[],at=!1,ot=0,ct="",lt=0,ut="",ht=[],dt=[],pt=0,ft=0,gt=[],_t=[],mt=[],vt=[],bt=0,yt=!1,wt=[],Et=0;6>Et;Et++)wt[Et]=0;return r.goArrows.addEventListener("stopped",function(){var e=i.giveMeTheLightningCoordinates();Ne[0]=e[0],Ne[1]=e[1],A()}),S(),r.gameArea.cubesClip.addEventListener("moveCompleted",function(){$e&&(Q(_t,mt,vt),Ye=[],ze=[],vt=[],mt=[],vt=[])}),{initCubes:h,initCubeVars:l,disableGoButton:v,enableGoButton:b,processReels:_,setValues:m,initVars:u,turnOffLights:Z,processReels:_,resetScoreboard:c,revealAll:w,disableRevealAll:T,disableCascadeMask:ee,enableCascadeMask:te,checkCascade:ie,giveMeTheCurrentInstantWinTotal:ne,giveMeTheCurrentCubeTotal:re,updateCubeWinTotal:se,stopAllActionsAndClearIntervals:oe,resetAllPositions:ae,checkTurnInProgress:j}}}),define("game/setup",["require"],function(e){return function(e,t,i){function n(){i.winMeter.value.lineWidth=null,i.winMeter.label.lineWidth=null,i.balanceMeter.value.lineWidth=null,i.balanceMeter.label.lineWidth=null,i.betMeter.value.lineWidth=null,i.betMeter.label.lineWidth=null,i.playForMoneyBtn.label.lineWidth=null,i.buyBtn.label.lineWidth=null,i.revealAllBtn.label.lineWidth=null,i.exitGameBtn.label.lineWidth=null,i.timeoutWarningPlaque.exitBtn.label.lineWidth=null,i.timeoutWarningPlaque.continueBtn.label.lineWidth=null,i.errorPlaque.exitBtn.label.lineWidth=null,i.winMeter.value.maxWidth=174,i.winMeter.label.maxWidth=176,i.balanceMeter.value.maxWidth=174,i.balanceMeter.label.maxWidth=176,i.betMeter.value.maxWidth=174,i.betMeter.label.maxWidth=176,i.playForMoneyBtn.label.maxWidth=170,i.buyBtn.label.maxWidth=170,i.revealAllBtn.label.maxWidth=170,i.exitGameBtn.label.maxWidth=170,i.timeoutWarningPlaque.exitBtn.label.maxWidth=170,i.timeoutWarningPlaque.continueBtn.label.maxWidth=170,i.errorPlaque.exitBtn.label.maxWidth=170,t.howToPlay.text.lineHeight=18,t.endMessage.gotoAndStop(0),t.endMessage.visible=!1,t.goArrows.goButtonDisabled.visible=!0,t.goArrows.goButton.mouseEnabled=!1,t.goArrows.goButton.text.lineWidth=null,t.goArrows.goButton.text.maxWidth=100,t.goArrows.goButton.text.text=strings.game.goButton,t.scoreBoard.amtArr=[11,10,9,8,7,6],t.playsLeft.text.lineWidth=null,t.playsLeft.text.maxWidth=258;for(var e=1;8>e;e++)t.gameArea.verticalJoinLines["joinLines"+e].gotoAndStop(0),t.gameArea.verticalJoinLines["joinLines"+e].visible=!1,t.gameArea.horizontalJoinLines["joinLines"+e].gotoAndStop(0),t.gameArea.horizontalJoinLines["joinLines"+e].visible=!1,t.gameArea.verticalLightsContainer["verticalLight"+e].visible=!1,t.gameArea.horizontalLightsContainer["horizantalLight"+e].visible=!1;for(var n=1;8>n;n++)for(var s=1;8>s;s++)t.gameArea.cubesClip["cube_"+n+"_"+s].cubeHitAnim.gotoAndStop(0),t.gameArea.cubesClip["cube_"+n+"_"+s].cubeHitAnim.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].purpleCube.purpleCubeAnim.gotoAndStop(0),t.gameArea.cubesClip["cube_"+n+"_"+s].purpleCube.purpleCubeAnim.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].blueCube.blueCubeAnim.gotoAndStop(0),t.gameArea.cubesClip["cube_"+n+"_"+s].blueCube.blueCubeAnim.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].greenCube.greenCubeAnim.gotoAndStop(0),t.gameArea.cubesClip["cube_"+n+"_"+s].greenCube.greenCubeAnim.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].yellowCube.yellowCubeAnim.gotoAndStop(0),t.gameArea.cubesClip["cube_"+n+"_"+s].yellowCube.yellowCubeAnim.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].orangeCube.orangeCubeAnim.gotoAndStop(0),t.gameArea.cubesClip["cube_"+n+"_"+s].orangeCube.orangeCubeAnim.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].redCube.redCubeAnim.gotoAndStop(0),t.gameArea.cubesClip["cube_"+n+"_"+s].redCube.redCubeAnim.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].instantWinCube.instantWinExplosion.gotoAndStop(0),t.gameArea.cubesClip["cube_"+n+"_"+s].instantWinCube.instantWinDynamic.gotoAndStop(0),t.gameArea.cubesClip["cube_"+n+"_"+s].instantWinCube.instantWinCubeInside.visible=!0,t.gameArea.cubesClip["cube_"+n+"_"+s].instantWinCube.instantWinExplosion.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].instantWinCube.instantWinDynamic.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].instantWinCube.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].bombCube.bombExplosion.gotoAndStop(0),t.gameArea.cubesClip["cube_"+n+"_"+s].bombCube.bombExplosion.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].bombCube.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].bombCube.bombCubeInside.visible=!0,t.gameArea.cubesClip["cube_"+n+"_"+s].purpleCube.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].greenCube.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].blueCube.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].yellowCube.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].orangeCube.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].redCube.visible=!1,t.gameArea.cubesClip["cube_"+n+"_"+s].visible=!0,t.gameArea.cubesClip["cube_"+n+"_"+s].alpha=1;for(var r=1;7>r;r++){t.scoreBoard["scoreLevel"+r].winGlow.gotoAndStop(0),t.scoreBoard["scoreLevel"+r].winElectric.gotoAndStop(0),t.scoreBoard["scoreLevel"+r].winGlow.visible=!1,t.scoreBoard["scoreLevel"+r].winElectric.visible=!1,t.scoreBoard["scoreLevel"+r].bgColour.visible=!1;for(var a=1;a<t.scoreBoard.amtArr[r-1]+1;a++)t.scoreBoard["scoreLevel"+r]["cube"+a].anim.gotoAndStop(0),t.scoreBoard["scoreLevel"+r]["cube"+a].nearWinBalckoutPulse.gotoAndStop(0),t.scoreBoard["scoreLevel"+r]["cube"+a].anim.visible=!1,t.scoreBoard["scoreLevel"+r]["cube"+a].nearWinBalckoutPulse.visible=!1,t.scoreBoard["scoreLevel"+r]["cube"+a].blackout.visible=!0}t.scoreBoard.scoreInstantWin.value.text="",t.scoreBoard.scoreInstantWin.winElectric.gotoAndStop(0),t.scoreBoard.scoreInstantWin.winElectric.visible=!1,t.scoreBoard.scoreInstantWin.blackout.visible=!0}function s(){var e=!1,n=(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),navigator.userAgent.toLowerCase());if(e=n.indexOf("firefox")>-1?!0:!1){for(var s=1;7>s;s++)t.scoreBoard["scoreLevel"+s].value.y+=3;t.scoreBoard.scoreInstantWin.value.y+=3,t.goArrows.goButton.text.y+=5,t.playsLeft.text.y+=4,i.winMeter.value.y+=3,i.balanceMeter.value.y+=3,i.betMeter.value.y+=3,i.winMeter.label.y+=2,i.balanceMeter.label.y+=2,i.betMeter.label.y+=2,i.playForMoneyBtn.label.y+=2,i.buyBtn.label.y+=3,i.revealAllBtn.label.y+=4;for(var r=1;8>r;r++)for(var a=1;8>a;a++)t.gameArea.cubesClip["cube_"+r+"_"+a].instantWinCube.instantWinDynamic.dynamicClip.txtIW.y+=3}}function r(e){t.howToPlay.instance_1.y=e.help.bombPos,t.howToPlay.instance.y=e.help.IWPos}var a=window.game.ColorCubes.main.config.locale.toLowerCase(),o=window.game.ColorCubes.main.rgsResources;if(void 0!=o[a]&&void 0!=o[a].logoMini){t.endMessage.lose.infoBoard.gameLogoMini.instance.visible=!1,t.endMessage.win.infoBoard.gameLogoMini.instance.visible=!1,t.howToPlay.infoBoard.gameLogoMini.instance.visible=!1;var c=new createjs.Bitmap(o[a].logoMini),l=new createjs.Bitmap(o[a].logoMini),u=new createjs.Bitmap(o[a].logoMini);t.endMessage.lose.infoBoard.gameLogoMini.addChild(l),t.endMessage.lose.infoBoard.gameLogoMini.x+=13,t.endMessage.win.infoBoard.gameLogoMini.addChild(u),t.endMessage.win.infoBoard.gameLogoMini.x+=13,t.howToPlay.infoBoard.gameLogoMini.addChild(c),t.howToPlay.infoBoard.gameLogoMini.x+=13}if(void 0!=o[a]&&void 0!=o[a].logoWatermark){t.gameArea.logoWatermark.instance.visible=!1;var h=new createjs.Bitmap(o[a].logoWatermark);t.gameArea.logoWatermark.addChild(h)}return{doSetup:n,adjustBaselineOffsets:s,setIconPos:r}}}),define("game/endMessage",["require"],function(e){return function(e,t){function i(e){t.visible=!0;try{delete t._listeners.mousedown}catch(i){}setTimeout(function(){t.addEventListener("mousedown",n)},e)}function n(){try{delete t._listeners.mousedown}catch(e){}t.gotoAndStop(0),t.visible=!1}return{show:i,hide:n}}}),define("game/textControl",["require"],function(e){return function(){function e(){!function(){"use strict";function e(e,t,i,n){this.Text_constructor(e,t,i),this.miterLimit=n}var t=createjs.extend(e,createjs.Text);t.draw=function(e,t){return e.miterLimit=this.miterLimit,this.Text_draw(e,t)?!0:!0},t.clone=function(){return this._cloneProps(new e(this.text,this.font,this.color,this.miterLimit))},createjs.MiterText=createjs.promote(e,"Text")}()}function t(t,i,n,s){createjs.MiterText||e();var r=t.x,a=t.y,o=t.lineHeight,c=t.lineWidth,l=t.maxWidth,u=t.textAlign,h=t.text,d=t.font,p=t.color;i.removeChild(t),i[s]=new createjs.MiterText(h,d,p,n),i[s].lineHeight=o,i[s].setTransform(r,a),i[s].name=s,i[s].textAlign=u,c&&(i[s].lineWidth=c),l&&(i[s].maxWidth=l),i.addChild(i[s])}function i(e,t){var i=e.getTransformedBounds(),n=t.getTransformedBounds(),s=n.height-i.height;e.y=n.y+s/2}function n(e,t,i){t&&l(e,t);var n=(e.getTransformedBounds(),e.font.split(" ")),s=1,r=e.lineHeight;for(2==n.length?s=parseInt(n[0],10):3==n.length&&(s=parseInt(n[1],10));e.getTransformedBounds().height>i;)s--,r--,u(e,r),a(e,s)}function s(e,t,i,n){var s,r,a,o=e.font.split(" "),c="";2==o.length?(r=i+"px"||o[0],a=n||o[1],c=r+" "+a):3==o.length&&(s=t||o[0],r=i+"px"||o[1],a=n||o[2],c=s+" "+r+" "+a),e.font=c}function r(e,t){s(e,t,null,null)}function a(e,t){s(e,null,t,null)}function o(e,t){s(e,style,null,null)}function c(e,t){e.color=t}function l(e,t){e.maxWidth=null,e.lineWidth=t}function u(e,t){e.lineHeight=t}function h(e,t){e.lineWidth=null,e.maxWidth=t}function d(e,t,i){e.setTransform(t,i)}function p(e,t){e.textAlign=t}function f(e,t){e.baseline=t}function g(e,t){e.outline=t}return{convertToMiter:t,verticalCenter:i,autoResize:n,setFont:s,setFontStyle:r,setFontSize:a,setFontFamily:o,setColor:c,setLineWidth:l,setLineHeight:u,setMaxWidth:h,setPosition:d,setAlign:p,setBaseline:f,setOutline:g}}}),define("game/main",["require","../lib/core/stage","../game/uiPresenter","../game/scoreboard","../game/cubes","../game/goarrows","../game/setup","../game/endMessage","../game/statusBar","../game/textControl"],function(e){var t=e("../lib/core/stage"),i=e("../game/uiPresenter"),n=e("../game/scoreboard"),s=e("../game/cubes"),r=e("../game/goarrows"),a=e("../game/setup"),o=e("../game/endMessage"),c=e("../game/statusBar"),l=e("../game/textControl");return function(e,u,h){function d(){L.howToPlay.visible=!0,S.helpCloseBtn.visible=!0,S.helpBtn.visible=!1,S.exitBtn.visible=!1,S.audioOnBtn.visible=createjs.Sound.muted,S.audioOffBtn.visible=!createjs.Sound.muted}function p(e){x=e.prizeDivision,P=e.prizeValue,C=e.playResult,U=e.prizeTable,_(e)}function f(e){i.updateWinMeter(u.defaultWinsValue),i.updateBetMeter(e.price),"TRY"==u.wagerType&&(S.balanceMeter.visible=!1,i.setWinMeterLabel(strings.ui.demoWins))}function g(){W=!1,H=!1,c.setMessage("9 "+strings.game.turnsLeftPlural),S.exitBtn.visible=!1}function _(e){X=e.scenario.split("|"),z=X[0].split(",");for(var t=0;t<z.length;t++)J[t]=z[t].split("");G=X[1].split(",");for(var i=0;i<G.length;i++){var n=G[i].split("");V[i]=n[0],Y[i]=n[1]}r.processReels(V,Y)}function m(){try{N.stop()}catch(e){}try{q.stop()}catch(e){}r.stopAllActionsAndClearIntervals(),S.revealAllBtn.visible=!1,L.howToPlay.visible=!1,y(),a.doSetup(),r.initVars(),r.resetScoreboard(),o.hide(),i.updateWinMeter(u.defaultWinsValue),c.setMessage("")}function v(){if(L.howToPlay.visible=!1,Q){var e=r.checkCascade();e&&r.enableGoButton(),W||(S.revealAllBtn.visible=F&&K)}else S.exitBtn.visible=!0,S.audioOnBtn.visible=!1,S.audioOffBtn.visible=!1,S.revealAllBtn.visible=!1;F||1!=u.jLotteryPhase&&"ticketReady"!=u.gameType||(m(),g(),r.initCubes(J),r.processReels(V,Y),F=!0)}function b(){S.revealAllBtn.removeEventListener("click",b),S.helpBtn.visible=!1,r.revealAll(),S.revealAllBtn.label.text=strings.ui.revealAllStop,W=!0,S.revealAllBtn.addEventListener("click",y)}function y(){S.revealAllBtn.removeEventListener("click",y);var e=r.checkTurnInProgress();e||(S.helpBtn.visible=!0),r.disableRevealAll(),S.revealAllBtn.label.text=strings.ui.revealAll,W=!1,S.revealAllBtn.addEventListener("click",b)}function w(e){var t=Number(e.currentTarget.name)-1,n=i.giveMeThePrize(t);te+=n,E()}function E(){var e=r.giveMeTheCurrentInstantWinTotal(),t=te+e;i.updateWinMeter(h.formatCurrency(t,0).formattedAmount),t>P&&(m(),window.game.ColorCubes.main.error({errorCode:"29000",errorDescriptionSpecific:"",errorDescriptionGeneric:window.gtk.jLottery.i18n.errors.genericErrorText}),i.updateWinMeter(u.defaultWinsValue))}function T(){m(),i.hideHelp(),i.updateWinMeter(u.defaultWinsValue)}function j(){O=window.game.ColorCubes.main.siteConfig.use_jlottery_auto_reveal,k=window.game.ColorCubes.main.siteConfig.self_auto_reveal_enabled,I=window.game.ColorCubes.main.siteConfig.reveal_delay_seconds||.5,I*=1e3,R=window.game.ColorCubes.main.siteConfig.show_result_screen,(void 0==R||null==R)&&(R=!0),D=window.game.ColorCubes.main.siteConfig.background_music_enabled,(void 0==D||null==D)&&(D=!0),B=1e3*window.game.ColorCubes.main.siteConfig.seconds_delay_dismiss_result||0,void 0!=O?($=O,K=$?u.autoRevealEnabled:void 0!=k?k:!0):K=u.autoRevealEnabled,D&&(M=createjs.Sound.play("CashCubes_MainTunev2_44kStereo",{loop:-1})),M.volume=.35}var L,S;t=t(e),e.width<e.height?(L=new lib.cashCubes_portrait,S=new lib.cashCubes_UI_portrait):e.width>e.height&&(L=new lib.cashCubes_landscape,S=new lib.cashCubes_UI_landscape),t.addChild(L,S),i=new i(h,L.scoreBoard,S,u),n=new n(h,L.scoreBoard,u),s=new s(h,L),r=new r(h,L,S,u),a=new a(h,L,S),o=new o(h,L.endMessage),c=new c(h,L.playsLeft.text),l=new l;var A=createjs.Touch.isSupported();A||t.enableMouseOver(),a.doSetup(),a.adjustBaselineOffsets(),a.setIconPos(strings),d(),S.revealAllBtn.label.text=strings.ui.revealAll,S.revealAllBtn.visible=!1;var x,P,C,M,I,R,O,k,D,B,N,q,F=!1,W=!1,H=!1,U=[],X=[],G=[],V=[],Y=[],z=[],J=[],Q=!1,K=!1,$=!1,Z=!1,ee="LOADED_SCREEN_STATE",te=0,ie=0;L.gameArea.cubesClip.addEventListener("cascadeComplete",function(){S.revealAllBtn.visible=K}),S.plusBtn.addEventListener("clicked",function(){r.resetScoreboard(),S.helpBtn.visible=!0,S.exitBtn.visible=!0,S.helpCloseBtn.visible=!1,S.audioOnBtn.visible=!1,S.audioOffBtn.visible=!1}),S.minusBtn.addEventListener("clicked",function(){r.resetScoreboard(),S.helpBtn.visible=!0,S.exitBtn.visible=!0,S.helpCloseBtn.visible=!1,S.audioOnBtn.visible=!1,S.audioOffBtn.visible=!1}),S.revealAllBtn.addEventListener("click",b),L.howToPlay.title.text=strings.help.title,L.howToPlay.text.text=strings.help.text,S.helpBtn.addEventListener("open",function(){S.revealAllBtn.visible=!1,L.howToPlay.visible=!0,Q?r.disableGoButton():(S.exitBtn.visible=!1,S.audioOnBtn.visible=createjs.Sound.muted,S.audioOffBtn.visible=!createjs.Sound.muted)}),S.buyBtn.addEventListener("clicked",function(){m(),S.exitBtn.visible=!1,S.helpBtn.visible=!1}),S.buyBtn.addEventListener("compulsionDelayTriggered",function(){F=!1}),S.playForMoneyBtn.addEventListener("playForMoney",function(){m()}),S.helpCloseBtn.addEventListener("clicked",function(){v()}),L.howToPlay.addEventListener("click",function(){i.hideHelp()}),L.scoreBoard.addEventListener("win",function(){i.updateWinMeter(h.formatCurrency(P,0).formattedAmount)}),L.gameArea.cubesClip.addEventListener("instantWin",function(e){var t=r.giveMeTheCurrentInstantWinTotal();L.scoreBoard.scoreInstantWin.value.text=h.formatCurrency(t,0).formattedAmount,n.displayInstantWin(),ie=t,E()});for(var ne=1;7>ne;ne++)L.scoreBoard["scoreLevel"+ne].addEventListener("cubeWin",w),L.scoreBoard["scoreLevel"+ne].name=ne;document.addEventListener("visibilitychange",function(e){var t=navigator.userAgent.indexOf("Android")>=0;document.hidden?createjs.WebAudioSoundInstance.context&&(t&&"running"===createjs.WebAudioSoundInstance.context.state||"interrupted"===createjs.WebAudioSoundInstance.context.state)&&createjs.WebAudioSoundInstance.context.suspend():createjs.WebAudioSoundInstance.context&&(t&&"suspended"===createjs.WebAudioSoundInstance.context.state||"interrupted"===createjs.WebAudioSoundInstance.context.state)&&createjs.WebAudioSoundInstance.context.resume()});var se={initialize:function(){S.buyBtn.visible=!0,i.updateBetMeter(u.gameConfigurationDetails.pricePointGameDefault),i.updateBetMeter(u.gameConfigurationDetails.pricePointGameDefault),S.betMeter.availablePrices=u.gameConfigurationDetails.availablePrices,i.updateWinMeter(u.defaultWinsValue),S.betMeter.addEventListener("change",T),ee="LOADED_SCREEN_STATE",j()},reInitialize:function(){u.gameType="normal",F=!1,Q=!1,W=!1,Z=!1,M.volume=.35,i.networkActivity(!1),i.setBalanceMeterLabel(strings.ui.balance),i.setBetMeterLabel(strings.ui.wager),i.setWinMeterLabel(strings.ui.wins),S.buyBtn.label.text=strings.ui.buy||u.wagerType,i.hideHelp(),i.updateBetMeter(u.gameConfigurationDetails.pricePointGameDefault),i.displayBalance(),S.buyBtn.visible=!0,S.exitBtn.visible=!0,i.showTicketCostButtons(),i.generateLegacyInfo(u.gameConfigurationDetails),S.betMeter.addEventListener("change",T),ee="LOADED_SCREEN_STATE",d(),i.setInitialPlay(!0)},startUserInteraction:function(e){r.initVars(),1==u.jLotteryPhase||2==u.jLotteryPhase&&"ticketReady"==u.gameType?(j(),f(e),p(e)):(i.showPlayForMoneyButton(u.moveToMoneyButtonEnabledWhilePlaying,!0),i.networkActivity(!1),g(),F=!0,c.setMessage("9 "+strings.game.turnsLeftPlural),p(e),r.initCubes(J)),i.generateLegacyInfo(u.gameConfigurationDetails),2==u.jLotteryPhase&&"ticketReady"==u.gameType&&S.betMeter.addEventListener("change",T),r.setValues(e,I),L.endMessage.win.value.text="",M.volume=.35,Q=!0,Z=!0,ee="PLAYING_SCREEN_STATE"},reStartUserInteraction:function(e){i.networkActivity(!1),a.doSetup(),r.initVars(),f(e),p(e),r.initCubes(J),r.setValues(e,I),i.showPlayForMoneyButton(u.moveToMoneyButtonEnabledWhilePlaying,!0),g(),L.endMessage.win.value.text="",F=!0,Q=!0,M.volume=.35,ee="PLAYING_SCREEN_STATE"},enterResultScreenState:function(){if(W&&y(),u.gameType="normal",n.stopAllNearWins(),M.volume=0,i.networkActivity(!1),"WIN"==C){L.endMessage.gotoAndStop("WIN"),L.endMessage.win.IWvalue.visible=!0,L.endMessage.win.txtIW.visible=!0,L.endMessage.win.cubeValue.visible=!0,L.endMessage.win.txtCube.visible=!0,L.endMessage.win.txtIW.text=strings.result.instantWin,L.endMessage.win.txtCube.text=strings.result.cubeWin;var e=r.giveMeTheCurrentInstantWinTotal();L.endMessage.win.IWvalue.text=h.formatCurrency(e,0).formattedAmount;var t=P-e;L.endMessage.win.cubeValue.text=h.formatCurrency(t,0).formattedAmount,0==e&&(L.endMessage.win.IWvalue.visible=!1,L.endMessage.win.txtIW.visible=!1),0==t&&(L.endMessage.win.cubeValue.visible=!1,L.endMessage.win.txtCube.visible=!1),"BUY"==u.wagerType?(c.setMessage(strings.game.statusBar.winner),L.endMessage.win.title.text=strings.result.congratulations,L.endMessage.win.text.text=strings.result.winText,L.endMessage.win.value.text=h.formatCurrency(P,0).formattedAmount+strings.result.prizeSuffix_buy):"TRY"==u.wagerType&&(c.setMessage(strings.game.statusBar.tryWin),L.endMessage.win.title.text=strings.result.thanksForPlaying,L.endMessage.win.text.text=strings.result.demoWinText,L.endMessage.win.value.text=h.formatCurrency(P,0).formattedAmount+strings.result.prizeSuffix_try),N=createjs.Sound.play("CongratsMessage_D_44kStereo"),l.setFontSize(L.endMessage.win.title,26),l.setLineHeight(L.endMessage.win.title,28),l.autoResize(L.endMessage.win.title,null,35)}else"NONWIN"==C&&(c.setMessage(strings.game.statusBar.nonWin),L.endMessage.gotoAndStop("NONWIN"),L.endMessage.lose.text.text=strings.result.loseText,q=createjs.Sound.play("BadLuckMessage_C_44kStereo"));R&&o.show(B),S.revealAllBtn.visible=!1,S.exitBtn.visible=!0,S.helpBtn.visible=!0,S.exitGameBtn.visible=1==u.jLotteryPhase,2==u.jLotteryPhase&&i.showButtonsAfterCompulsionDelay(),te=0,ie=0,Q=!1,ee="RESULT_SCREEN_STATE"},updateBalance:function(e){i.updateBalanceMeter(e.formattedBalance,!1)},warn:function(e){ee="WARNING_SCREEN_STATE",i.prepareTimeoutWarningMessage(e)},error:function(e){ee="ERROR_SCREEN_STATE",i.displayErrorMessage(e)}};return se}})}();